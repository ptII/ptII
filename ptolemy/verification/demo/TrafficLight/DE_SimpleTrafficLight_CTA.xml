<?xml version="1.0" standalone="no"?>
<!DOCTYPE entity PUBLIC "-//UC Berkeley//DTD MoML 1//EN"
    "http://ptolemy.eecs.berkeley.edu/xml/dtd/MoML_1.dtd">
<entity name="DE_SimpleTrafficLight_CTA" class="ptolemy.actor.TypedCompositeActor">
    <property name="Rectangle" class="ptolemy.vergil.kernel.attributes.RectangleAttribute">
        <property name="_location" class="ptolemy.kernel.util.Location" value="{520.0, 45.0}">
        </property>
        <property name="width" class="ptolemy.data.expr.Parameter" value="30.0">
        </property>
        <property name="height" class="ptolemy.data.expr.Parameter" value="67.0">
        </property>
        <property name="fillColor" class="ptolemy.actor.gui.ColorAttribute" value="{1.0,0.8,0.0,1.0}">
        </property>
        <property name="_renderFirst" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
    </property>
    <property name="_createdBy" class="ptolemy.kernel.attributes.VersionAttribute" value="8.0.beta">
    </property>
    <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={187, 72, 1122, 763}, maximized=false}">
    </property>
    <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[907, 630]">
    </property>
    <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0">
    </property>
    <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{387.1764146959459, 265.1614231418919}">
    </property>
    <property name="Annotation3" class="ptolemy.vergil.kernel.attributes.TextAttribute">
        <property name="textSize" class="ptolemy.data.expr.Parameter" value="12">
        </property>
        <property name="text" class="ptolemy.kernel.util.StringAttribute" value="Pedestrian">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[500.0, 20.0]">
        </property>
    </property>
    <property name="Annotation4" class="ptolemy.vergil.kernel.attributes.TextAttribute">
        <property name="textSize" class="ptolemy.data.expr.Parameter" value="12">
        </property>
        <property name="text" class="ptolemy.kernel.util.StringAttribute" value="Cars">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[580.0, 20.0]">
        </property>
    </property>
    <property name="Ellipse7" class="ptolemy.vergil.kernel.attributes.EllipseAttribute">
        <property name="_location" class="ptolemy.kernel.util.Location" value="[595.0, 65.0]">
        </property>
        <property name="width" class="ptolemy.data.expr.Parameter" value="20.0">
        </property>
        <property name="height" class="ptolemy.data.expr.Parameter" value="20.0">
        </property>
        <property name="fillColor" class="ptolemy.actor.gui.ColorAttribute" value="(Cred == 1) ? {1.0, 0.0, 0.0, 1.0} : {1.0, 1.0, 1.0, 1.0}">
        </property>
    </property>
    <property name="Ellipse" class="ptolemy.vergil.kernel.attributes.EllipseAttribute">
        <property name="_location" class="ptolemy.kernel.util.Location" value="535.0, 95.0">
        </property>
        <property name="width" class="ptolemy.data.expr.Parameter" value="20.0">
        </property>
        <property name="height" class="ptolemy.data.expr.Parameter" value="20.0">
        </property>
        <property name="fillColor" class="ptolemy.actor.gui.ColorAttribute" value="(Pgrn == 1) ? {0.0, 1.0, 0.0, 1.0} : {1.0, 1.0, 1.0, 1.0}">
        </property>
    </property>
    <property name="Rectangle2" class="ptolemy.vergil.kernel.attributes.RectangleAttribute">
        <property name="_location" class="ptolemy.kernel.util.Location" value="[580.0, 45.0]">
        </property>
        <property name="width" class="ptolemy.data.expr.Parameter" value="30.0">
        </property>
        <property name="height" class="ptolemy.data.expr.Parameter" value="100.0">
        </property>
        <property name="fillColor" class="ptolemy.actor.gui.ColorAttribute" value="{1.0,0.8,0.0,1.0}">
        </property>
        <property name="_renderFirst" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
    </property>
    <property name="Pred" class="ptolemy.data.expr.Parameter" value="1">
        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
            </property>
        </property>
        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[695.0, 125.0]">
        </property>
    </property>
    <property name="Pgrn" class="ptolemy.data.expr.Parameter" value="0">
        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
            </property>
        </property>
        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[695.0, 145.0]">
        </property>
    </property>
    <property name="Cred" class="ptolemy.data.expr.Parameter" value="0">
        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
            </property>
        </property>
        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[630.0, 115.0]">
        </property>
    </property>
    <property name="Cyel" class="ptolemy.data.expr.Parameter" value="0">
        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
            </property>
        </property>
        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[630.0, 135.0]">
        </property>
    </property>
    <property name="Cgrn" class="ptolemy.data.expr.Parameter" value="1">
        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
            </property>
        </property>
        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[630.0, 155.0]">
        </property>
    </property>
    <property name="Ellipse2" class="ptolemy.vergil.kernel.attributes.EllipseAttribute">
        <property name="_location" class="ptolemy.kernel.util.Location" value="535.0, 65.0">
        </property>
        <property name="width" class="ptolemy.data.expr.Parameter" value="20.0">
        </property>
        <property name="height" class="ptolemy.data.expr.Parameter" value="20.0">
        </property>
        <property name="fillColor" class="ptolemy.actor.gui.ColorAttribute" value="(Pred == 1) ? {1.0, 0.0, 0.0, 1.0} : {1.0, 1.0, 1.0, 1.0}">
        </property>
    </property>
    <property name="Ellipse3" class="ptolemy.vergil.kernel.attributes.EllipseAttribute">
        <property name="_location" class="ptolemy.kernel.util.Location" value="[595.0, 95.0]">
        </property>
        <property name="width" class="ptolemy.data.expr.Parameter" value="20.0">
        </property>
        <property name="height" class="ptolemy.data.expr.Parameter" value="20.0">
        </property>
        <property name="fillColor" class="ptolemy.actor.gui.ColorAttribute" value="(Cyel == 1) ? {1.0, 1.0, 0.0, 1.0} : {1.0, 1.0, 1.0, 1.0}">
        </property>
    </property>
    <property name="Ellipse4" class="ptolemy.vergil.kernel.attributes.EllipseAttribute">
        <property name="_location" class="ptolemy.kernel.util.Location" value="595.0, 125.0">
        </property>
        <property name="width" class="ptolemy.data.expr.Parameter" value="20.0">
        </property>
        <property name="height" class="ptolemy.data.expr.Parameter" value="20.0">
        </property>
        <property name="fillColor" class="ptolemy.actor.gui.ColorAttribute" value="(Cgrn == 1) ? {0.0, 1.0, 0.0, 1.0} : {1.0, 1.0, 1.0, 1.0}">
        </property>
    </property>
    <property name="Annotation5" class="ptolemy.vergil.kernel.attributes.TextAttribute">
        <property name="textColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.6,0.6,0.6,1.0}">
        </property>
        <property name="text" class="ptolemy.kernel.util.StringAttribute" value="Authors: Reinhard von Hanxleden, Huining Feng, and Edward A. Lee">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="{20.0, 640.0}">
        </property>
    </property>
    <property name="Annotation6" class="ptolemy.vergil.kernel.attributes.TextAttribute">
        <property name="textColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.6,0.6,0.6,1.0}">
        </property>
        <property name="text" class="ptolemy.kernel.util.StringAttribute" value="Authors: Reinhard von Hanxleden, Huining Feng, and Edward A. Lee">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="{260.0, 655.0}">
        </property>
    </property>
    <property name="Annotation7" class="ptolemy.vergil.kernel.attributes.TextAttribute">
        <property name="textSize" class="ptolemy.data.expr.Parameter" value="10">
        </property>
        <property name="textColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.4,0.4,0.4,1.0}">
        </property>
        <property name="text" class="ptolemy.kernel.util.StringAttribute" value="Authors: Chihhong Patrick Cheng, Edward A. Lee, Christopher Brooks">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[-55.0, 515.0]">
        </property>
    </property>
    <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="false">
    </property>
    <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
        <property name="_location" class="ptolemy.kernel.util.Location" value="[25.0, 5.0]">
        </property>
    </property>
    <property name="Formal Model Converter" class="ptolemy.verification.kernel.MathematicalModelConverter">
        <property name="target" class="ptolemy.data.expr.FileParameter" value="test2.d">
            <display name="Target File"/>
        </property>
        <property name="modelType" class="ptolemy.data.expr.ChoiceParameter" value="Communicating Timed Automata (Acceptable by RED under DE)">
            <display name="Model Type"/>
        </property>
        <property name="Formula Type" class="ptolemy.data.expr.ChoiceParameter" value="TCTL">
            <display name="Formula Type"/>
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[20.0, 185.0]">
        </property>
    </property>
    <property name="Annotation" class="ptolemy.vergil.kernel.attributes.TextAttribute">
        <property name="textSize" class="ptolemy.data.expr.Parameter" value="10">
        </property>
        <property name="text" class="ptolemy.kernel.util.StringAttribute" value="General Model Description:&#10;This model describes existing features for Ptolemy II to perform model-checking by translating &#10;the DE model to communicating timed automata.&#10;&#10;In this model, there are three real-time actors. The clock has the period with value 6. In this &#10;setting, the signal (alternating between 0 and 1) occurs with the period of 3. Two TimedDelay actors &#10;specify the fixed delay of the system.&#10;&#10;The behavior of the PedestrianLight should be noted. Although the first transition has the guard &#10;&quot;true&quot;, as shown in the plotter it will not be activated until time approaching 10. This is because &#10;the FSMActor always listens to its input port.&#10;&#10;">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="{310.0, 210.0}">
        </property>
    </property>
    <property name="Annotation2" class="ptolemy.vergil.kernel.attributes.TextAttribute">
        <property name="textSize" class="ptolemy.data.expr.Parameter" value="11">
        </property>
        <property name="textColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.0,0.6,0.2,1.0}">
        </property>
        <property name="text" class="ptolemy.kernel.util.StringAttribute" value="Verification:&#10;To perform verification, double-click on the MathematicalModel &#10;converter. On model type, select &quot;Communicating Timed Automata&quot;, &#10;and set your target file with name in &quot;*.d&quot;, e.g., DE_model.d.&#10;The file itself is not difficult to understand, with detailed&#10;comments mentioning indexes of processes.&#10;&#10;Note that since since in timed automata, the number of states &#10;is finite, for TimedDelay actors abstraction must be performed&#10;to set the buffer size. This can be tuned with the parameter.&#10;&#10;In the following are some possible specification. Copy one &#10;line of the following to an empty file, and rename it as &quot;*.risk&quot;.&#10;&#10;/* Buffer overflow of the TimedDelay actor */&#10;Buffer_Overflow[4];&#10;/* Buffer overflow of the TimedDelay2 actor */&#10;Buffer_Overflow[5];&#10;/* The car light and the pedestrian light will not be green simultaneously */&#10;CarLightNormal_State_Cgrn[1] &amp;&amp; PedestrianLightNormal_State_Pgrn[2];&#10; ">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[-55.0, 225.0]">
        </property>
    </property>
    <property name="Annotation8" class="ptolemy.vergil.kernel.attributes.TextAttribute">
        <property name="textSize" class="ptolemy.data.expr.Parameter" value="10">
        </property>
        <property name="textColor" class="ptolemy.actor.gui.ColorAttribute" value="{1.0,0.0,0.0,1.0}">
        </property>
        <property name="text" class="ptolemy.kernel.util.StringAttribute" value="Execution:&#10;For model checking, please download the model checker RED 7.0 from http://sourceforge.net/projects/redlib. &#10;Assume your converted file is TEST.d, and your generated specification is TEST.risk, with RED 7.0 installed, &#10;you may examine the result of verification by the following instruction: &quot;./red -Tr -C TEST.d TEST.risk&quot;&#10;&#10;Result:&#10;Interestingly, since the rate of the clock is slower than the worst case transmission time of Pgo and Pstop, &#10;the model guarantees the behavior of safety (both lights will not be green simultaneously). If you change the &#10;timing parameters (e.g., clock = 4 [offsets = 2.0; if you don't set this, results from simulation and &#10;verification differ], timedDelay = 1, timedDelay = 5), a counter-example will be shown.">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="{305.0, 355.0}">
        </property>
    </property>
    <property name="Annotation9" class="ptolemy.vergil.kernel.attributes.TextAttribute">
        <property name="textSize" class="ptolemy.data.expr.Parameter" value="9">
        </property>
        <property name="textColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.4,0.4,0.4,1.0}">
        </property>
        <property name="text" class="ptolemy.kernel.util.StringAttribute" value="Remark:&#10;For the TimedDelay actor, the delay is fixed. This model can thus be simplified using &#10;SR modeling with counters. The power of timed automata and related theories lie in &#10;the modeling and the verification of &quot;reals&quot;. In Ptolemy II, you can find the actor &#10;&quot;BoundedBufferNondeterministicDelay&quot; from &quot;More Libraries -- Code Generators -- Verification&quot;. &#10;Note that the semantic of this actor is that it will fire the event in the time strictly &#10;smaller than the user-specified value. But unfortunately, currently these actors can not &#10;be executed under simulation mode.&#10;&#10;">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="{305.0, 480.0}">
        </property>
    </property>
    <entity name="CarLightNormal" class="ptolemy.domains.fsm.kernel.FSMActor">
        <property name="_library" class="ptolemy.moml.LibraryAttribute">
            <configure>
    <entity name="StateLibrary" class="ptolemy.kernel.CompositeEntity"><input source="ptolemy/configs/basicUtilities.xml"></input><entity name="State" class="ptolemy.domains.fsm.kernel.State"><property name="_centerName" class="ptolemy.kernel.util.Attribute"></property></entity></entity>
  </configure>
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[85.0, 85.0]">
        </property>
        <property name="count" class="ptolemy.data.expr.Parameter" value="0">
            <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                </property>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[40.0, 35.0]">
            </property>
        </property>
        <port name="Sec" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="SOUTH">
            </property>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[35.0, 110.0]">
            </property>
        </port>
        <port name="Pgo" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[540.0, 110.0]">
            </property>
        </port>
        <port name="Pstop" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[540.0, 70.0]">
            </property>
        </port>
        <port name="Cred" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="int">
            </property>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[540.0, 160.0]">
            </property>
        </port>
        <port name="Cyel" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="int">
            </property>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[540.0, 255.0]">
            </property>
        </port>
        <port name="Cgrn" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="int">
            </property>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[540.0, 210.0]">
            </property>
        </port>
        <entity name="Cinit" class="ptolemy.domains.fsm.kernel.State">
            <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="true">
            </property>
            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="false">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[135.0, 30.0]">
            </property>
        </entity>
        <entity name="Cred" class="ptolemy.domains.fsm.kernel.State">
            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="false">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[265.0, 120.0]">
            </property>
        </entity>
        <entity name="Credyel" class="ptolemy.domains.fsm.kernel.State">
            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="false">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[340.0, 220.0]">
            </property>
        </entity>
        <entity name="Cgrn" class="ptolemy.domains.fsm.kernel.State">
            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="false">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[288.47109647433376, 325.9991804019532]">
            </property>
        </entity>
        <entity name="Cyel" class="ptolemy.domains.fsm.kernel.State">
            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="false">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[195.0, 270.0]">
            </property>
        </entity>
        <relation name="relation" class="ptolemy.domains.fsm.kernel.Transition">
            <property name="annotation" class="ptolemy.data.expr.StringParameter" value="">
            </property>
            <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="true">
            </property>
            <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="  Cred=1;   Cyel=0;   Cgrn=0">
            </property>
            <property name="setActions" class="ptolemy.domains.fsm.kernel.CommitActionsAttribute" value="count = 0">
            </property>
            <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.3298252672191417">
            </property>
            <property name="gamma" class="ptolemy.data.expr.Parameter" value="0.5124615234238838">
            </property>
            <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
            </property>
            <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
            </property>
            <property name="defaultTransition" class="ptolemy.data.expr.Parameter" value="false">
            </property>
            <property name="nondeterministic" class="ptolemy.data.expr.Parameter" value="false">
            </property>
        </relation>
        <relation name="relation2" class="ptolemy.domains.fsm.kernel.Transition">
            <property name="annotation" class="ptolemy.data.expr.StringParameter" value="">
            </property>
            <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="Sec_isPresent &amp;&amp; count &lt; 2">
            </property>
            <property name="setActions" class="ptolemy.domains.fsm.kernel.CommitActionsAttribute" value="count = count + 1">
            </property>
            <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="2.37457231287643">
            </property>
            <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.106770176520598">
            </property>
            <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
            </property>
            <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
            </property>
            <property name="defaultTransition" class="ptolemy.data.expr.Parameter" value="false">
            </property>
            <property name="nondeterministic" class="ptolemy.data.expr.Parameter" value="false">
            </property>
        </relation>
        <relation name="relation3" class="ptolemy.domains.fsm.kernel.Transition">
            <property name="annotation" class="ptolemy.data.expr.StringParameter" value="">
            </property>
            <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="Sec_isPresent &amp;&amp; count == 2">
            </property>
            <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="Cyel = 1; Pstop = 1">
            </property>
            <property name="setActions" class="ptolemy.domains.fsm.kernel.CommitActionsAttribute" value="count = 0">
            </property>
            <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.3663472415887375">
            </property>
            <property name="gamma" class="ptolemy.data.expr.Parameter" value="0.9466022967752517">
            </property>
            <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
            </property>
            <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
            </property>
            <property name="defaultTransition" class="ptolemy.data.expr.Parameter" value="false">
            </property>
            <property name="nondeterministic" class="ptolemy.data.expr.Parameter" value="false">
            </property>
        </relation>
        <relation name="relation4" class="ptolemy.domains.fsm.kernel.Transition">
            <property name="annotation" class="ptolemy.data.expr.StringParameter" value="">
            </property>
            <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="Sec_isPresent">
            </property>
            <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="Cred = 0 ; Cyel=0 ; Cgrn = 1">
            </property>
            <property name="setActions" class="ptolemy.domains.fsm.kernel.CommitActionsAttribute" value="count = 0">
            </property>
            <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.3997192207271371">
            </property>
            <property name="gamma" class="ptolemy.data.expr.Parameter" value="2.12865144475954">
            </property>
            <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
            </property>
            <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
            </property>
            <property name="defaultTransition" class="ptolemy.data.expr.Parameter" value="false">
            </property>
            <property name="nondeterministic" class="ptolemy.data.expr.Parameter" value="false">
            </property>
        </relation>
        <relation name="relation5" class="ptolemy.domains.fsm.kernel.Transition">
            <property name="annotation" class="ptolemy.data.expr.StringParameter" value="">
            </property>
            <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="Sec_isPresent &amp;&amp; count ==1">
            </property>
            <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="Cyel = 1; Cgrn=0">
            </property>
            <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.5851706532074585">
            </property>
            <property name="gamma" class="ptolemy.data.expr.Parameter" value="3.1112576304732045">
            </property>
            <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
            </property>
            <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
            </property>
            <property name="defaultTransition" class="ptolemy.data.expr.Parameter" value="false">
            </property>
            <property name="nondeterministic" class="ptolemy.data.expr.Parameter" value="false">
            </property>
        </relation>
        <relation name="relation6" class="ptolemy.domains.fsm.kernel.Transition">
            <property name="annotation" class="ptolemy.data.expr.StringParameter" value="">
            </property>
            <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="Sec_isPresent">
            </property>
            <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="Pgo = 1; Cred = 1; Cyel = 0; Cgrn = 0">
            </property>
            <property name="setActions" class="ptolemy.domains.fsm.kernel.CommitActionsAttribute" value="count = 0">
            </property>
            <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.3240577187759756">
            </property>
            <property name="gamma" class="ptolemy.data.expr.Parameter" value="-1.1674944875851097">
            </property>
            <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
            </property>
            <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
            </property>
            <property name="defaultTransition" class="ptolemy.data.expr.Parameter" value="false">
            </property>
            <property name="nondeterministic" class="ptolemy.data.expr.Parameter" value="false">
            </property>
        </relation>
        <relation name="relation7" class="ptolemy.domains.fsm.kernel.Transition">
            <property name="annotation" class="ptolemy.data.expr.StringParameter" value="">
            </property>
            <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="Sec_isPresent &amp;&amp; count &lt; 1">
            </property>
            <property name="setActions" class="ptolemy.domains.fsm.kernel.CommitActionsAttribute" value="count = count +1">
            </property>
            <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="2.324256809445956">
            </property>
            <property name="gamma" class="ptolemy.data.expr.Parameter" value="-0.7108203003142322">
            </property>
            <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
            </property>
            <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
            </property>
            <property name="defaultTransition" class="ptolemy.data.expr.Parameter" value="false">
            </property>
            <property name="nondeterministic" class="ptolemy.data.expr.Parameter" value="false">
            </property>
        </relation>
        <link port="Cinit.outgoingPort" relation="relation"/>
        <link port="Cred.incomingPort" relation="relation"/>
        <link port="Cred.incomingPort" relation="relation2"/>
        <link port="Cred.incomingPort" relation="relation6"/>
        <link port="Cred.outgoingPort" relation="relation2"/>
        <link port="Cred.outgoingPort" relation="relation3"/>
        <link port="Credyel.incomingPort" relation="relation3"/>
        <link port="Credyel.outgoingPort" relation="relation4"/>
        <link port="Cgrn.incomingPort" relation="relation4"/>
        <link port="Cgrn.incomingPort" relation="relation7"/>
        <link port="Cgrn.outgoingPort" relation="relation5"/>
        <link port="Cgrn.outgoingPort" relation="relation7"/>
        <link port="Cyel.incomingPort" relation="relation5"/>
        <link port="Cyel.outgoingPort" relation="relation6"/>
    </entity>
    <entity name="PedestrianLightNormal" class="ptolemy.domains.fsm.kernel.FSMActor">
        <property name="_library" class="ptolemy.moml.LibraryAttribute">
            <configure>
    <entity name="StateLibrary" class="ptolemy.kernel.CompositeEntity"><input source="ptolemy/configs/basicUtilities.xml"></input><entity name="State" class="ptolemy.domains.fsm.kernel.State"><property name="_centerName" class="ptolemy.kernel.util.Attribute"></property></entity></entity>
  </configure>
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[415.0, 85.0]">
        </property>
        <port name="Pgrn" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="int">
            </property>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[500.0, 85.0]">
            </property>
        </port>
        <port name="Pred" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="int">
            </property>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[500.0, 140.0]">
            </property>
        </port>
        <port name="PgoDelay" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{40.0, 150.0}">
            </property>
        </port>
        <port name="PstopDelay" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[40.0, 100.0]">
            </property>
        </port>
        <entity name="Pinit" class="ptolemy.domains.fsm.kernel.State">
            <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="true">
            </property>
            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="false">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[190.0, 95.0]">
            </property>
        </entity>
        <entity name="Pgreen" class="ptolemy.domains.fsm.kernel.State">
            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="false">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[350.0, 200.0]">
            </property>
        </entity>
        <entity name="Pred" class="ptolemy.domains.fsm.kernel.State">
            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="false">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[225.0, 200.0]">
            </property>
        </entity>
        <relation name="relation" class="ptolemy.domains.fsm.kernel.Transition">
            <property name="annotation" class="ptolemy.data.expr.StringParameter" value="">
            </property>
            <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="PgoDelay_isPresent">
            </property>
            <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="Pred=0; Pgrn = 1">
            </property>
            <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
            </property>
            <property name="gamma" class="ptolemy.data.expr.Parameter" value="0.09640117582917482">
            </property>
            <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
            </property>
            <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
            </property>
            <property name="defaultTransition" class="ptolemy.data.expr.Parameter" value="false">
            </property>
            <property name="nondeterministic" class="ptolemy.data.expr.Parameter" value="false">
            </property>
        </relation>
        <relation name="relation2" class="ptolemy.domains.fsm.kernel.Transition">
            <property name="annotation" class="ptolemy.data.expr.StringParameter" value="">
            </property>
            <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="PstopDelay_isPresent">
            </property>
            <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="Pred = 1; Pgrn = 0">
            </property>
            <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
            </property>
            <property name="gamma" class="ptolemy.data.expr.Parameter" value="-3.078890607135539">
            </property>
            <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
            </property>
            <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
            </property>
            <property name="defaultTransition" class="ptolemy.data.expr.Parameter" value="false">
            </property>
            <property name="nondeterministic" class="ptolemy.data.expr.Parameter" value="false">
            </property>
        </relation>
        <relation name="relation3" class="ptolemy.domains.fsm.kernel.Transition">
            <property name="annotation" class="ptolemy.data.expr.StringParameter" value="">
            </property>
            <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="true">
            </property>
            <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="Pred = 1; Pgrn = 0">
            </property>
            <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
            </property>
            <property name="gamma" class="ptolemy.data.expr.Parameter" value="1.3794631870682577">
            </property>
            <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
            </property>
            <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
            </property>
            <property name="defaultTransition" class="ptolemy.data.expr.Parameter" value="false">
            </property>
            <property name="nondeterministic" class="ptolemy.data.expr.Parameter" value="false">
            </property>
        </relation>
        <link port="Pinit.outgoingPort" relation="relation3"/>
        <link port="Pgreen.incomingPort" relation="relation"/>
        <link port="Pgreen.outgoingPort" relation="relation2"/>
        <link port="Pred.incomingPort" relation="relation2"/>
        <link port="Pred.incomingPort" relation="relation3"/>
        <link port="Pred.outgoingPort" relation="relation"/>
    </entity>
    <entity name="SetVariable" class="ptolemy.actor.lib.SetVariable">
        <property name="variableName" class="ptolemy.kernel.util.StringAttribute" value="Pred">
        </property>
        <property name="delayed" class="ptolemy.data.expr.Parameter" value="false">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
            <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="variableName">
            </property>
            <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
            </property>
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[490.0, 155.0]">
        </property>
    </entity>
    <entity name="SetVariable2" class="ptolemy.actor.lib.SetVariable">
        <property name="variableName" class="ptolemy.kernel.util.StringAttribute" value="Pgrn">
        </property>
        <property name="delayed" class="ptolemy.data.expr.Parameter" value="false">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
            <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="variableName">
            </property>
            <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
            </property>
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[515.0, 0.0]">
        </property>
    </entity>
    <entity name="SetVariable3" class="ptolemy.actor.lib.SetVariable">
        <property name="variableName" class="ptolemy.kernel.util.StringAttribute" value="Cred">
        </property>
        <property name="delayed" class="ptolemy.data.expr.Parameter" value="false">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
            <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="variableName">
            </property>
            <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
            </property>
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[275.0, 125.0]">
        </property>
    </entity>
    <entity name="SetVariable4" class="ptolemy.actor.lib.SetVariable">
        <property name="variableName" class="ptolemy.kernel.util.StringAttribute" value="Cyel">
        </property>
        <property name="delayed" class="ptolemy.data.expr.Parameter" value="false">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
            <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="variableName">
            </property>
            <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
            </property>
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[255.0, 170.0]">
        </property>
    </entity>
    <entity name="SetVariable5" class="ptolemy.actor.lib.SetVariable">
        <property name="variableName" class="ptolemy.kernel.util.StringAttribute" value="Cgrn">
        </property>
        <property name="delayed" class="ptolemy.data.expr.Parameter" value="false">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
            <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="variableName">
            </property>
            <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
            </property>
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[210.0, 205.0]">
        </property>
    </entity>
    <entity name="Clock" class="ptolemy.actor.lib.Clock">
        <property name="period" class="ptolemy.actor.parameters.PortParameter" value="6.0">
        </property>
        <property name="offsets" class="ptolemy.data.expr.Parameter" value="{0.0, 3.0}">
        </property>
        <doc>Create periodic timed events.</doc>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[-5.0, 120.0]">
        </property>
    </entity>
    <entity name="TimedDelay" class="ptolemy.domains.de.lib.TimedDelay">
        <property name="_location" class="ptolemy.kernel.util.Location" value="[250.0, 0.0]">
        </property>
    </entity>
    <entity name="TimedDelay2" class="ptolemy.domains.de.lib.TimedDelay">
        <property name="delay" class="ptolemy.data.expr.Parameter" value="2.0">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[245.0, 75.0]">
        </property>
    </entity>
    <entity name="TimedPlotter" class="ptolemy.actor.lib.gui.TimedPlotter">
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={215, 606, 1419, 385}, maximized=false}">
        </property>
        <property name="_plotSize" class="ptolemy.actor.gui.SizeAttribute" value="[1411, 314]">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[730.0, 195.0]">
        </property>
        <configure>
<?plotml <!DOCTYPE plot PUBLIC "-//UC Berkeley//DTD PlotML 1//EN"
"http://ptolemy.eecs.berkeley.edu/xml/dtd/PlotML_1.dtd">
<plot>
<title>TimedPlotter</title>
<xRange min="0.0" max="47064.0"/>
<yRange min="0.0" max="1.0"/>
</plot>?>
        </configure>
    </entity>
    <relation name="relation7" class="ptolemy.actor.TypedIORelation">
        <property name="width" class="ptolemy.data.expr.Parameter" value="1">
        </property>
    </relation>
    <relation name="relation8" class="ptolemy.actor.TypedIORelation">
        <property name="width" class="ptolemy.data.expr.Parameter" value="1">
        </property>
    </relation>
    <relation name="relation4" class="ptolemy.actor.TypedIORelation">
        <property name="width" class="ptolemy.data.expr.Parameter" value="1">
        </property>
    </relation>
    <relation name="relation5" class="ptolemy.actor.TypedIORelation">
        <property name="width" class="ptolemy.data.expr.Parameter" value="1">
        </property>
    </relation>
    <relation name="relation6" class="ptolemy.actor.TypedIORelation">
        <property name="width" class="ptolemy.data.expr.Parameter" value="1">
        </property>
    </relation>
    <relation name="relation2" class="ptolemy.actor.TypedIORelation">
        <property name="width" class="ptolemy.data.expr.Parameter" value="1">
        </property>
    </relation>
    <relation name="relation3" class="ptolemy.actor.TypedIORelation">
        <property name="width" class="ptolemy.data.expr.Parameter" value="1">
        </property>
    </relation>
    <relation name="relation9" class="ptolemy.actor.TypedIORelation">
        <property name="width" class="ptolemy.data.expr.Parameter" value="1">
        </property>
    </relation>
    <relation name="relation10" class="ptolemy.actor.TypedIORelation">
        <property name="width" class="ptolemy.data.expr.Parameter" value="1">
        </property>
    </relation>
    <relation name="relation" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation11" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation12" class="ptolemy.actor.TypedIORelation">
    </relation>
    <link port="CarLightNormal.Sec" relation="relation12"/>
    <link port="CarLightNormal.Pgo" relation="relation2"/>
    <link port="CarLightNormal.Pstop" relation="relation9"/>
    <link port="CarLightNormal.Cred" relation="relation4"/>
    <link port="CarLightNormal.Cyel" relation="relation5"/>
    <link port="CarLightNormal.Cgrn" relation="relation6"/>
    <link port="PedestrianLightNormal.Pgrn" relation="relation8"/>
    <link port="PedestrianLightNormal.Pred" relation="relation7"/>
    <link port="PedestrianLightNormal.PgoDelay" relation="relation3"/>
    <link port="PedestrianLightNormal.PstopDelay" relation="relation10"/>
    <link port="SetVariable.input" relation="relation7"/>
    <link port="SetVariable2.input" relation="relation8"/>
    <link port="SetVariable2.output" relation="relation"/>
    <link port="SetVariable3.input" relation="relation4"/>
    <link port="SetVariable4.input" relation="relation5"/>
    <link port="SetVariable5.input" relation="relation6"/>
    <link port="SetVariable5.output" relation="relation11"/>
    <link port="Clock.output" relation="relation12"/>
    <link port="TimedDelay.input" relation="relation2"/>
    <link port="TimedDelay.output" relation="relation3"/>
    <link port="TimedDelay2.input" relation="relation9"/>
    <link port="TimedDelay2.output" relation="relation10"/>
    <link port="TimedPlotter.input" relation="relation"/>
    <link port="TimedPlotter.input" relation="relation11"/>
</entity>
