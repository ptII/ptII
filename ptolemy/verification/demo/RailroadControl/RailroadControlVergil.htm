<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- : $Id: modelVergil.htm.in 56535 2009-12-09 04:18:30Z cxh $
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<link href="../../../../doc/default.css" rel="stylesheet" type="text/css">
<title>RailroadControl</title>
</head>
<body>
<h1>RailroadControl</h1>
This page contains an applet that should appear as a separate window.
<p>The undesired behavior is to have the gate open when the train is crossing the gate.
We want to check whether this undesired behavior can occur. To do this, we state
the problem as a model-checking problem. We generate automatically a model of the
system using the Formal Model Converter. We can also specify formally the property
that this model must satisfy, as a temporal logic property, for instance. Then we
use a model-checker to check that the model satisfies the property.

Using the Formal Model Converter with the model-checker NuSMV:
- double click on the Formal Model Converter box
- specify the Target File where the NuSMV model is to be stored
- select Kripke Structures as Model Type
- select CTL as Formula Type
- select Text Only as Output Type
- copy the following CTL formula in the Temporal Formula field:
           !EF (Train.state=within & Gate.state=open)
- click Convert: you should get a file with the Kripke model 
- run NuSMV on the file you just generated, e.g.:
            /myPath/NuSMV myTargetFile.kripke
- you should get as output that the formula is true on this model

Using the Formal Model Converter with the model-checker Real-Time Maude:
- follow steps similar to the above, except that you should:
- select Real Time Maude Translation
- copy the following formula in the Temporal Formula field:
           [] ~ ('Train @ 'within /\ 'Gate @ 'open)
- run rtmaude as follows:
           /myPath/maude real-time-maude.maude
           Maude> load myTargetFile.rtmaude
</p>

<p>
 <!-- All of the controls of the applet should be visible when the
applet is displayed on a XGA screen-->
<CENTER>
<!-- PT SIMPLE APPLET CONVERTER -->
<APPLET 
 code = "ptolemy.vergil.VergilApplet"
 codebase = "../../../.."
  archive = "ptolemy/verification/demo/RailroadControl/RailroadControl.jar,ptolemy/domains/sr/sr.jar,ptolemy/ptsupport.jar,ptolemy/verification/verification.jar,ptolemy/domains/de/de.jar,ptolemy/domains/fsm/fsm.jar,ptolemy/domains/modal/modal.jar,ptolemy/domains/ct/ct.jar,lib/diva.jar,ptolemy/vergil/vergilApplet.jar"
  width = "100"
  height = "100"
  >
 <!-- PARAM name="jnlp_href" value="ptolemy/verification/demo/RailroadControl/RailroadControl.jnlp" -->
 <PARAM NAME = "commandLineArguments" VALUE = "-ptinyViewer RailroadControl.xml">
 <PARAM NAME = "NAME" VALUE = "RailroadControl" >
 <PARAM NAME = "background" VALUE = "#ffffff" >
 <PARAM NAME = "controls" VALUE = "buttons" >
 <PARAM NAME = "orientation" VALUE = "vertical" > \
 <PARAM NAME = "modelURL" VALUE = "RailroadControl.xml" > \
 <a href="RailroadControl.xml">MoML specification for this model.</a> \
</APPLET>
<!-- /PT SIMPLE APPLET CONVERTER -->
</CENTER>
</p>
</body>
</html>
