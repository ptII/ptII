<?xml version="1.0" standalone="no"?>
<!DOCTYPE entity PUBLIC "-//UC Berkeley//DTD MoML 1//EN"
    "http://ptolemy.eecs.berkeley.edu/xml/dtd/MoML_1.dtd">
<entity name="Engine" class="ptolemy.actor.TypedCompositeActor">
    <property name="_createdBy" class="ptolemy.kernel.attributes.VersionAttribute" value="5.0-alpha">
    </property>
    <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[817, 628]">
    </property>
    <property name="_vergilLocation" class="ptolemy.actor.gui.LocationAttribute" value="[14, 24]">
    </property>
    <property name="phi_o1" class="ptolemy.data.expr.Parameter" value="0.0">
        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <property name="phi_o1" class="ptolemy.vergil.icon.ValueIcon">
        </property>
        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="90.0, 80.0">
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
        </property>
    </property>
    <property name="G" class="ptolemy.data.expr.Parameter" value="2.5e4">
        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <property name="G" class="ptolemy.vergil.icon.ValueIcon">
        </property>
        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="90.0, 155.0">
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
        </property>
    </property>
    <property name="gi" class="ptolemy.data.expr.Parameter" value="1.93e-3">
        <property name="gi" class="ptolemy.vergil.icon.ValueIcon">
        </property>
        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="90.0, 105.0">
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
        </property>
    </property>
    <property name="Ti_off" class="ptolemy.data.expr.Parameter" value=".75e-3">
        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <property name="Ti_off" class="ptolemy.vergil.icon.ValueIcon">
        </property>
        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="90.0, 130.0">
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
        </property>
    </property>
    <property name="CT Director" class="ptolemy.domains.ct.kernel.CTMixedSignalDirector">
        <property name="startTime" class="ptolemy.data.expr.Parameter" value="0.0">
        </property>
        <property name="stopTime" class="ptolemy.data.expr.Parameter" value="10">
        </property>
        <property name="initStepSize" class="ptolemy.data.expr.Parameter" value="0.1">
        </property>
        <property name="minStepSize" class="ptolemy.data.expr.Parameter" value="1.0E-5">
        </property>
        <property name="maxStepSize" class="ptolemy.data.expr.Parameter" value="1.0">
        </property>
        <property name="maxIterations" class="ptolemy.data.expr.Parameter" value="20">
        </property>
        <property name="errorTolerance" class="ptolemy.data.expr.Parameter" value="1.0E-4">
        </property>
        <property name="valueResolution" class="ptolemy.data.expr.Parameter" value="1.0E-6">
        </property>
        <property name="synchronizeToRealTime" class="ptolemy.data.expr.Parameter" value="false">
        </property>
        <property name="ODESolver" class="ptolemy.data.expr.Parameter" value="&quot;ptolemy.domains.ct.kernel.solver.ExplicitRK23Solver&quot;">
            <property name="style" class="ptolemy.actor.gui.style.EditableChoiceStyle">
                <property name="choice0" class="ptolemy.data.expr.Parameter" value="&quot;ptolemy.domains.ct.kernel.solver.ExplicitRK23Solver&quot;">
                </property>
                <property name="choice1" class="ptolemy.data.expr.Parameter" value="&quot;ptolemy.domains.ct.kernel.solver.BackwardEulerSolver&quot;">
                </property>
                <property name="choice2" class="ptolemy.data.expr.Parameter" value="&quot;ptolemy.domains.ct.kernel.solver.ForwardEulerSolver&quot;">
                </property>
            </property>
        </property>
        <property name="breakpointODESolver" class="ptolemy.data.expr.Parameter" value="&quot;ptolemy.domains.ct.kernel.solver.DerivativeResolver&quot;">
            <property name="style" class="ptolemy.actor.gui.style.EditableChoiceStyle">
                <property name="choice0" class="ptolemy.data.expr.Parameter" value="&quot;ptolemy.domains.ct.kernel.solver.DerivativeResolver&quot;">
                </property>
                <property name="choice1" class="ptolemy.data.expr.Parameter" value="&quot;ptolemy.domains.ct.kernel.solver.BackwardEulerSolver&quot;">
                </property>
                <property name="choice2" class="ptolemy.data.expr.Parameter" value="&quot;ptolemy.domains.ct.kernel.solver.ImpulseBESolver&quot;">
                </property>
            </property>
        </property>
        <property name="runAheadLength" class="ptolemy.data.expr.Parameter" value="0.1">
        </property>
        <property name="timeResolution" class="ptolemy.data.expr.Parameter" value="1.0E-10">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="-65.0, 70.0">
        </property>
    </property>
    <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={-4, -4, 1032, 746}, maximized=false}">
    </property>
    <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="0.7966072943172">
    </property>
    <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{394.7997231686545, 436.2966354344126}">
    </property>
    <entity name="Cylinder_01" class="ptolemy.domains.fsm.modal.ModalModel">
        <property name="_tableauFactory" class="ptolemy.vergil.fsm.modal.ModalTableauFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="395.0, 545.0">
        </property>
        <port name="torque" class="ptolemy.domains.fsm.modal.ModalPort">
            <property name="output"/>
        </port>
        <port name="trigger" class="ptolemy.domains.fsm.modal.ModalPort">
            <property name="output"/>
        </port>
        <port name="phi_c1" class="ptolemy.domains.fsm.modal.ModalPort">
            <property name="input"/>
        </port>
        <port name="Tm" class="ptolemy.domains.fsm.modal.ModalPort">
            <property name="input"/>
        </port>
        <port name="phi_sp1" class="ptolemy.domains.fsm.modal.ModalPort">
            <property name="input"/>
        </port>
        <entity name="_Controller" class="ptolemy.domains.fsm.modal.ModalController">
            <property name="initialStateName" class="ptolemy.kernel.util.StringAttribute" value="Intake">
            </property>
            <property name="_library" class="ptolemy.moml.LibraryAttribute">
                <configure>
    <entity name="state library" class="ptolemy.kernel.CompositeEntity"><input source="ptolemy/configs/annotation.xml"></input><entity name="state" class="ptolemy.domains.fsm.kernel.State"><property name="_centerName" class="ptolemy.kernel.util.Attribute"></property></entity></entity>
  </configure>
            </property>
            <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[806, 604]">
            </property>
            <property name="_vergilLocation" class="ptolemy.actor.gui.LocationAttribute" value="[33, 56]">
            </property>
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={0, 8, 1021, 722}, maximized=false}">
            </property>
            <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="0.8129034971505">
            </property>
            <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{572.7538027731788, 456.4921875}">
            </property>
            <port name="torque" class="ptolemy.domains.fsm.modal.RefinementPort">
                <property name="input"/>
                <property name="output"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="875.0, 220.0">
                </property>
            </port>
            <port name="trigger" class="ptolemy.domains.fsm.modal.RefinementPort">
                <property name="input"/>
                <property name="output"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="815.0, 220.0">
                </property>
            </port>
            <port name="phi_c1" class="ptolemy.domains.fsm.modal.RefinementPort">
                <property name="input"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="135.0, 110.0">
                </property>
            </port>
            <port name="Tm" class="ptolemy.domains.fsm.modal.RefinementPort">
                <property name="input"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="135.0, 160.0">
                </property>
            </port>
            <port name="phi_sp1" class="ptolemy.domains.fsm.modal.RefinementPort">
                <property name="input"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="135.0, 215.0">
                </property>
            </port>
            <entity name="Intake" class="ptolemy.domains.fsm.kernel.State">
                <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="Intake">
                </property>
                <property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="100.0, 295.0">
                </property>
            </entity>
            <entity name="Compression" class="ptolemy.domains.fsm.kernel.State">
                <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="Compression">
                </property>
                <property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="315.0, 300.0">
                </property>
            </entity>
            <entity name="Cmp_w_Ign" class="ptolemy.domains.fsm.kernel.State">
                <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="Cmp_w_Ign">
                </property>
                <property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="485.0, 215.0">
                </property>
            </entity>
            <entity name="Exp_wo_Ign" class="ptolemy.domains.fsm.kernel.State">
                <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="Exp_wo_Ign">
                </property>
                <property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="490.0, 470.0">
                </property>
            </entity>
            <entity name="Exp_w_Ign" class="ptolemy.domains.fsm.kernel.State">
                <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="Exp_w_Ign">
                </property>
                <property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="655.0, 285.0">
                </property>
            </entity>
            <entity name="Exhaust" class="ptolemy.domains.fsm.kernel.State">
                <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="Exhaust-01">
                </property>
                <property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="910.0, 360.0">
                </property>
            </entity>
            <entity name="Exh_w_neg_phi_o1" class="ptolemy.domains.fsm.kernel.State">
                <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="Exhaust-02">
                </property>
                <property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="495.0, 805.0">
                </property>
            </entity>
            <entity name="Exh_w_pos_phi_o1" class="ptolemy.domains.fsm.kernel.State">
                <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="Exh_w_pos_phi_o1">
                </property>
                <property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="495.0, 695.0">
                </property>
            </entity>
            <relation name="relation" class="ptolemy.domains.fsm.kernel.Transition">
                <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="trigger_isPresent">
                </property>
                <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.624883133488305">
                </property>
                <property name="gamma" class="ptolemy.data.expr.Parameter" value="0.056431244969125965">
                </property>
                <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                </property>
            </relation>
            <relation name="relation2" class="ptolemy.domains.fsm.kernel.Transition">
                <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="trigger_isPresent &amp;&amp; phi_sp1&gt;0.0">
                </property>
                <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-1.0558395153266946">
                </property>
                <property name="gamma" class="ptolemy.data.expr.Parameter" value="-0.5968312461126221">
                </property>
                <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                </property>
            </relation>
            <relation name="relation3" class="ptolemy.domains.fsm.kernel.Transition">
                <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="trigger_isPresent &amp;&amp; phi_sp1&lt;0.0">
                </property>
                <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="1.0265664952271445">
                </property>
                <property name="gamma" class="ptolemy.data.expr.Parameter" value="0.743623412129494">
                </property>
                <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                </property>
            </relation>
            <relation name="relation4" class="ptolemy.domains.fsm.kernel.Transition">
                <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="trigger_isPresent &amp;&amp; phi_sp1==0.0">
                </property>
                <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.3638039595726517">
                </property>
                <property name="gamma" class="ptolemy.data.expr.Parameter" value="0.05712425516303939">
                </property>
                <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                </property>
            </relation>
            <relation name="relation5" class="ptolemy.domains.fsm.kernel.Transition">
                <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="trigger_isPresent">
                </property>
                <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-1.0564671305987159">
                </property>
                <property name="gamma" class="ptolemy.data.expr.Parameter" value="0.35669191228583436">
                </property>
                <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                </property>
            </relation>
            <relation name="relation6" class="ptolemy.domains.fsm.kernel.Transition">
                <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="trigger_isPresent">
                </property>
                <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="1.1813033969718139">
                </property>
                <property name="gamma" class="ptolemy.data.expr.Parameter" value="-0.6508888986281393">
                </property>
                <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                </property>
            </relation>
            <relation name="relation7" class="ptolemy.domains.fsm.kernel.Transition">
                <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="trigger_isPresent">
                </property>
                <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.550665993681796">
                </property>
                <property name="gamma" class="ptolemy.data.expr.Parameter" value="-0.08490758193677382">
                </property>
                <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                </property>
            </relation>
            <relation name="relation8" class="ptolemy.domains.fsm.kernel.Transition">
                <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="trigger_isPresent &amp;&amp; phi_o1==0.0">
                </property>
                <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-1.1387671613576662">
                </property>
                <property name="gamma" class="ptolemy.data.expr.Parameter" value="-3.0732018019917864">
                </property>
                <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                </property>
            </relation>
            <relation name="relation9" class="ptolemy.domains.fsm.kernel.Transition">
                <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="trigger_isPresent &amp;&amp; phi_o1&lt;0.0">
                </property>
                <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.8387433323811039">
                </property>
                <property name="gamma" class="ptolemy.data.expr.Parameter" value="2.2503887281258574">
                </property>
                <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                </property>
            </relation>
            <relation name="relation10" class="ptolemy.domains.fsm.kernel.Transition">
                <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="trigger_isPresent">
                </property>
                <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.9020326346151709">
                </property>
                <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.271121514956387">
                </property>
                <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                </property>
            </relation>
            <relation name="relation11" class="ptolemy.domains.fsm.kernel.Transition">
                <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="trigger_isPresent &amp;&amp; phi_o1&gt;0.0">
                </property>
                <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.5328589299865786">
                </property>
                <property name="gamma" class="ptolemy.data.expr.Parameter" value="1.8229883609183166">
                </property>
                <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                </property>
            </relation>
            <relation name="relation12" class="ptolemy.domains.fsm.kernel.Transition">
                <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="trigger_isPresent">
                </property>
                <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.7400803112264472">
                </property>
                <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.380133281845711">
                </property>
                <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                </property>
            </relation>
            <link port="Intake.incomingPort" relation="relation8"/>
            <link port="Intake.incomingPort" relation="relation10"/>
            <link port="Intake.incomingPort" relation="relation12"/>
            <link port="Intake.outgoingPort" relation="relation"/>
            <link port="Compression.incomingPort" relation="relation"/>
            <link port="Compression.outgoingPort" relation="relation2"/>
            <link port="Compression.outgoingPort" relation="relation3"/>
            <link port="Compression.outgoingPort" relation="relation4"/>
            <link port="Cmp_w_Ign.incomingPort" relation="relation2"/>
            <link port="Cmp_w_Ign.outgoingPort" relation="relation5"/>
            <link port="Exp_wo_Ign.incomingPort" relation="relation3"/>
            <link port="Exp_wo_Ign.outgoingPort" relation="relation6"/>
            <link port="Exp_w_Ign.incomingPort" relation="relation4"/>
            <link port="Exp_w_Ign.incomingPort" relation="relation5"/>
            <link port="Exp_w_Ign.incomingPort" relation="relation6"/>
            <link port="Exp_w_Ign.outgoingPort" relation="relation7"/>
            <link port="Exhaust.incomingPort" relation="relation7"/>
            <link port="Exhaust.outgoingPort" relation="relation8"/>
            <link port="Exhaust.outgoingPort" relation="relation9"/>
            <link port="Exhaust.outgoingPort" relation="relation11"/>
            <link port="Exh_w_neg_phi_o1.incomingPort" relation="relation9"/>
            <link port="Exh_w_neg_phi_o1.outgoingPort" relation="relation10"/>
            <link port="Exh_w_pos_phi_o1.incomingPort" relation="relation11"/>
            <link port="Exh_w_pos_phi_o1.outgoingPort" relation="relation12"/>
        </entity>
        <entity name="Intake" class="ptolemy.domains.fsm.modal.Refinement">
            <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[844, 559]">
            </property>
            <property name="_vergilLocation" class="ptolemy.actor.gui.LocationAttribute" value="[110, 173]">
            </property>
            <property name="CTEmbedded Director" class="ptolemy.domains.ct.kernel.CTEmbeddedDirector">
                <property name="startTime" class="ptolemy.data.expr.Parameter" value="0.0">
                </property>
                <property name="stopTime" class="ptolemy.data.expr.Parameter" value="1.7976931348623E308">
                </property>
                <property name="initStepSize" class="ptolemy.data.expr.Parameter" value="0.1">
                </property>
                <property name="minStepSize" class="ptolemy.data.expr.Parameter" value="1.0E-5">
                </property>
                <property name="maxStepSize" class="ptolemy.data.expr.Parameter" value="1.0">
                </property>
                <property name="maxIterations" class="ptolemy.data.expr.Parameter" value="20">
                </property>
                <property name="errorTolerance" class="ptolemy.data.expr.Parameter" value="1.0E-4">
                </property>
                <property name="valueResolution" class="ptolemy.data.expr.Parameter" value="1.0E-6">
                </property>
                <property name="synchronizeToRealTime" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <property name="ODESolver" class="ptolemy.data.expr.Parameter" value="&quot;ptolemy.domains.ct.kernel.solver.ExplicitRK23Solver&quot;">
                    <property name="style" class="ptolemy.actor.gui.style.EditableChoiceStyle">
                        <property name="choice0" class="ptolemy.data.expr.Parameter" value="&quot;ptolemy.domains.ct.kernel.solver.ExplicitRK23Solver&quot;">
                        </property>
                        <property name="choice1" class="ptolemy.data.expr.Parameter" value="&quot;ptolemy.domains.ct.kernel.solver.BackwardEulerSolver&quot;">
                        </property>
                        <property name="choice2" class="ptolemy.data.expr.Parameter" value="&quot;ptolemy.domains.ct.kernel.solver.ForwardEulerSolver&quot;">
                        </property>
                    </property>
                </property>
                <property name="breakpointODESolver" class="ptolemy.data.expr.Parameter" value="&quot;ptolemy.domains.ct.kernel.solver.DerivativeResolver&quot;">
                    <property name="style" class="ptolemy.actor.gui.style.EditableChoiceStyle">
                        <property name="choice0" class="ptolemy.data.expr.Parameter" value="&quot;ptolemy.domains.ct.kernel.solver.DerivativeResolver&quot;">
                        </property>
                        <property name="choice1" class="ptolemy.data.expr.Parameter" value="&quot;ptolemy.domains.ct.kernel.solver.BackwardEulerSolver&quot;">
                        </property>
                        <property name="choice2" class="ptolemy.data.expr.Parameter" value="&quot;ptolemy.domains.ct.kernel.solver.ImpulseBESolver&quot;">
                        </property>
                    </property>
                </property>
                <property name="timeResolution" class="ptolemy.data.expr.Parameter" value="1.0E-10">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="85.0, 90.0">
                </property>
            </property>
            <port name="torque" class="ptolemy.domains.fsm.modal.RefinementPort">
                <property name="output"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="725.0, 335.0">
                </property>
            </port>
            <port name="trigger" class="ptolemy.domains.fsm.modal.RefinementPort">
                <property name="output"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="720.0, 210.0">
                </property>
            </port>
            <port name="phi_c1" class="ptolemy.domains.fsm.modal.RefinementPort">
                <property name="input"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="35.0, 220.0">
                </property>
            </port>
            <port name="Tm" class="ptolemy.domains.fsm.modal.RefinementPort">
                <property name="input"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="40.0, 420.0">
                </property>
            </port>
            <port name="phi_sp1" class="ptolemy.domains.fsm.modal.RefinementPort">
                <property name="input"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="35.0, 150.0">
                </property>
            </port>
            <entity name="LevelCrossing_at_180" class="ptolemy.domains.ct.lib.LevelCrossingDetector">
                <property name="level" class="ptolemy.data.expr.Parameter" value="180.0">
                </property>
                <property name="defaultEventValue" class="ptolemy.data.expr.Parameter" value="0.0">
                </property>
                <property name="errorTolerance" class="ptolemy.data.expr.Parameter" value="1.0E-1">
                </property>
                <property name="LevelCrossingDetectorIcon" class="ptolemy.vergil.icon.EditorIcon">
                    <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={104, 125, 815, 518}, maximized=false}">
                    </property>
                    <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[600, 400]">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="275.0, 210.0">
                </property>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                    <property name="signalType" class="ptolemy.data.expr.Parameter" value="&quot;DISCRETE&quot;">
                    </property>
                </port>
                <port name="trigger" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="signalType" class="ptolemy.data.expr.Parameter" value="&quot;CONTINUOUS&quot;">
                    </property>
                </port>
                <port name="input" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="signalType" class="ptolemy.data.expr.Parameter" value="&quot;CONTINUOUS&quot;">
                    </property>
                </port>
            </entity>
            <entity name="phi_c1_to_radians" class="ptolemy.actor.lib.Expression">
                <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="(phi_c1+360.0)*pi/180.0">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="165.0, 300.0">
                </property>
                <port name="phi_c1" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
            </entity>
            <entity name="Expression" class="ptolemy.actor.lib.Expression">
                <property name="expression" class="ptolemy.kernel.util.StringAttribute" value=".1*T*(sin(phi_c1/2.0)+.5*sin(phi_c1)+(1.0/6.0)*sin(3.0*phi_c1/2.0))">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="460.0, 410.0">
                </property>
                <port name="phi_c1" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
                <port name="T" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
            </entity>
            <relation name="relation3" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation4" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="60.0, 220.0">
                </vertex>
            </relation>
            <relation name="relation8" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation10" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="torque" relation="relation"/>
            <link port="trigger" relation="relation3"/>
            <link port="phi_c1" relation="relation4"/>
            <link port="Tm" relation="relation8"/>
            <link port="LevelCrossing_at_180.output" relation="relation3"/>
            <link port="LevelCrossing_at_180.trigger" relation="relation4"/>
            <link port="phi_c1_to_radians.output" relation="relation10"/>
            <link port="phi_c1_to_radians.phi_c1" relation="relation4"/>
            <link port="Expression.output" relation="relation"/>
            <link port="Expression.phi_c1" relation="relation10"/>
            <link port="Expression.T" relation="relation8"/>
        </entity>
        <entity name="Compression" class="ptolemy.domains.fsm.modal.Refinement">
            <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[1001, 860]">
            </property>
            <property name="_vergilLocation" class="ptolemy.actor.gui.LocationAttribute" value="[4, 7]">
            </property>
            <property name="CTEmbedded Director" class="ptolemy.domains.ct.kernel.CTEmbeddedDirector">
                <property name="startTime" class="ptolemy.data.expr.Parameter" value="0.0">
                </property>
                <property name="stopTime" class="ptolemy.data.expr.Parameter" value="1.7976931348623E308">
                </property>
                <property name="initStepSize" class="ptolemy.data.expr.Parameter" value="0.1">
                </property>
                <property name="minStepSize" class="ptolemy.data.expr.Parameter" value="1.0E-5">
                </property>
                <property name="maxStepSize" class="ptolemy.data.expr.Parameter" value="1.0">
                </property>
                <property name="maxIterations" class="ptolemy.data.expr.Parameter" value="20">
                </property>
                <property name="errorTolerance" class="ptolemy.data.expr.Parameter" value="1.0E-4">
                </property>
                <property name="valueResolution" class="ptolemy.data.expr.Parameter" value="1.0E-6">
                </property>
                <property name="synchronizeToRealTime" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <property name="ODESolver" class="ptolemy.data.expr.Parameter" value="&quot;ptolemy.domains.ct.kernel.solver.ExplicitRK23Solver&quot;">
                    <property name="style" class="ptolemy.actor.gui.style.EditableChoiceStyle">
                        <property name="choice0" class="ptolemy.data.expr.Parameter" value="&quot;ptolemy.domains.ct.kernel.solver.ExplicitRK23Solver&quot;">
                        </property>
                        <property name="choice1" class="ptolemy.data.expr.Parameter" value="&quot;ptolemy.domains.ct.kernel.solver.BackwardEulerSolver&quot;">
                        </property>
                        <property name="choice2" class="ptolemy.data.expr.Parameter" value="&quot;ptolemy.domains.ct.kernel.solver.ForwardEulerSolver&quot;">
                        </property>
                    </property>
                </property>
                <property name="breakpointODESolver" class="ptolemy.data.expr.Parameter" value="&quot;ptolemy.domains.ct.kernel.solver.DerivativeResolver&quot;">
                    <property name="style" class="ptolemy.actor.gui.style.EditableChoiceStyle">
                        <property name="choice0" class="ptolemy.data.expr.Parameter" value="&quot;ptolemy.domains.ct.kernel.solver.DerivativeResolver&quot;">
                        </property>
                        <property name="choice1" class="ptolemy.data.expr.Parameter" value="&quot;ptolemy.domains.ct.kernel.solver.BackwardEulerSolver&quot;">
                        </property>
                        <property name="choice2" class="ptolemy.data.expr.Parameter" value="&quot;ptolemy.domains.ct.kernel.solver.ImpulseBESolver&quot;">
                        </property>
                    </property>
                </property>
                <property name="timeResolution" class="ptolemy.data.expr.Parameter" value="1.0E-10">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="95.0, 90.0">
                </property>
            </property>
            <port name="torque" class="ptolemy.domains.fsm.modal.RefinementPort">
                <property name="output"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="840.0, 435.0">
                </property>
            </port>
            <port name="trigger" class="ptolemy.domains.fsm.modal.RefinementPort">
                <property name="output"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="840.0, 285.0">
                </property>
            </port>
            <port name="phi_c1" class="ptolemy.domains.fsm.modal.RefinementPort">
                <property name="input"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="55.0, 335.0">
                </property>
            </port>
            <port name="Tm" class="ptolemy.domains.fsm.modal.RefinementPort">
                <property name="input"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="65.0, 445.0">
                </property>
            </port>
            <port name="phi_sp1" class="ptolemy.domains.fsm.modal.RefinementPort">
                <property name="input"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="55.0, 235.0">
                </property>
            </port>
            <entity name="Compression_Torque" class="ptolemy.actor.lib.Expression">
                <property name="expression" class="ptolemy.kernel.util.StringAttribute" value=".1*Tm*(sin(phi_c1/2.0)+.5*sin(phi_c1)+(1.0/6.0)*sin(3.0*phi_c1/2.0))">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="530.0, 435.0">
                </property>
                <port name="phi_c1" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
                <port name="Tm" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
            </entity>
            <entity name="phi_c1_to_radians" class="ptolemy.actor.lib.Expression">
                <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="(phi_c1+360.0)*pi/180.0">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="220.0, 385.0">
                </property>
                <port name="phi_c1" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
            </entity>
            <entity name="Level1" class="ptolemy.actor.lib.Expression">
                <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="phi_sp&lt;=0.0 ? 360.0 : 0.0">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="250.0, 175.0">
                </property>
                <port name="phi_sp" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
            </entity>
            <entity name="Level2" class="ptolemy.actor.lib.Expression">
                <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="phi_sp&gt;0.0 ? 360.0-phi_sp : 0.0">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="235.0, 270.0">
                </property>
                <port name="phi_sp" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
            </entity>
            <entity name="Level" class="ptolemy.actor.lib.Expression">
                <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="Level1+Level2">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="435.0, 225.0">
                </property>
                <port name="Level1" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
                <port name="Level2" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
            </entity>
            <entity name="Test_Condition" class="ptolemy.actor.lib.Expression">
                <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="phi_c-Level">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="605.0, 295.0">
                </property>
                <port name="Level" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
                <port name="phi_c" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
            </entity>
            <entity name="ZeroCrossingDetector" class="ptolemy.domains.ct.lib.ZeroCrossingDetector">
                <property name="defaultEventValue" class="ptolemy.data.expr.Parameter" value="0.0">
                </property>
                <property name="errorTolerance" class="ptolemy.data.expr.Parameter" value="1.0E-4">
                </property>
                <property name="ZeroCrossingDetectorIcon" class="ptolemy.vergil.icon.EditorIcon">
                    <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={104, 125, 815, 518}, maximized=false}">
                    </property>
                    <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[600, 400]">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="725.0, 285.0">
                </property>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                    <property name="signalType" class="ptolemy.data.expr.Parameter" value="&quot;DISCRETE&quot;">
                    </property>
                </port>
                <port name="trigger" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="signalType" class="ptolemy.data.expr.Parameter" value="&quot;CONTINUOUS&quot;">
                    </property>
                </port>
                <port name="input" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="signalType" class="ptolemy.data.expr.Parameter" value="&quot;CONTINUOUS&quot;">
                    </property>
                </port>
            </entity>
            <relation name="relation3" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation4" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="110.0, 335.0">
                </vertex>
            </relation>
            <relation name="relation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation5" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation7" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="120.0, 235.0">
                </vertex>
            </relation>
            <relation name="relation8" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation9" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation10" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation11" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation12" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="torque" relation="relation"/>
            <link port="trigger" relation="relation12"/>
            <link port="phi_c1" relation="relation4"/>
            <link port="Tm" relation="relation5"/>
            <link port="phi_sp1" relation="relation7"/>
            <link port="Compression_Torque.output" relation="relation"/>
            <link port="Compression_Torque.phi_c1" relation="relation3"/>
            <link port="Compression_Torque.Tm" relation="relation5"/>
            <link port="phi_c1_to_radians.output" relation="relation3"/>
            <link port="phi_c1_to_radians.phi_c1" relation="relation4"/>
            <link port="Level1.output" relation="relation8"/>
            <link port="Level1.phi_sp" relation="relation7"/>
            <link port="Level2.output" relation="relation9"/>
            <link port="Level2.phi_sp" relation="relation7"/>
            <link port="Level.output" relation="relation10"/>
            <link port="Level.Level1" relation="relation8"/>
            <link port="Level.Level2" relation="relation9"/>
            <link port="Test_Condition.output" relation="relation11"/>
            <link port="Test_Condition.Level" relation="relation10"/>
            <link port="Test_Condition.phi_c" relation="relation4"/>
            <link port="ZeroCrossingDetector.output" relation="relation12"/>
            <link port="ZeroCrossingDetector.trigger" relation="relation11"/>
        </entity>
        <entity name="Cmp_w_Ign" class="ptolemy.domains.fsm.modal.Refinement">
            <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[780, 451]">
            </property>
            <property name="_vergilLocation" class="ptolemy.actor.gui.LocationAttribute" value="[82, 135]">
            </property>
            <property name="CTEmbedded Director" class="ptolemy.domains.ct.kernel.CTEmbeddedDirector">
                <property name="startTime" class="ptolemy.data.expr.Parameter" value="0.0">
                </property>
                <property name="stopTime" class="ptolemy.data.expr.Parameter" value="1.7976931348623E308">
                </property>
                <property name="initStepSize" class="ptolemy.data.expr.Parameter" value="0.1">
                </property>
                <property name="minStepSize" class="ptolemy.data.expr.Parameter" value="1.0E-5">
                </property>
                <property name="maxStepSize" class="ptolemy.data.expr.Parameter" value="1.0">
                </property>
                <property name="maxIterations" class="ptolemy.data.expr.Parameter" value="20">
                </property>
                <property name="errorTolerance" class="ptolemy.data.expr.Parameter" value="1.0E-4">
                </property>
                <property name="valueResolution" class="ptolemy.data.expr.Parameter" value="1.0E-6">
                </property>
                <property name="synchronizeToRealTime" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <property name="ODESolver" class="ptolemy.data.expr.Parameter" value="&quot;ptolemy.domains.ct.kernel.solver.ExplicitRK23Solver&quot;">
                    <property name="style" class="ptolemy.actor.gui.style.EditableChoiceStyle">
                        <property name="choice0" class="ptolemy.data.expr.Parameter" value="&quot;ptolemy.domains.ct.kernel.solver.ExplicitRK23Solver&quot;">
                        </property>
                        <property name="choice1" class="ptolemy.data.expr.Parameter" value="&quot;ptolemy.domains.ct.kernel.solver.BackwardEulerSolver&quot;">
                        </property>
                        <property name="choice2" class="ptolemy.data.expr.Parameter" value="&quot;ptolemy.domains.ct.kernel.solver.ForwardEulerSolver&quot;">
                        </property>
                    </property>
                </property>
                <property name="breakpointODESolver" class="ptolemy.data.expr.Parameter" value="&quot;ptolemy.domains.ct.kernel.solver.DerivativeResolver&quot;">
                    <property name="style" class="ptolemy.actor.gui.style.EditableChoiceStyle">
                        <property name="choice0" class="ptolemy.data.expr.Parameter" value="&quot;ptolemy.domains.ct.kernel.solver.DerivativeResolver&quot;">
                        </property>
                        <property name="choice1" class="ptolemy.data.expr.Parameter" value="&quot;ptolemy.domains.ct.kernel.solver.BackwardEulerSolver&quot;">
                        </property>
                        <property name="choice2" class="ptolemy.data.expr.Parameter" value="&quot;ptolemy.domains.ct.kernel.solver.ImpulseBESolver&quot;">
                        </property>
                    </property>
                </property>
                <property name="timeResolution" class="ptolemy.data.expr.Parameter" value="1.0E-10">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="155.0, 55.0">
                </property>
            </property>
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={9, 82, 995, 569}, maximized=false}">
            </property>
            <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="0.9961744762676">
            </property>
            <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{416.96875, 179.9302398989899}">
            </property>
            <port name="torque" class="ptolemy.domains.fsm.modal.RefinementPort">
                <property name="output"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[760.0, 255.0]">
                </property>
            </port>
            <port name="trigger" class="ptolemy.domains.fsm.modal.RefinementPort">
                <property name="output"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[760.0, 155.0]">
                </property>
            </port>
            <port name="phi_c1" class="ptolemy.domains.fsm.modal.RefinementPort">
                <property name="input"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="60.0, 165.0">
                </property>
            </port>
            <port name="Tm" class="ptolemy.domains.fsm.modal.RefinementPort">
                <property name="input"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="270.0, 300.0">
                </property>
            </port>
            <port name="phi_sp1" class="ptolemy.domains.fsm.modal.RefinementPort">
                <property name="input"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="60.0, 300.0">
                </property>
            </port>
            <entity name="LevelCrossing_at_360" class="ptolemy.domains.ct.lib.LevelCrossingDetector">
                <property name="level" class="ptolemy.data.expr.Parameter" value="360.0">
                </property>
                <property name="defaultEventValue" class="ptolemy.data.expr.Parameter" value="0.0">
                </property>
                <property name="errorTolerance" class="ptolemy.data.expr.Parameter" value="1.0E-1">
                </property>
                <property name="LevelCrossingDetectorIcon" class="ptolemy.vergil.icon.EditorIcon">
                    <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={104, 125, 815, 518}, maximized=false}">
                    </property>
                    <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[600, 400]">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="365.0, 155.0">
                </property>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                    <property name="signalType" class="ptolemy.data.expr.Parameter" value="&quot;DISCRETE&quot;">
                    </property>
                </port>
                <port name="trigger" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="signalType" class="ptolemy.data.expr.Parameter" value="&quot;CONTINUOUS&quot;">
                    </property>
                </port>
                <port name="input" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="signalType" class="ptolemy.data.expr.Parameter" value="&quot;CONTINUOUS&quot;">
                    </property>
                </port>
            </entity>
            <entity name="phi_c1_to_radians" class="ptolemy.actor.lib.Expression">
                <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="(phi_c1+360.0)*pi/180.0">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="235.0, 245.0">
                </property>
                <port name="phi_c1" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
            </entity>
            <entity name="Cmp_w_Ign_Torque" class="ptolemy.actor.lib.Expression">
                <property name="expression" class="ptolemy.kernel.util.StringAttribute" value=".1*Tm*(sin(phi_c1/2.0)+.5*sin(phi_c1)+(1.0/6.0)*sin(3.0*phi_c1/2.0))">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="545.0, 255.0">
                </property>
                <port name="phi_c1" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
                <port name="Tm" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
            </entity>
            <relation name="relation2" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="1:relation3" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation4" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="115.0, 165.0">
                </vertex>
            </relation>
            <relation name="relation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation3" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="torque" relation="relation"/>
            <link port="trigger" relation="relation2"/>
            <link port="phi_c1" relation="relation4"/>
            <link port="Tm" relation="relation3"/>
            <link port="LevelCrossing_at_360.output" relation="relation2"/>
            <link port="LevelCrossing_at_360.trigger" relation="relation4"/>
            <link port="phi_c1_to_radians.output" relation="1:relation3"/>
            <link port="phi_c1_to_radians.phi_c1" relation="relation4"/>
            <link port="Cmp_w_Ign_Torque.output" relation="relation"/>
            <link port="Cmp_w_Ign_Torque.phi_c1" relation="1:relation3"/>
            <link port="Cmp_w_Ign_Torque.Tm" relation="relation3"/>
        </entity>
        <entity name="Exp_wo_Ign" class="ptolemy.domains.fsm.modal.Refinement">
            <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[959, 702]">
            </property>
            <property name="_vergilLocation" class="ptolemy.actor.gui.LocationAttribute" value="[53, 101]">
            </property>
            <property name="CTEmbedded Director" class="ptolemy.domains.ct.kernel.CTEmbeddedDirector">
                <property name="startTime" class="ptolemy.data.expr.Parameter" value="0.0">
                </property>
                <property name="stopTime" class="ptolemy.data.expr.Parameter" value="1.7976931348623E308">
                </property>
                <property name="initStepSize" class="ptolemy.data.expr.Parameter" value="0.1">
                </property>
                <property name="minStepSize" class="ptolemy.data.expr.Parameter" value="1.0E-5">
                </property>
                <property name="maxStepSize" class="ptolemy.data.expr.Parameter" value="1.0">
                </property>
                <property name="maxIterations" class="ptolemy.data.expr.Parameter" value="20">
                </property>
                <property name="errorTolerance" class="ptolemy.data.expr.Parameter" value="1.0E-1">
                </property>
                <property name="valueResolution" class="ptolemy.data.expr.Parameter" value="1.0E-6">
                </property>
                <property name="synchronizeToRealTime" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <property name="ODESolver" class="ptolemy.data.expr.Parameter" value="&quot;ptolemy.domains.ct.kernel.solver.ExplicitRK23Solver&quot;">
                    <property name="style" class="ptolemy.actor.gui.style.EditableChoiceStyle">
                        <property name="choice0" class="ptolemy.data.expr.Parameter" value="&quot;ptolemy.domains.ct.kernel.solver.ExplicitRK23Solver&quot;">
                        </property>
                        <property name="choice1" class="ptolemy.data.expr.Parameter" value="&quot;ptolemy.domains.ct.kernel.solver.BackwardEulerSolver&quot;">
                        </property>
                        <property name="choice2" class="ptolemy.data.expr.Parameter" value="&quot;ptolemy.domains.ct.kernel.solver.ForwardEulerSolver&quot;">
                        </property>
                    </property>
                </property>
                <property name="breakpointODESolver" class="ptolemy.data.expr.Parameter" value="&quot;ptolemy.domains.ct.kernel.solver.DerivativeResolver&quot;">
                    <property name="style" class="ptolemy.actor.gui.style.EditableChoiceStyle">
                        <property name="choice0" class="ptolemy.data.expr.Parameter" value="&quot;ptolemy.domains.ct.kernel.solver.DerivativeResolver&quot;">
                        </property>
                        <property name="choice1" class="ptolemy.data.expr.Parameter" value="&quot;ptolemy.domains.ct.kernel.solver.BackwardEulerSolver&quot;">
                        </property>
                        <property name="choice2" class="ptolemy.data.expr.Parameter" value="&quot;ptolemy.domains.ct.kernel.solver.ImpulseBESolver&quot;">
                        </property>
                    </property>
                </property>
                <property name="timeResolution" class="ptolemy.data.expr.Parameter" value="1.0E-10">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="100.0, 35.0">
                </property>
            </property>
            <port name="torque" class="ptolemy.domains.fsm.modal.RefinementPort">
                <property name="output"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="790.0, 255.0">
                </property>
            </port>
            <port name="trigger" class="ptolemy.domains.fsm.modal.RefinementPort">
                <property name="output"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="790.0, 145.0">
                </property>
            </port>
            <port name="phi_c1" class="ptolemy.domains.fsm.modal.RefinementPort">
                <property name="input"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="55.0, 165.0">
                </property>
            </port>
            <port name="Tm" class="ptolemy.domains.fsm.modal.RefinementPort">
                <property name="input"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="250.0, 305.0">
                </property>
            </port>
            <port name="phi_sp1" class="ptolemy.domains.fsm.modal.RefinementPort">
                <property name="input"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="55.0, 115.0">
                </property>
            </port>
            <entity name="Expansion_Torque" class="ptolemy.actor.lib.Expression">
                <property name="expression" class="ptolemy.kernel.util.StringAttribute" value=".2*Tm*(sin(phi_c1/2.0)+.5*sin(phi_c1)+(1.0/6.0)*sin(3.0*phi_c1/2.0))">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="555.0, 255.0">
                </property>
                <port name="phi_c1" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
                <port name="Tm" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
            </entity>
            <entity name="phi_c1_to_radians" class="ptolemy.actor.lib.Expression">
                <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="(phi_c1+360.0)*pi/180.0">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="240.0, 245.0">
                </property>
                <port name="phi_c1" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
            </entity>
            <entity name="Level" class="ptolemy.actor.lib.Expression">
                <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="360.0-phi_sp">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="185.0, 115.0">
                </property>
                <port name="phi_sp" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
            </entity>
            <entity name="Test_Condition" class="ptolemy.actor.lib.Expression">
                <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="phi_c-Level">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="330.0, 155.0">
                </property>
                <port name="Level" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
                <port name="phi_c" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
            </entity>
            <entity name="ZeroCrossingDetector" class="ptolemy.domains.ct.lib.ZeroCrossingDetector">
                <property name="defaultEventValue" class="ptolemy.data.expr.Parameter" value="0.0">
                </property>
                <property name="errorTolerance" class="ptolemy.data.expr.Parameter" value="1.0E-4">
                </property>
                <property name="ZeroCrossingDetectorIcon" class="ptolemy.vergil.icon.EditorIcon">
                    <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={104, 125, 815, 518}, maximized=false}">
                    </property>
                    <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[600, 400]">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="490.0, 145.0">
                </property>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                    <property name="signalType" class="ptolemy.data.expr.Parameter" value="&quot;DISCRETE&quot;">
                    </property>
                </port>
                <port name="trigger" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="signalType" class="ptolemy.data.expr.Parameter" value="&quot;CONTINUOUS&quot;">
                    </property>
                </port>
                <port name="input" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="signalType" class="ptolemy.data.expr.Parameter" value="&quot;CONTINUOUS&quot;">
                    </property>
                </port>
            </entity>
            <relation name="relation4" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="85.0, 165.0">
                </vertex>
            </relation>
            <relation name="1:1:1:relation3" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation2" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="1:relation11" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation3" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation5" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation6" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="torque" relation="relation"/>
            <link port="trigger" relation="relation6"/>
            <link port="phi_c1" relation="relation4"/>
            <link port="Tm" relation="relation2"/>
            <link port="phi_sp1" relation="relation3"/>
            <link port="Expansion_Torque.output" relation="relation"/>
            <link port="Expansion_Torque.phi_c1" relation="1:1:1:relation3"/>
            <link port="Expansion_Torque.Tm" relation="relation2"/>
            <link port="phi_c1_to_radians.output" relation="1:1:1:relation3"/>
            <link port="phi_c1_to_radians.phi_c1" relation="relation4"/>
            <link port="Level.output" relation="relation5"/>
            <link port="Level.phi_sp" relation="relation3"/>
            <link port="Test_Condition.output" relation="1:relation11"/>
            <link port="Test_Condition.Level" relation="relation5"/>
            <link port="Test_Condition.phi_c" relation="relation4"/>
            <link port="ZeroCrossingDetector.output" relation="relation6"/>
            <link port="ZeroCrossingDetector.trigger" relation="1:relation11"/>
        </entity>
        <entity name="Exp_w_Ign" class="ptolemy.domains.fsm.modal.Refinement">
            <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[905, 662]">
            </property>
            <property name="_vergilLocation" class="ptolemy.actor.gui.LocationAttribute" value="[80, 121]">
            </property>
            <property name="CTEmbedded Director" class="ptolemy.domains.ct.kernel.CTEmbeddedDirector">
                <property name="startTime" class="ptolemy.data.expr.Parameter" value="0.0">
                </property>
                <property name="stopTime" class="ptolemy.data.expr.Parameter" value="1.7976931348623E308">
                </property>
                <property name="initStepSize" class="ptolemy.data.expr.Parameter" value="0.1">
                </property>
                <property name="minStepSize" class="ptolemy.data.expr.Parameter" value="1.0E-5">
                </property>
                <property name="maxStepSize" class="ptolemy.data.expr.Parameter" value="1.0">
                </property>
                <property name="maxIterations" class="ptolemy.data.expr.Parameter" value="20">
                </property>
                <property name="errorTolerance" class="ptolemy.data.expr.Parameter" value="1.0E-4">
                </property>
                <property name="valueResolution" class="ptolemy.data.expr.Parameter" value="1.0E-6">
                </property>
                <property name="synchronizeToRealTime" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <property name="ODESolver" class="ptolemy.data.expr.Parameter" value="&quot;ptolemy.domains.ct.kernel.solver.ExplicitRK23Solver&quot;">
                    <property name="style" class="ptolemy.actor.gui.style.EditableChoiceStyle">
                        <property name="choice0" class="ptolemy.data.expr.Parameter" value="&quot;ptolemy.domains.ct.kernel.solver.ExplicitRK23Solver&quot;">
                        </property>
                        <property name="choice1" class="ptolemy.data.expr.Parameter" value="&quot;ptolemy.domains.ct.kernel.solver.BackwardEulerSolver&quot;">
                        </property>
                        <property name="choice2" class="ptolemy.data.expr.Parameter" value="&quot;ptolemy.domains.ct.kernel.solver.ForwardEulerSolver&quot;">
                        </property>
                    </property>
                </property>
                <property name="breakpointODESolver" class="ptolemy.data.expr.Parameter" value="&quot;ptolemy.domains.ct.kernel.solver.DerivativeResolver&quot;">
                    <property name="style" class="ptolemy.actor.gui.style.EditableChoiceStyle">
                        <property name="choice0" class="ptolemy.data.expr.Parameter" value="&quot;ptolemy.domains.ct.kernel.solver.DerivativeResolver&quot;">
                        </property>
                        <property name="choice1" class="ptolemy.data.expr.Parameter" value="&quot;ptolemy.domains.ct.kernel.solver.BackwardEulerSolver&quot;">
                        </property>
                        <property name="choice2" class="ptolemy.data.expr.Parameter" value="&quot;ptolemy.domains.ct.kernel.solver.ImpulseBESolver&quot;">
                        </property>
                    </property>
                </property>
                <property name="timeResolution" class="ptolemy.data.expr.Parameter" value="1.0E-10">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="145.0, 60.0">
                </property>
            </property>
            <port name="torque" class="ptolemy.domains.fsm.modal.RefinementPort">
                <property name="output"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="850.0, 260.0">
                </property>
            </port>
            <port name="trigger" class="ptolemy.domains.fsm.modal.RefinementPort">
                <property name="output"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="845.0, 155.0">
                </property>
            </port>
            <port name="phi_c1" class="ptolemy.domains.fsm.modal.RefinementPort">
                <property name="input"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 165.0">
                </property>
            </port>
            <port name="Tm" class="ptolemy.domains.fsm.modal.RefinementPort">
                <property name="input"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="250.0, 305.0">
                </property>
            </port>
            <port name="phi_sp1" class="ptolemy.domains.fsm.modal.RefinementPort">
                <property name="input"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 320.0">
                </property>
            </port>
            <entity name="LevelCrossing_at_540" class="ptolemy.domains.ct.lib.LevelCrossingDetector">
                <property name="level" class="ptolemy.data.expr.Parameter" value="540.0">
                </property>
                <property name="defaultEventValue" class="ptolemy.data.expr.Parameter" value="0.0">
                </property>
                <property name="errorTolerance" class="ptolemy.data.expr.Parameter" value="1.0E-1">
                </property>
                <property name="LevelCrossingDetectorIcon" class="ptolemy.vergil.icon.EditorIcon">
                    <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={104, 125, 815, 518}, maximized=false}">
                    </property>
                    <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[600, 400]">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="405.0, 155.0">
                </property>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                    <property name="signalType" class="ptolemy.data.expr.Parameter" value="&quot;DISCRETE&quot;">
                    </property>
                </port>
                <port name="trigger" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="signalType" class="ptolemy.data.expr.Parameter" value="&quot;CONTINUOUS&quot;">
                    </property>
                </port>
                <port name="input" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="signalType" class="ptolemy.data.expr.Parameter" value="&quot;CONTINUOUS&quot;">
                    </property>
                </port>
            </entity>
            <entity name="Expansion_Torque" class="ptolemy.actor.lib.Expression">
                <property name="expression" class="ptolemy.kernel.util.StringAttribute" value=".2*Tm*(sin(phi_c1/2.0)+.5*sin(phi_c1)+(1.0/6.0)*sin(3.0*phi_c1/2.0))">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="535.0, 260.0">
                </property>
                <port name="phi_c1" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
                <port name="Tm" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
            </entity>
            <entity name="phi_c1_to_radians" class="ptolemy.actor.lib.Expression">
                <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="(phi_c1+360.0)*pi/180.0">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="225.0, 250.0">
                </property>
                <port name="phi_c1" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
            </entity>
            <relation name="relation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="1:1:1:1:relation3" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation4" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="110.0, 165.0">
                </vertex>
            </relation>
            <relation name="relation5" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation2" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="torque" relation="relation5"/>
            <link port="trigger" relation="relation"/>
            <link port="phi_c1" relation="relation4"/>
            <link port="Tm" relation="relation2"/>
            <link port="LevelCrossing_at_540.output" relation="relation"/>
            <link port="LevelCrossing_at_540.trigger" relation="relation4"/>
            <link port="Expansion_Torque.output" relation="relation5"/>
            <link port="Expansion_Torque.phi_c1" relation="1:1:1:1:relation3"/>
            <link port="Expansion_Torque.Tm" relation="relation2"/>
            <link port="phi_c1_to_radians.output" relation="1:1:1:1:relation3"/>
            <link port="phi_c1_to_radians.phi_c1" relation="relation4"/>
        </entity>
        <entity name="Exhaust-01" class="ptolemy.domains.fsm.modal.Refinement">
            <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[975, 710]">
            </property>
            <property name="_vergilLocation" class="ptolemy.actor.gui.LocationAttribute" value="[45, 97]">
            </property>
            <property name="CTEmbedded Director" class="ptolemy.domains.ct.kernel.CTEmbeddedDirector">
                <property name="startTime" class="ptolemy.data.expr.Parameter" value="0.0">
                </property>
                <property name="stopTime" class="ptolemy.data.expr.Parameter" value="1.7976931348623E308">
                </property>
                <property name="initStepSize" class="ptolemy.data.expr.Parameter" value="0.1">
                </property>
                <property name="minStepSize" class="ptolemy.data.expr.Parameter" value="1.0E-5">
                </property>
                <property name="maxStepSize" class="ptolemy.data.expr.Parameter" value="1.0">
                </property>
                <property name="maxIterations" class="ptolemy.data.expr.Parameter" value="20">
                </property>
                <property name="errorTolerance" class="ptolemy.data.expr.Parameter" value="1.0E-4">
                </property>
                <property name="valueResolution" class="ptolemy.data.expr.Parameter" value="1.0E-6">
                </property>
                <property name="synchronizeToRealTime" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <property name="ODESolver" class="ptolemy.data.expr.Parameter" value="&quot;ptolemy.domains.ct.kernel.solver.ExplicitRK23Solver&quot;">
                    <property name="style" class="ptolemy.actor.gui.style.EditableChoiceStyle">
                        <property name="choice0" class="ptolemy.data.expr.Parameter" value="&quot;ptolemy.domains.ct.kernel.solver.ExplicitRK23Solver&quot;">
                        </property>
                        <property name="choice1" class="ptolemy.data.expr.Parameter" value="&quot;ptolemy.domains.ct.kernel.solver.BackwardEulerSolver&quot;">
                        </property>
                        <property name="choice2" class="ptolemy.data.expr.Parameter" value="&quot;ptolemy.domains.ct.kernel.solver.ForwardEulerSolver&quot;">
                        </property>
                    </property>
                </property>
                <property name="breakpointODESolver" class="ptolemy.data.expr.Parameter" value="&quot;ptolemy.domains.ct.kernel.solver.DerivativeResolver&quot;">
                    <property name="style" class="ptolemy.actor.gui.style.EditableChoiceStyle">
                        <property name="choice0" class="ptolemy.data.expr.Parameter" value="&quot;ptolemy.domains.ct.kernel.solver.DerivativeResolver&quot;">
                        </property>
                        <property name="choice1" class="ptolemy.data.expr.Parameter" value="&quot;ptolemy.domains.ct.kernel.solver.BackwardEulerSolver&quot;">
                        </property>
                        <property name="choice2" class="ptolemy.data.expr.Parameter" value="&quot;ptolemy.domains.ct.kernel.solver.ImpulseBESolver&quot;">
                        </property>
                    </property>
                </property>
                <property name="timeResolution" class="ptolemy.data.expr.Parameter" value="1.0E-10">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="145.0, 60.0">
                </property>
            </property>
            <port name="torque" class="ptolemy.domains.fsm.modal.RefinementPort">
                <property name="output"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="760.0, 265.0">
                </property>
            </port>
            <port name="trigger" class="ptolemy.domains.fsm.modal.RefinementPort">
                <property name="output"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="755.0, 155.0">
                </property>
            </port>
            <port name="phi_c1" class="ptolemy.domains.fsm.modal.RefinementPort">
                <property name="input"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="50.0, 165.0">
                </property>
            </port>
            <port name="Tm" class="ptolemy.domains.fsm.modal.RefinementPort">
                <property name="input"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="225.0, 320.0">
                </property>
            </port>
            <port name="phi_sp1" class="ptolemy.domains.fsm.modal.RefinementPort">
                <property name="input"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="50.0, 320.0">
                </property>
            </port>
            <entity name="LevelCrossing_at_720+phi_o1" class="ptolemy.domains.ct.lib.LevelCrossingDetector">
                <property name="level" class="ptolemy.data.expr.Parameter" value="min(720.0,720.0+phi_o1)">
                </property>
                <property name="defaultEventValue" class="ptolemy.data.expr.Parameter" value="0.0">
                </property>
                <property name="errorTolerance" class="ptolemy.data.expr.Parameter" value="1.0E-1">
                </property>
                <property name="LevelCrossingDetectorIcon" class="ptolemy.vergil.icon.EditorIcon">
                    <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={104, 125, 815, 518}, maximized=false}">
                    </property>
                    <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[600, 400]">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="240.0, 155.0">
                </property>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                    <property name="signalType" class="ptolemy.data.expr.Parameter" value="&quot;DISCRETE&quot;">
                    </property>
                </port>
                <port name="trigger" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="signalType" class="ptolemy.data.expr.Parameter" value="&quot;CONTINUOUS&quot;">
                    </property>
                </port>
                <port name="input" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="signalType" class="ptolemy.data.expr.Parameter" value="&quot;CONTINUOUS&quot;">
                    </property>
                </port>
            </entity>
            <entity name="phi_c1_to_radians" class="ptolemy.actor.lib.Expression">
                <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="(phi_c1+360.0)*pi/180.0">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="185.0, 255.0">
                </property>
                <port name="phi_c1" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
            </entity>
            <entity name="Exhaust_Torque" class="ptolemy.actor.lib.Expression">
                <property name="expression" class="ptolemy.kernel.util.StringAttribute" value=".2*Tm*(sin(phi_c1/2.0)+.5*sin(phi_c1)+(1.0/6.0)*sin(3.0*phi_c1/2.0))">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="490.0, 265.0">
                </property>
                <port name="phi_c1" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
                <port name="Tm" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
            </entity>
            <relation name="relation2" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="1:relation3" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation4" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="75.0, 165.0">
                </vertex>
            </relation>
            <relation name="relation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation3" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="torque" relation="relation"/>
            <link port="trigger" relation="relation2"/>
            <link port="phi_c1" relation="relation4"/>
            <link port="Tm" relation="relation3"/>
            <link port="LevelCrossing_at_720+phi_o1.output" relation="relation2"/>
            <link port="LevelCrossing_at_720+phi_o1.trigger" relation="relation4"/>
            <link port="phi_c1_to_radians.output" relation="1:relation3"/>
            <link port="phi_c1_to_radians.phi_c1" relation="relation4"/>
            <link port="Exhaust_Torque.output" relation="relation"/>
            <link port="Exhaust_Torque.phi_c1" relation="1:relation3"/>
            <link port="Exhaust_Torque.Tm" relation="relation3"/>
        </entity>
        <entity name="Exhaust-02" class="ptolemy.domains.fsm.modal.Refinement">
            <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[886, 710]">
            </property>
            <property name="_vergilLocation" class="ptolemy.actor.gui.LocationAttribute" value="[89, 97]">
            </property>
            <property name="CTEmbedded Director" class="ptolemy.domains.ct.kernel.CTEmbeddedDirector">
                <property name="startTime" class="ptolemy.data.expr.Parameter" value="0.0">
                </property>
                <property name="stopTime" class="ptolemy.data.expr.Parameter" value="1.7976931348623E308">
                </property>
                <property name="initStepSize" class="ptolemy.data.expr.Parameter" value="0.1">
                </property>
                <property name="minStepSize" class="ptolemy.data.expr.Parameter" value="1.0E-5">
                </property>
                <property name="maxStepSize" class="ptolemy.data.expr.Parameter" value="1.0">
                </property>
                <property name="maxIterations" class="ptolemy.data.expr.Parameter" value="20">
                </property>
                <property name="errorTolerance" class="ptolemy.data.expr.Parameter" value="1.0E-4">
                </property>
                <property name="valueResolution" class="ptolemy.data.expr.Parameter" value="1.0E-6">
                </property>
                <property name="synchronizeToRealTime" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <property name="ODESolver" class="ptolemy.data.expr.Parameter" value="&quot;ptolemy.domains.ct.kernel.solver.ExplicitRK23Solver&quot;">
                    <property name="style" class="ptolemy.actor.gui.style.EditableChoiceStyle">
                        <property name="choice0" class="ptolemy.data.expr.Parameter" value="&quot;ptolemy.domains.ct.kernel.solver.ExplicitRK23Solver&quot;">
                        </property>
                        <property name="choice1" class="ptolemy.data.expr.Parameter" value="&quot;ptolemy.domains.ct.kernel.solver.BackwardEulerSolver&quot;">
                        </property>
                        <property name="choice2" class="ptolemy.data.expr.Parameter" value="&quot;ptolemy.domains.ct.kernel.solver.ForwardEulerSolver&quot;">
                        </property>
                    </property>
                </property>
                <property name="breakpointODESolver" class="ptolemy.data.expr.Parameter" value="&quot;ptolemy.domains.ct.kernel.solver.DerivativeResolver&quot;">
                    <property name="style" class="ptolemy.actor.gui.style.EditableChoiceStyle">
                        <property name="choice0" class="ptolemy.data.expr.Parameter" value="&quot;ptolemy.domains.ct.kernel.solver.DerivativeResolver&quot;">
                        </property>
                        <property name="choice1" class="ptolemy.data.expr.Parameter" value="&quot;ptolemy.domains.ct.kernel.solver.BackwardEulerSolver&quot;">
                        </property>
                        <property name="choice2" class="ptolemy.data.expr.Parameter" value="&quot;ptolemy.domains.ct.kernel.solver.ImpulseBESolver&quot;">
                        </property>
                    </property>
                </property>
                <property name="timeResolution" class="ptolemy.data.expr.Parameter" value="1.0E-10">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="145.0, 60.0">
                </property>
            </property>
            <port name="torque" class="ptolemy.domains.fsm.modal.RefinementPort">
                <property name="output"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="825.0, 265.0">
                </property>
            </port>
            <port name="trigger" class="ptolemy.domains.fsm.modal.RefinementPort">
                <property name="output"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="820.0, 155.0">
                </property>
            </port>
            <port name="phi_c1" class="ptolemy.domains.fsm.modal.RefinementPort">
                <property name="input"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="80.0, 165.0">
                </property>
            </port>
            <port name="Tm" class="ptolemy.domains.fsm.modal.RefinementPort">
                <property name="input"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="255.0, 300.0">
                </property>
            </port>
            <port name="phi_sp1" class="ptolemy.domains.fsm.modal.RefinementPort">
                <property name="input"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="85.0, 300.0">
                </property>
            </port>
            <entity name="LevelCrossing_at_0" class="ptolemy.domains.ct.lib.LevelCrossingDetector">
                <property name="level" class="ptolemy.data.expr.Parameter" value="0.0">
                </property>
                <property name="defaultEventValue" class="ptolemy.data.expr.Parameter" value="0.0">
                </property>
                <property name="errorTolerance" class="ptolemy.data.expr.Parameter" value="1.0E-1">
                </property>
                <property name="LevelCrossingDetectorIcon" class="ptolemy.vergil.icon.EditorIcon">
                    <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={104, 125, 815, 518}, maximized=false}">
                    </property>
                    <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[600, 400]">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="375.0, 155.0">
                </property>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                    <property name="signalType" class="ptolemy.data.expr.Parameter" value="&quot;DISCRETE&quot;">
                    </property>
                </port>
                <port name="trigger" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="signalType" class="ptolemy.data.expr.Parameter" value="&quot;CONTINUOUS&quot;">
                    </property>
                </port>
                <port name="input" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="signalType" class="ptolemy.data.expr.Parameter" value="&quot;CONTINUOUS&quot;">
                    </property>
                </port>
            </entity>
            <entity name="Exhaust_Torque" class="ptolemy.actor.lib.Expression">
                <property name="expression" class="ptolemy.kernel.util.StringAttribute" value=".2*Tm*(sin(phi_c1/2.0)+.5*sin(phi_c1)+(1.0/6.0)*sin(3.0*phi_c1/2.0))">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="545.0, 265.0">
                </property>
                <port name="phi_c1" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
                <port name="Tm" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
            </entity>
            <entity name="phi_c1_to_radians" class="ptolemy.actor.lib.Expression">
                <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="(phi_c1+360.0)*pi/180.0">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="205.0, 245.0">
                </property>
                <port name="phi_c1" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
            </entity>
            <relation name="relation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="1:1:1:relation3" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation2" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation4" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="105.0, 165.0">
                </vertex>
            </relation>
            <relation name="relation3" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="torque" relation="relation2"/>
            <link port="trigger" relation="relation"/>
            <link port="phi_c1" relation="relation4"/>
            <link port="Tm" relation="relation3"/>
            <link port="LevelCrossing_at_0.output" relation="relation"/>
            <link port="LevelCrossing_at_0.trigger" relation="relation4"/>
            <link port="Exhaust_Torque.output" relation="relation2"/>
            <link port="Exhaust_Torque.phi_c1" relation="1:1:1:relation3"/>
            <link port="Exhaust_Torque.Tm" relation="relation3"/>
            <link port="phi_c1_to_radians.output" relation="1:1:1:relation3"/>
            <link port="phi_c1_to_radians.phi_c1" relation="relation4"/>
        </entity>
        <entity name="Exh_w_pos_phi_o1" class="ptolemy.domains.fsm.modal.Refinement">
            <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[981, 777]">
            </property>
            <property name="_vergilLocation" class="ptolemy.actor.gui.LocationAttribute" value="[42, 64]">
            </property>
            <property name="CTEmbedded Director" class="ptolemy.domains.ct.kernel.CTEmbeddedDirector">
                <property name="startTime" class="ptolemy.data.expr.Parameter" value="0.0">
                </property>
                <property name="stopTime" class="ptolemy.data.expr.Parameter" value="1.7976931348623E308">
                </property>
                <property name="initStepSize" class="ptolemy.data.expr.Parameter" value="0.1">
                </property>
                <property name="minStepSize" class="ptolemy.data.expr.Parameter" value="1.0E-5">
                </property>
                <property name="maxStepSize" class="ptolemy.data.expr.Parameter" value="1.0">
                </property>
                <property name="maxIterations" class="ptolemy.data.expr.Parameter" value="20">
                </property>
                <property name="errorTolerance" class="ptolemy.data.expr.Parameter" value="1.0E-4">
                </property>
                <property name="valueResolution" class="ptolemy.data.expr.Parameter" value="1.0E-6">
                </property>
                <property name="synchronizeToRealTime" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <property name="ODESolver" class="ptolemy.data.expr.Parameter" value="&quot;ptolemy.domains.ct.kernel.solver.ExplicitRK23Solver&quot;">
                    <property name="style" class="ptolemy.actor.gui.style.EditableChoiceStyle">
                        <property name="choice0" class="ptolemy.data.expr.Parameter" value="&quot;ptolemy.domains.ct.kernel.solver.ExplicitRK23Solver&quot;">
                        </property>
                        <property name="choice1" class="ptolemy.data.expr.Parameter" value="&quot;ptolemy.domains.ct.kernel.solver.BackwardEulerSolver&quot;">
                        </property>
                        <property name="choice2" class="ptolemy.data.expr.Parameter" value="&quot;ptolemy.domains.ct.kernel.solver.ForwardEulerSolver&quot;">
                        </property>
                    </property>
                </property>
                <property name="breakpointODESolver" class="ptolemy.data.expr.Parameter" value="&quot;ptolemy.domains.ct.kernel.solver.DerivativeResolver&quot;">
                    <property name="style" class="ptolemy.actor.gui.style.EditableChoiceStyle">
                        <property name="choice0" class="ptolemy.data.expr.Parameter" value="&quot;ptolemy.domains.ct.kernel.solver.DerivativeResolver&quot;">
                        </property>
                        <property name="choice1" class="ptolemy.data.expr.Parameter" value="&quot;ptolemy.domains.ct.kernel.solver.BackwardEulerSolver&quot;">
                        </property>
                        <property name="choice2" class="ptolemy.data.expr.Parameter" value="&quot;ptolemy.domains.ct.kernel.solver.ImpulseBESolver&quot;">
                        </property>
                    </property>
                </property>
                <property name="timeResolution" class="ptolemy.data.expr.Parameter" value="1.0E-10">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="145.0, 60.0">
                </property>
            </property>
            <port name="torque" class="ptolemy.domains.fsm.modal.RefinementPort">
                <property name="output"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="745.0, 245.0">
                </property>
            </port>
            <port name="trigger" class="ptolemy.domains.fsm.modal.RefinementPort">
                <property name="output"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="740.0, 155.0">
                </property>
            </port>
            <port name="phi_c1" class="ptolemy.domains.fsm.modal.RefinementPort">
                <property name="input"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="25.0, 165.0">
                </property>
            </port>
            <port name="Tm" class="ptolemy.domains.fsm.modal.RefinementPort">
                <property name="input"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="225.0, 295.0">
                </property>
            </port>
            <port name="phi_sp1" class="ptolemy.domains.fsm.modal.RefinementPort">
                <property name="input"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="30.0, 295.0">
                </property>
            </port>
            <entity name="LevelCrossing_at_720+phi_o1" class="ptolemy.domains.ct.lib.LevelCrossingDetector">
                <property name="level" class="ptolemy.data.expr.Parameter" value="720.0+phi_o1">
                </property>
                <property name="defaultEventValue" class="ptolemy.data.expr.Parameter" value="0.0">
                </property>
                <property name="errorTolerance" class="ptolemy.data.expr.Parameter" value="1.0E-1">
                </property>
                <property name="LevelCrossingDetectorIcon" class="ptolemy.vergil.icon.EditorIcon">
                    <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={104, 125, 815, 518}, maximized=false}">
                    </property>
                    <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[600, 400]">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="310.0, 155.0">
                </property>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                    <property name="signalType" class="ptolemy.data.expr.Parameter" value="&quot;DISCRETE&quot;">
                    </property>
                </port>
                <port name="trigger" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="signalType" class="ptolemy.data.expr.Parameter" value="&quot;CONTINUOUS&quot;">
                    </property>
                </port>
                <port name="input" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="signalType" class="ptolemy.data.expr.Parameter" value="&quot;CONTINUOUS&quot;">
                    </property>
                </port>
            </entity>
            <entity name="phi_c1_to_radians" class="ptolemy.actor.lib.Expression">
                <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="(phi_c1+360.0)*pi/180.0">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="180.0, 235.0">
                </property>
                <port name="phi_c1" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
            </entity>
            <entity name="Exhaust_Torque" class="ptolemy.actor.lib.Expression">
                <property name="expression" class="ptolemy.kernel.util.StringAttribute" value=".2*Tm*(sin(phi_c1/2.0)+.5*sin(phi_c1)+(1.0/6.0)*sin(3.0*phi_c1/2.0))">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="495.0, 245.0">
                </property>
                <port name="phi_c1" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
                <port name="Tm" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
            </entity>
            <relation name="relation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="1:1:relation3" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation2" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="55.0, 165.0">
                </vertex>
            </relation>
            <relation name="relation4" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="torque" relation="relation2"/>
            <link port="trigger" relation="relation"/>
            <link port="phi_c1" relation="relation3"/>
            <link port="Tm" relation="relation4"/>
            <link port="LevelCrossing_at_720+phi_o1.output" relation="relation"/>
            <link port="LevelCrossing_at_720+phi_o1.trigger" relation="relation3"/>
            <link port="phi_c1_to_radians.output" relation="1:1:relation3"/>
            <link port="phi_c1_to_radians.phi_c1" relation="relation3"/>
            <link port="Exhaust_Torque.output" relation="relation2"/>
            <link port="Exhaust_Torque.phi_c1" relation="1:1:relation3"/>
            <link port="Exhaust_Torque.Tm" relation="relation4"/>
        </entity>
        <relation name="torqueRelation" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="triggerRelation" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="phi_c1Relation" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="TmRelation" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="phi_sp1Relation" class="ptolemy.actor.TypedIORelation">
        </relation>
        <link port="torque" relation="torqueRelation"/>
        <link port="trigger" relation="triggerRelation"/>
        <link port="phi_c1" relation="phi_c1Relation"/>
        <link port="Tm" relation="TmRelation"/>
        <link port="phi_sp1" relation="phi_sp1Relation"/>
        <link port="_Controller.torque" relation="torqueRelation"/>
        <link port="_Controller.trigger" relation="triggerRelation"/>
        <link port="_Controller.phi_c1" relation="phi_c1Relation"/>
        <link port="_Controller.Tm" relation="TmRelation"/>
        <link port="_Controller.phi_sp1" relation="phi_sp1Relation"/>
        <link port="Intake.torque" relation="torqueRelation"/>
        <link port="Intake.trigger" relation="triggerRelation"/>
        <link port="Intake.phi_c1" relation="phi_c1Relation"/>
        <link port="Intake.Tm" relation="TmRelation"/>
        <link port="Intake.phi_sp1" relation="phi_sp1Relation"/>
        <link port="Compression.torque" relation="torqueRelation"/>
        <link port="Compression.trigger" relation="triggerRelation"/>
        <link port="Compression.phi_c1" relation="phi_c1Relation"/>
        <link port="Compression.Tm" relation="TmRelation"/>
        <link port="Compression.phi_sp1" relation="phi_sp1Relation"/>
        <link port="Cmp_w_Ign.torque" relation="torqueRelation"/>
        <link port="Cmp_w_Ign.trigger" relation="triggerRelation"/>
        <link port="Cmp_w_Ign.phi_c1" relation="phi_c1Relation"/>
        <link port="Cmp_w_Ign.Tm" relation="TmRelation"/>
        <link port="Cmp_w_Ign.phi_sp1" relation="phi_sp1Relation"/>
        <link port="Exp_wo_Ign.torque" relation="torqueRelation"/>
        <link port="Exp_wo_Ign.trigger" relation="triggerRelation"/>
        <link port="Exp_wo_Ign.phi_c1" relation="phi_c1Relation"/>
        <link port="Exp_wo_Ign.Tm" relation="TmRelation"/>
        <link port="Exp_wo_Ign.phi_sp1" relation="phi_sp1Relation"/>
        <link port="Exp_w_Ign.torque" relation="torqueRelation"/>
        <link port="Exp_w_Ign.trigger" relation="triggerRelation"/>
        <link port="Exp_w_Ign.phi_c1" relation="phi_c1Relation"/>
        <link port="Exp_w_Ign.Tm" relation="TmRelation"/>
        <link port="Exp_w_Ign.phi_sp1" relation="phi_sp1Relation"/>
        <link port="Exhaust-01.torque" relation="torqueRelation"/>
        <link port="Exhaust-01.trigger" relation="triggerRelation"/>
        <link port="Exhaust-01.phi_c1" relation="phi_c1Relation"/>
        <link port="Exhaust-01.Tm" relation="TmRelation"/>
        <link port="Exhaust-01.phi_sp1" relation="phi_sp1Relation"/>
        <link port="Exhaust-02.torque" relation="torqueRelation"/>
        <link port="Exhaust-02.trigger" relation="triggerRelation"/>
        <link port="Exhaust-02.phi_c1" relation="phi_c1Relation"/>
        <link port="Exhaust-02.Tm" relation="TmRelation"/>
        <link port="Exhaust-02.phi_sp1" relation="phi_sp1Relation"/>
        <link port="Exh_w_pos_phi_o1.torque" relation="torqueRelation"/>
        <link port="Exh_w_pos_phi_o1.trigger" relation="triggerRelation"/>
        <link port="Exh_w_pos_phi_o1.phi_c1" relation="phi_c1Relation"/>
        <link port="Exh_w_pos_phi_o1.Tm" relation="TmRelation"/>
        <link port="Exh_w_pos_phi_o1.phi_sp1" relation="phi_sp1Relation"/>
    </entity>
    <entity name="phi_c1" class="ptolemy.actor.lib.Expression">
        <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="phi_cs+phi_o1">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
            <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
            </property>
            <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
            </property>
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="180.0, 660.0">
        </property>
        <port name="phi_cs" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
        </port>
    </entity>
    <entity name="phi_c" class="ptolemy.actor.lib.gui.TimedPlotter">
        <property name="fillOnWrapup" class="ptolemy.data.expr.Parameter" value="true">
        </property>
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={514, 217, 521, 220}, maximized=false}">
        </property>
        <property name="_plotSize" class="ptolemy.actor.gui.SizeAttribute" value="[513, 165]">
        </property>
        <property name="startingDataset" class="ptolemy.data.expr.Parameter" value="0">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="320.0, 715.0">
        </property>
        <configure>
<?plotml <!DOCTYPE plot PUBLIC "-//UC Berkeley//DTD PlotML 1//EN"
"http://ptolemy.eecs.berkeley.edu/xml/dtd/PlotML_1.dtd">
<plot>
<title>phi_c1</title>
<xLabel></xLabel>
<yLabel></yLabel>
<xRange min="0.0" max="8.9240865085"/>
<yRange min="0.0" max="720.0896952267831"/>
</plot>?>
        </configure>
    </entity>
    <entity name="Const" class="ptolemy.actor.lib.Const">
        <property name="value" class="ptolemy.data.expr.Parameter" value="720.0">
        </property>
        <doc>Create a constant sequence</doc>
        <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
            <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
            </property>
            <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
            </property>
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="180.0, 715.0">
        </property>
    </entity>
    <entity name="Torque" class="ptolemy.actor.lib.gui.TimedPlotter">
        <property name="fillOnWrapup" class="ptolemy.data.expr.Parameter" value="true">
        </property>
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={-7, 218, 521, 220}, maximized=false}">
        </property>
        <property name="_plotSize" class="ptolemy.actor.gui.SizeAttribute" value="[513, 165]">
        </property>
        <property name="startingDataset" class="ptolemy.data.expr.Parameter" value="0">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="490.0, 620.0">
        </property>
        <configure>
<?plotml <!DOCTYPE plot PUBLIC "-//UC Berkeley//DTD PlotML 1//EN"
"http://ptolemy.eecs.berkeley.edu/xml/dtd/PlotML_1.dtd">
<plot>
<title>Torque</title>
<xLabel></xLabel>
<yLabel></yLabel>
<xRange min="0.0" max="8.9240865739"/>
<yRange min="-4.317173915150395" max="4.381210518079841"/>
</plot>?>
        </configure>
    </entity>
    <entity name="TORQUE" class="ptolemy.actor.lib.Const">
        <property name="value" class="ptolemy.data.expr.Parameter" value="10.0">
        </property>
        <doc>Create a constant sequence</doc>
        <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
            <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
            </property>
            <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
            </property>
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="555.0, 540.0">
        </property>
    </entity>
    <entity name="Air_Manifold" class="ptolemy.actor.TypedCompositeActor">
        <property name="_location" class="ptolemy.kernel.util.Location" value="170.0, 320.0">
        </property>
        <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[743, 621]">
        </property>
        <property name="_vergilLocation" class="ptolemy.actor.gui.LocationAttribute" value="[29, 36]">
        </property>
        <property name="Vd" class="ptolemy.data.expr.Parameter" value="1.242e-3">
        </property>
        <property name="Vman" class="ptolemy.data.expr.Parameter" value="1.5e-3">
        </property>
        <property name="Patm" class="ptolemy.data.expr.Parameter" value="101325.0">
        </property>
        <property name="Tatm" class="ptolemy.data.expr.Parameter" value="300.0">
        </property>
        <property name="R" class="ptolemy.data.expr.Parameter" value="287.0">
        </property>
        <property name="Gamma" class="ptolemy.data.expr.Parameter" value="1.4">
        </property>
        <property name="rc" class="ptolemy.data.expr.Parameter" value="pow((2.0/(Gamma+1.0)),Gamma/(Gamma-1.0))">
        </property>
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={31, 1, 958, 739}, maximized=false}">
        </property>
        <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="0.4569495694957">
        </property>
        <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{716.0, 661.2560565275909}">
        </property>
        <port name="alpha" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="10.0, 710.0">
            </property>
        </port>
        <port name="pman" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="120.0, 265.0">
            </property>
        </port>
        <port name="omega_cs" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="-85.0, 160.0">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
            </property>
        </port>
        <port name="ma" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="995.0, 5.0">
            </property>
        </port>
        <entity name="prat" class="ptolemy.actor.lib.Expression">
            <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="pman/Patm">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                </property>
                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="135.0, 365.0">
            </property>
            <port name="pman" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
            </port>
        </entity>
        <entity name="etav1" class="ptolemy.actor.lib.Expression">
            <property name="expression" class="ptolemy.kernel.util.StringAttribute" value=".597071+(5.15605e-5)*(30.0*wc/pi)+(9.30417e-7)*pman">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                </property>
                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="230.0, 90.0">
            </property>
            <port name="output" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
            </port>
            <port name="wc" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
            </port>
            <port name="pman" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
            </port>
        </entity>
        <entity name="cq" class="ptolemy.actor.lib.Expression">
            <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="etav*Vd/(4*R*Tatm)">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                </property>
                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="750.0, 35.0">
            </property>
            <port name="etav" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
            </port>
        </entity>
        <entity name="pman" class="ptolemy.domains.ct.lib.Integrator">
            <property name="initialState" class="ptolemy.data.expr.Parameter" value="0.0">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="0.0, 215.0">
            </property>
            <port name="input" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="signalType" class="ptolemy.data.expr.Parameter" value="&quot;CONTINUOUS&quot;">
                </property>
            </port>
            <port name="output" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="signalType" class="ptolemy.data.expr.Parameter" value="&quot;CONTINUOUS&quot;">
                </property>
            </port>
        </entity>
        <entity name="S_3" class="ptolemy.actor.lib.Expression">
            <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="40.0 &lt; alpha &amp;&amp; alpha &lt;= 46.9565 ? (-.0036*(alpha^2)+.4155*alpha-8.253)/1e4 : 0.0">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                </property>
                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="300.0, 710.0">
            </property>
            <port name="alpha" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
            </port>
        </entity>
        <entity name="Expression#2" class="ptolemy.actor.lib.Expression">
            <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="aq_pm+bq_S">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                </property>
                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="1420.0, 215.0">
            </property>
            <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
            <port name="aq_pm" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
            </port>
            <port name="bq_S" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
            </port>
        </entity>
        <entity name="Expression3" class="ptolemy.actor.lib.Expression">
            <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="bq*S">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                </property>
                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="1280.0, 385.0">
            </property>
            <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
            <port name="bq" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
            </port>
            <port name="S" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="multiport"/>
            </port>
        </entity>
        <entity name="S_4" class="ptolemy.actor.lib.Expression">
            <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="46.9565 &lt; alpha &amp;&amp; alpha &lt;=90.0 ? (-.0006*(alpha^2)+.1324*alpha-1.6503)/1e4 : 0.0">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                </property>
                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="305.0, 780.0">
            </property>
            <port name="alpha" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
            </port>
        </entity>
        <entity name="q" class="ptolemy.actor.lib.Expression">
            <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="cq*pman">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                </property>
                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="895.0, 5.0">
            </property>
            <port name="pman" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
            </port>
            <port name="cq" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
            </port>
        </entity>
        <entity name="S_1" class="ptolemy.actor.lib.Expression">
            <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="alpha&lt;=0.0 ? 0.0 : 0.0">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                </property>
                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="190.0, 570.0">
            </property>
            <port name="alpha" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
            </port>
        </entity>
        <entity name="S_5" class="ptolemy.actor.lib.Expression">
            <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="90.0 &lt; alpha ? 5.1675 : 0.0">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                </property>
                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="200.0, 860.0">
            </property>
            <port name="alpha" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
            </port>
        </entity>
        <entity name="beta2" class="ptolemy.actor.lib.Expression">
            <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="rc&lt;=prat &amp;&amp; prat&lt;1.0 ? sqrt(((2.0*Gamma)/(Gamma-1.0))*(pow(prat,2.0/Gamma)-pow(prat,(Gamma+1.0)/Gamma))):0.0">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                </property>
                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="455.0, 365.0">
            </property>
            <port name="prat" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
            </port>
        </entity>
        <entity name="bq" class="ptolemy.actor.lib.Expression">
            <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="beta*Patm*sqrt(R*Tatm)/(Vd+Vman)">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                </property>
                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="1010.0, 375.0">
            </property>
            <port name="beta" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
            </port>
        </entity>
        <entity name="Expression#1" class="ptolemy.actor.lib.Expression">
            <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="aq*pman">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                </property>
                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="1025.0, 205.0">
            </property>
            <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
            <port name="aq" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
            </port>
            <port name="pman" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
            </port>
        </entity>
        <entity name="S_2" class="ptolemy.actor.lib.Expression">
            <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="0.0&lt;alpha &amp;&amp; alpha &lt;= 40.0 ? (.0016*(alpha^2)-.0025*alpha)/1e4 : 0.0">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                </property>
                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="300.0, 640.0">
            </property>
            <port name="alpha" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
            </port>
        </entity>
        <entity name="aq" class="ptolemy.actor.lib.Expression">
            <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="-etav*wc*Vd/(4*pi*(Vd+Vman))">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                </property>
                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="780.0, 150.0">
            </property>
            <port name="etav" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
            </port>
            <port name="wc" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
            </port>
        </entity>
        <entity name="AddSubtract2" class="ptolemy.actor.lib.AddSubtract">
            <property name="_location" class="ptolemy.kernel.util.Location" value="815.0, 720.0">
            </property>
        </entity>
        <entity name="beta1" class="ptolemy.actor.lib.Expression">
            <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="prat&lt;rc ? sqrt(Gamma)*pow(2.0/(Gamma+1.0),(Gamma+1.0)/(2.0*(Gamma-1.0))) : 0.0">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                </property>
                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="460.0, 270.0">
            </property>
            <port name="prat" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
            </port>
        </entity>
        <entity name="beta3" class="ptolemy.actor.lib.Expression">
            <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="prat&gt;=1.0 ? 0.0 : 0.0">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                </property>
                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="330.0, 455.0">
            </property>
            <port name="prat" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
            </port>
        </entity>
        <entity name="AddSubtract1" class="ptolemy.actor.lib.AddSubtract">
            <property name="_location" class="ptolemy.kernel.util.Location" value="800.0, 375.0">
            </property>
            <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
        </entity>
        <entity name="etav2" class="ptolemy.actor.lib.Expression">
            <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="etav1&lt;1.0 ? etav1 : 1.0">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                </property>
                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="545.0, 90.0">
            </property>
            <port name="etav1" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
            </port>
        </entity>
        <relation name="1:relation42" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="-15.0, 160.0">
            </vertex>
        </relation>
        <relation name="1:relation3" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="1:relation11" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="1:relation37" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="1520.0, 925.0">
            </vertex>
        </relation>
        <relation name="1:relation12" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="1:relation4" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="45.0, 215.0">
            </vertex>
        </relation>
        <relation name="1:relation9" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="1:relation43" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="50.0, 710.0">
            </vertex>
        </relation>
        <relation name="1:relation2" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="640.0, 90.0">
            </vertex>
        </relation>
        <relation name="relation6" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation8" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="590.0, 570.0">
            </vertex>
        </relation>
        <relation name="relation" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="590.0, 640.0">
            </vertex>
        </relation>
        <relation name="relation9" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="590.0, 710.0">
            </vertex>
        </relation>
        <relation name="relation10" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="590.0, 780.0">
            </vertex>
        </relation>
        <relation name="relation12" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="590.0, 860.0">
            </vertex>
        </relation>
        <relation name="relation15" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="1220.0, 720.0">
            </vertex>
        </relation>
        <relation name="relation17" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="845.0, 375.0">
            </vertex>
        </relation>
        <relation name="relation28" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="730.0, 365.0">
            </vertex>
        </relation>
        <relation name="relation29" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="730.0, 455.0">
            </vertex>
        </relation>
        <relation name="relation30" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="730.0, 270.0">
            </vertex>
        </relation>
        <relation name="relation33" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation2" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="210.0, 365.0">
            </vertex>
        </relation>
        <relation name="relation3" class="ptolemy.actor.TypedIORelation">
        </relation>
        <link port="alpha" relation="1:relation43"/>
        <link port="pman" relation="1:relation4"/>
        <link port="omega_cs" relation="1:relation42"/>
        <link port="ma" relation="relation3"/>
        <link port="prat.output" relation="relation2"/>
        <link port="prat.pman" relation="1:relation4"/>
        <link port="etav1.output" relation="relation33"/>
        <link port="etav1.wc" relation="1:relation42"/>
        <link port="etav1.pman" relation="1:relation4"/>
        <link port="cq.output" relation="relation6"/>
        <link port="cq.etav" relation="1:relation2"/>
        <link port="pman.input" relation="1:relation37"/>
        <link port="pman.output" relation="1:relation4"/>
        <link port="S_3.output" relation="relation9"/>
        <link port="S_3.alpha" relation="1:relation43"/>
        <link port="Expression#2.output" relation="1:relation37"/>
        <link port="Expression#2.aq_pm" relation="1:relation9"/>
        <link port="Expression#2.bq_S" relation="1:relation11"/>
        <link port="Expression3.output" relation="1:relation11"/>
        <link port="Expression3.bq" relation="1:relation12"/>
        <link port="Expression3.S" relation="relation15"/>
        <link port="S_4.output" relation="relation10"/>
        <link port="S_4.alpha" relation="1:relation43"/>
        <link port="q.output" relation="relation3"/>
        <link port="q.pman" relation="1:relation4"/>
        <link port="q.cq" relation="relation6"/>
        <link port="S_1.output" relation="relation8"/>
        <link port="S_1.alpha" relation="1:relation43"/>
        <link port="S_5.output" relation="relation12"/>
        <link port="S_5.alpha" relation="1:relation43"/>
        <link port="beta2.output" relation="relation28"/>
        <link port="beta2.prat" relation="relation2"/>
        <link port="bq.output" relation="1:relation12"/>
        <link port="bq.beta" relation="relation17"/>
        <link port="Expression#1.output" relation="1:relation9"/>
        <link port="Expression#1.aq" relation="1:relation3"/>
        <link port="Expression#1.pman" relation="1:relation4"/>
        <link port="S_2.output" relation="relation"/>
        <link port="S_2.alpha" relation="1:relation43"/>
        <link port="aq.output" relation="1:relation3"/>
        <link port="aq.etav" relation="1:relation2"/>
        <link port="aq.wc" relation="1:relation42"/>
        <link port="AddSubtract2.plus" relation="relation8"/>
        <link port="AddSubtract2.plus" relation="relation"/>
        <link port="AddSubtract2.plus" relation="relation9"/>
        <link port="AddSubtract2.plus" relation="relation10"/>
        <link port="AddSubtract2.plus" relation="relation12"/>
        <link port="AddSubtract2.output" relation="relation15"/>
        <link port="beta1.output" relation="relation30"/>
        <link port="beta1.prat" relation="relation2"/>
        <link port="beta3.output" relation="relation29"/>
        <link port="beta3.prat" relation="relation2"/>
        <link port="AddSubtract1.plus" relation="relation30"/>
        <link port="AddSubtract1.plus" relation="relation28"/>
        <link port="AddSubtract1.plus" relation="relation29"/>
        <link port="AddSubtract1.output" relation="relation17"/>
        <link port="etav2.output" relation="1:relation2"/>
        <link port="etav2.etav1" relation="relation33"/>
    </entity>
    <entity name="Drive_Train" class="ptolemy.domains.fsm.modal.ModalModel">
        <property name="_tableauFactory" class="ptolemy.vergil.fsm.modal.ModalTableauFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="665.0, 540.0">
        </property>
        <port name="u" class="ptolemy.domains.fsm.modal.ModalPort">
            <property name="input"/>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
            </property>
        </port>
        <port name="CrossOver" class="ptolemy.domains.fsm.modal.ModalPort">
            <property name="output"/>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
            </property>
        </port>
        <port name="alpha_b" class="ptolemy.domains.fsm.modal.ModalPort">
            <property name="output"/>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
            </property>
        </port>
        <port name="omega_p" class="ptolemy.domains.fsm.modal.ModalPort">
            <property name="output"/>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
            </property>
        </port>
        <port name="alpha_e" class="ptolemy.domains.fsm.modal.ModalPort">
            <property name="output"/>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
            </property>
        </port>
        <port name="omega_c" class="ptolemy.domains.fsm.modal.ModalPort">
            <property name="output"/>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
            </property>
        </port>
        <port name="phi_c" class="ptolemy.domains.fsm.modal.ModalPort">
            <property name="output"/>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
            </property>
        </port>
        <entity name="_Controller" class="ptolemy.domains.fsm.modal.ModalController">
            <property name="initialStateName" class="ptolemy.kernel.util.StringAttribute" value="Init">
            </property>
            <property name="_library" class="ptolemy.moml.LibraryAttribute">
                <configure>
    <entity name="state library" class="ptolemy.kernel.CompositeEntity"><input source="ptolemy/configs/annotation.xml"></input><entity name="state" class="ptolemy.domains.fsm.kernel.State"><property name="_centerName" class="ptolemy.kernel.util.Attribute"></property></entity></entity>
  </configure>
            </property>
            <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[622, 434]">
            </property>
            <property name="_vergilLocation" class="ptolemy.actor.gui.LocationAttribute" value="[58, 102]">
            </property>
            <property name="InitialStateVector" class="ptolemy.data.expr.Parameter" value="{0.0,0.0,0.0,0.0,0.0}">
            </property>
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={102, 21, 837, 552}, maximized=false}">
            </property>
            <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="0.9005316140708">
            </property>
            <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{45.28125, -5.1156049035369}">
            </property>
            <port name="u" class="ptolemy.domains.fsm.modal.RefinementPort">
                <property name="input"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[-215.0, -70.0]">
                </property>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                </property>
            </port>
            <port name="CrossOver" class="ptolemy.domains.fsm.modal.RefinementPort">
                <property name="input"/>
                <property name="output"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="275.0, -175.0">
                </property>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                </property>
            </port>
            <port name="alpha_b" class="ptolemy.domains.fsm.modal.RefinementPort">
                <property name="input"/>
                <property name="output"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="275.0, -130.0">
                </property>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                </property>
            </port>
            <port name="omega_p" class="ptolemy.domains.fsm.modal.RefinementPort">
                <property name="input"/>
                <property name="output"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="275.0, -85.0">
                </property>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                </property>
            </port>
            <port name="alpha_e" class="ptolemy.domains.fsm.modal.RefinementPort">
                <property name="input"/>
                <property name="output"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="275.0, -40.0">
                </property>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                </property>
            </port>
            <port name="omega_c" class="ptolemy.domains.fsm.modal.RefinementPort">
                <property name="input"/>
                <property name="output"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="275.0, 0.0">
                </property>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                </property>
            </port>
            <port name="phi_c" class="ptolemy.domains.fsm.modal.RefinementPort">
                <property name="input"/>
                <property name="output"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="275.0, 45.0">
                </property>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                </property>
            </port>
            <entity name="DriveTrain" class="ptolemy.domains.fsm.kernel.State">
                <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="DriveTrain">
                </property>
                <property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="95.0, 5.0">
                </property>
            </entity>
            <entity name="Init" class="ptolemy.domains.fsm.kernel.State">
                <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="Init">
                </property>
                <property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[-135.0, 10.0]">
                </property>
            </entity>
            <relation name="relation3" class="ptolemy.domains.fsm.kernel.Transition">
                <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="true">
                </property>
                <property name="setActions" class="ptolemy.domains.fsm.kernel.CommitActionsAttribute" value="DriveTrain.InitialStateVector=InitialStateVector">
                </property>
                <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-1.3796642831673458">
                </property>
                <property name="gamma" class="ptolemy.data.expr.Parameter" value="0.24186146556880642">
                </property>
                <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                </property>
            </relation>
            <relation name="relation" class="ptolemy.domains.fsm.kernel.Transition">
                <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="CrossOver_isPresent">
                </property>
                <property name="setActions" class="ptolemy.domains.fsm.kernel.CommitActionsAttribute" value="DriveTrain.InitialStateVector={alpha_b,omega_p,alpha_e,omega_c,0.0}">
                </property>
                <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="2.356194490192345">
                </property>
                <property name="gamma" class="ptolemy.data.expr.Parameter" value="-0.00807016946882535">
                </property>
                <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                </property>
            </relation>
            <link port="DriveTrain.incomingPort" relation="relation3"/>
            <link port="DriveTrain.incomingPort" relation="relation"/>
            <link port="DriveTrain.outgoingPort" relation="relation"/>
            <link port="Init.outgoingPort" relation="relation3"/>
        </entity>
        <entity name="Int_and_Exp" class="ptolemy.domains.fsm.modal.Refinement">
            <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[1047, 850]">
            </property>
            <property name="_vergilLocation" class="ptolemy.actor.gui.LocationAttribute" value="[9, 28]">
            </property>
            <property name="CTEmbedded Director" class="ptolemy.domains.ct.kernel.CTEmbeddedDirector">
                <property name="startTime" class="ptolemy.data.expr.Parameter" value="0.0">
                </property>
                <property name="stopTime" class="ptolemy.data.expr.Parameter" value="1e6">
                </property>
                <property name="initStepSize" class="ptolemy.data.expr.Parameter" value="0.1">
                </property>
                <property name="minStepSize" class="ptolemy.data.expr.Parameter" value="1.0E-5">
                </property>
                <property name="maxStepSize" class="ptolemy.data.expr.Parameter" value="1.0">
                </property>
                <property name="maxIterations" class="ptolemy.data.expr.Parameter" value="20">
                </property>
                <property name="errorTolerance" class="ptolemy.data.expr.Parameter" value="1.0E-1">
                </property>
                <property name="valueResolution" class="ptolemy.data.expr.Parameter" value="1.0E-6">
                </property>
                <property name="synchronizeToRealTime" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <property name="ODESolver" class="ptolemy.data.expr.Parameter" value="&quot;ptolemy.domains.ct.kernel.solver.ExplicitRK23Solver&quot;">
                    <property name="style" class="ptolemy.actor.gui.style.EditableChoiceStyle">
                        <property name="choice0" class="ptolemy.data.expr.Parameter" value="&quot;ptolemy.domains.ct.kernel.solver.ExplicitRK23Solver&quot;">
                        </property>
                        <property name="choice1" class="ptolemy.data.expr.Parameter" value="&quot;ptolemy.domains.ct.kernel.solver.BackwardEulerSolver&quot;">
                        </property>
                        <property name="choice2" class="ptolemy.data.expr.Parameter" value="&quot;ptolemy.domains.ct.kernel.solver.ForwardEulerSolver&quot;">
                        </property>
                    </property>
                </property>
                <property name="breakpointODESolver" class="ptolemy.data.expr.Parameter" value="&quot;ptolemy.domains.ct.kernel.solver.DerivativeResolver&quot;">
                    <property name="style" class="ptolemy.actor.gui.style.EditableChoiceStyle">
                        <property name="choice0" class="ptolemy.data.expr.Parameter" value="&quot;ptolemy.domains.ct.kernel.solver.DerivativeResolver&quot;">
                        </property>
                        <property name="choice1" class="ptolemy.data.expr.Parameter" value="&quot;ptolemy.domains.ct.kernel.solver.BackwardEulerSolver&quot;">
                        </property>
                        <property name="choice2" class="ptolemy.data.expr.Parameter" value="&quot;ptolemy.domains.ct.kernel.solver.ImpulseBESolver&quot;">
                        </property>
                    </property>
                </property>
                <property name="timeResolution" class="ptolemy.data.expr.Parameter" value="1.0E-10">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="-455.0, -120.0">
                </property>
            </property>
            <property name="InitialStateVector" class="ptolemy.data.expr.Parameter" value="{2.6462685483504E-6, 0.4542485168536, 2.9296402595847E-5, 34.7969374071621, 0.0}">
            </property>
            <port name="u" class="ptolemy.domains.fsm.modal.RefinementPort">
                <property name="input"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="-500.0, 435.0">
                </property>
                <property name="_showName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                </property>
            </port>
            <port name="CrossOver" class="ptolemy.domains.fsm.modal.RefinementPort">
                <property name="output"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="930.0, 1005.0">
                </property>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                </property>
            </port>
            <port name="alpha_b" class="ptolemy.domains.fsm.modal.RefinementPort">
                <property name="output"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="540.0, 75.0">
                </property>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                </property>
            </port>
            <port name="omega_p" class="ptolemy.domains.fsm.modal.RefinementPort">
                <property name="output"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="555.0, 445.0">
                </property>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                </property>
            </port>
            <port name="alpha_e" class="ptolemy.domains.fsm.modal.RefinementPort">
                <property name="output"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="555.0, 840.0">
                </property>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                </property>
            </port>
            <port name="omega_c" class="ptolemy.domains.fsm.modal.RefinementPort">
                <property name="output"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="575.0, 1140.0">
                </property>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                </property>
            </port>
            <port name="phi_c" class="ptolemy.domains.fsm.modal.RefinementPort">
                <property name="output"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="925.0, 1165.0">
                </property>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                </property>
            </port>
            <entity name="1:AddSubtract" class="ptolemy.actor.lib.AddSubtract">
                <property name="_location" class="ptolemy.kernel.util.Location" value="50.0, 75.0">
                </property>
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
            </entity>
            <entity name="1:Scale4" class="ptolemy.actor.lib.Scale">
                <property name="factor" class="ptolemy.data.expr.Parameter" value="-8290.0">
                </property>
                <property name="scaleOnLeft" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="6">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="410.0, 200.0">
                </property>
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
            </entity>
            <entity name="1:Scale24" class="ptolemy.actor.lib.Scale">
                <property name="factor" class="ptolemy.data.expr.Parameter" value="6.0">
                </property>
                <property name="scaleOnLeft" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="6">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="565.0, 1165.0">
                </property>
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
            </entity>
            <entity name="omega_c" class="ptolemy.domains.ct.lib.Integrator">
                <property name="initialState" class="ptolemy.data.expr.Parameter" value="InitialStateVector.getElement(3)">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="180.0, 1165.0">
                </property>
                <port name="input" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="signalType" class="ptolemy.data.expr.Parameter" value="&quot;CONTINUOUS&quot;">
                    </property>
                </port>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                    <property name="signalType" class="ptolemy.data.expr.Parameter" value="&quot;CONTINUOUS&quot;">
                    </property>
                </port>
            </entity>
            <entity name="1:Scale35" class="ptolemy.actor.lib.Scale">
                <property name="factor" class="ptolemy.data.expr.Parameter" value="7.77e-3">
                </property>
                <property name="scaleOnLeft" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="6">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="415.0, 1130.0">
                </property>
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
            </entity>
            <entity name="1:Scale3" class="ptolemy.actor.lib.Scale">
                <property name="factor" class="ptolemy.data.expr.Parameter" value="30.3">
                </property>
                <property name="scaleOnLeft" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="6">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="410.0, 120.0">
                </property>
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
            </entity>
            <entity name="1:Scale" class="ptolemy.actor.lib.Scale">
                <property name="factor" class="ptolemy.data.expr.Parameter" value="-34.7">
                </property>
                <property name="scaleOnLeft" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="6">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="400.0, -50.0">
                </property>
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
            </entity>
            <entity name="1:Scale2" class="ptolemy.actor.lib.Scale">
                <property name="factor" class="ptolemy.data.expr.Parameter" value="19.2">
                </property>
                <property name="scaleOnLeft" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="6">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="405.0, 30.0">
                </property>
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
            </entity>
            <entity name="alpha_b" class="ptolemy.domains.ct.lib.Integrator">
                <property name="initialState" class="ptolemy.data.expr.Parameter" value="InitialStateVector.getElement(0)">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="170.0, 75.0">
                </property>
                <port name="input" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="signalType" class="ptolemy.data.expr.Parameter" value="&quot;CONTINUOUS&quot;">
                    </property>
                </port>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                    <property name="signalType" class="ptolemy.data.expr.Parameter" value="&quot;CONTINUOUS&quot;">
                    </property>
                </port>
            </entity>
            <entity name="phi_c" class="ptolemy.domains.ct.lib.Integrator">
                <property name="initialState" class="ptolemy.data.expr.Parameter" value="InitialStateVector.getElement(4)">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="700.0, 1165.0">
                </property>
                <port name="input" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="signalType" class="ptolemy.data.expr.Parameter" value="&quot;CONTINUOUS&quot;">
                    </property>
                </port>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                    <property name="signalType" class="ptolemy.data.expr.Parameter" value="&quot;CONTINUOUS&quot;">
                    </property>
                </port>
            </entity>
            <entity name="1:Scale21" class="ptolemy.actor.lib.Scale">
                <property name="factor" class="ptolemy.data.expr.Parameter" value="-52.2e3">
                </property>
                <property name="scaleOnLeft" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="6">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="410.0, 970.0">
                </property>
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
            </entity>
            <entity name="1:AddSubtract11" class="ptolemy.actor.lib.AddSubtract">
                <property name="_location" class="ptolemy.kernel.util.Location" value="65.0, 445.0">
                </property>
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
            </entity>
            <entity name="1:AddSubtract17" class="ptolemy.actor.lib.AddSubtract">
                <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 840.0">
                </property>
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
            </entity>
            <entity name="alpha_e" class="ptolemy.domains.ct.lib.Integrator">
                <property name="initialState" class="ptolemy.data.expr.Parameter" value="InitialStateVector.getElement(2)">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="180.0, 840.0">
                </property>
                <port name="input" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="signalType" class="ptolemy.data.expr.Parameter" value="&quot;CONTINUOUS&quot;">
                    </property>
                </port>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                    <property name="signalType" class="ptolemy.data.expr.Parameter" value="&quot;CONTINUOUS&quot;">
                    </property>
                </port>
            </entity>
            <entity name="1:Scale5" class="ptolemy.actor.lib.Scale">
                <property name="factor" class="ptolemy.data.expr.Parameter" value="-.611">
                </property>
                <property name="scaleOnLeft" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="6">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="410.0, 410.0">
                </property>
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
            </entity>
            <entity name="1:6:Scale3" class="ptolemy.actor.lib.Scale">
                <property name="factor" class="ptolemy.data.expr.Parameter" value="-.944">
                </property>
                <property name="scaleOnLeft" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="6">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="405.0, 500.0">
                </property>
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
            </entity>
            <entity name="1:Scale34" class="ptolemy.actor.lib.Scale">
                <property name="factor" class="ptolemy.data.expr.Parameter" value="8.11e-4">
                </property>
                <property name="scaleOnLeft" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="6">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="415.0, 1065.0">
                </property>
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
            </entity>
            <entity name="1:Scale36" class="ptolemy.actor.lib.Scale">
                <property name="factor" class="ptolemy.data.expr.Parameter" value="1.23e-2">
                </property>
                <property name="scaleOnLeft" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="6">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="415.0, 1200.0">
                </property>
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
            </entity>
            <entity name="1:AddSubtract31" class="ptolemy.actor.lib.AddSubtract">
                <property name="_location" class="ptolemy.kernel.util.Location" value="70.0, 1165.0">
                </property>
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
            </entity>
            <entity name="1:6:Scale" class="ptolemy.actor.lib.Scale">
                <property name="factor" class="ptolemy.data.expr.Parameter" value="-6.34e-2">
                </property>
                <property name="scaleOnLeft" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="6">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="410.0, 330.0">
                </property>
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
            </entity>
            <entity name="1:Scale23" class="ptolemy.actor.lib.Scale">
                <property name="factor" class="ptolemy.data.expr.Parameter" value="-11.0">
                </property>
                <property name="scaleOnLeft" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="6">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="410.0, 875.0">
                </property>
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
            </entity>
            <entity name="1:Scale22" class="ptolemy.actor.lib.Scale">
                <property name="factor" class="ptolemy.data.expr.Parameter" value="412.0">
                </property>
                <property name="scaleOnLeft" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="6">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="410.0, 800.0">
                </property>
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
            </entity>
            <entity name="1:Scale60" class="ptolemy.actor.lib.Scale">
                <property name="factor" class="ptolemy.data.expr.Parameter" value="-1.33e-3">
                </property>
                <property name="scaleOnLeft" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="6">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="-245.0, 830.0">
                </property>
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
            </entity>
            <entity name="omega_p" class="ptolemy.domains.ct.lib.Integrator">
                <property name="initialState" class="ptolemy.data.expr.Parameter" value="InitialStateVector.getElement(1)">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="170.0, 445.0">
                </property>
                <port name="input" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="signalType" class="ptolemy.data.expr.Parameter" value="&quot;CONTINUOUS&quot;">
                    </property>
                </port>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                    <property name="signalType" class="ptolemy.data.expr.Parameter" value="&quot;CONTINUOUS&quot;">
                    </property>
                </port>
            </entity>
            <entity name="LevelCrossingDetector" class="ptolemy.domains.ct.lib.LevelCrossingDetector">
                <property name="level" class="ptolemy.data.expr.Parameter" value="720.0">
                </property>
                <property name="defaultEventValue" class="ptolemy.data.expr.Parameter" value="0.0">
                </property>
                <property name="errorTolerance" class="ptolemy.data.expr.Parameter" value="1.0E-1">
                </property>
                <property name="LevelCrossingDetectorIcon" class="ptolemy.vergil.icon.EditorIcon">
                    <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={104, 125, 815, 518}, maximized=false}">
                    </property>
                    <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[600, 400]">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="825.0, 1005.0">
                </property>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                    <property name="signalType" class="ptolemy.data.expr.Parameter" value="&quot;DISCRETE&quot;">
                    </property>
                </port>
                <port name="trigger" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="signalType" class="ptolemy.data.expr.Parameter" value="&quot;CONTINUOUS&quot;">
                    </property>
                </port>
                <port name="input" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="signalType" class="ptolemy.data.expr.Parameter" value="&quot;CONTINUOUS&quot;">
                    </property>
                </port>
            </entity>
            <entity name="1:Scale58" class="ptolemy.actor.lib.Scale">
                <property name="factor" class="ptolemy.data.expr.Parameter" value="1.52e-3">
                </property>
                <property name="scaleOnLeft" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="6">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="-255.0, 65.0">
                </property>
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
            </entity>
            <entity name="1:Scale20" class="ptolemy.actor.lib.Scale">
                <property name="factor" class="ptolemy.data.expr.Parameter" value="12.6">
                </property>
                <property name="scaleOnLeft" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="6">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="415.0, 715.0">
                </property>
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
            </entity>
            <entity name="1:Scale37" class="ptolemy.actor.lib.Scale">
                <property name="factor" class="ptolemy.data.expr.Parameter" value="-3.84">
                </property>
                <property name="scaleOnLeft" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="6">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="410.0, 1265.0">
                </property>
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
            </entity>
            <entity name="1:Scale62" class="ptolemy.actor.lib.Scale">
                <property name="factor" class="ptolemy.data.expr.Parameter" value="47.8">
                </property>
                <property name="scaleOnLeft" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="6">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="-245.0, 1155.0">
                </property>
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
            </entity>
            <entity name="1:6:Scale4" class="ptolemy.actor.lib.Scale">
                <property name="factor" class="ptolemy.data.expr.Parameter" value="262.0">
                </property>
                <property name="scaleOnLeft" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="6">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="410.0, 585.0">
                </property>
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
            </entity>
            <relation name="1:relation36" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="630.0, 1165.0">
                </vertex>
            </relation>
            <relation name="1:relation44" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="15.0, 1000.0">
                </vertex>
            </relation>
            <relation name="1:relation33" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="260.0, 1165.0">
                </vertex>
            </relation>
            <relation name="1:relation45" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="-115.0, 1020.0">
                </vertex>
            </relation>
            <relation name="1:relation51" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="15.0, 250.0">
                </vertex>
            </relation>
            <relation name="1:relation17" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="1:relation27" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="-50.0, 525.0">
                </vertex>
            </relation>
            <relation name="1:relation10" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="-115.0, 290.0">
                </vertex>
            </relation>
            <relation name="1:relation16" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="1:relation77" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="-115.0, 615.0">
                </vertex>
            </relation>
            <relation name="1:relation48" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="-50.0, 1225.0">
                </vertex>
            </relation>
            <relation name="1:relation18" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="1:relation47" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="-75.0, 1090.0">
                </vertex>
            </relation>
            <relation name="1:relation49" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="-20.0, 370.0">
                </vertex>
            </relation>
            <relation name="1:relation13" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="-75.0, -5.0">
                </vertex>
            </relation>
            <relation name="1:relation30" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="-50.0, 155.0">
                </vertex>
            </relation>
            <relation name="1:relation19" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="280.0, 840.0">
                </vertex>
            </relation>
            <relation name="1:relation25" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="-75.0, 765.0">
                </vertex>
            </relation>
            <relation name="1:relation12" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="1:relation64" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="-405.0, 435.0">
                </vertex>
            </relation>
            <relation name="1:relation76" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="-20.0, 915.0">
                </vertex>
            </relation>
            <relation name="1:relation40" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="15.0, 1305.0">
                </vertex>
            </relation>
            <relation name="1:relation32" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="1:relation" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="255.0, 75.0">
                </vertex>
            </relation>
            <relation name="1:relation20" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="1:relation24" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="-115.0, 655.0">
                </vertex>
            </relation>
            <relation name="1:relation6" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="1:6:relation" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="265.0, 445.0">
                </vertex>
            </relation>
            <relation name="relation5" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="-115.0, -80.0">
                </vertex>
            </relation>
            <relation name="relation" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="885.0, 1005.0">
                </vertex>
            </relation>
            <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="770.0, 1165.0">
                </vertex>
            </relation>
            <link port="u" relation="1:relation64"/>
            <link port="CrossOver" relation="relation"/>
            <link port="alpha_b" relation="1:relation"/>
            <link port="omega_p" relation="1:6:relation"/>
            <link port="alpha_e" relation="1:relation19"/>
            <link port="omega_c" relation="1:relation33"/>
            <link port="phi_c" relation="relation2"/>
            <link port="1:AddSubtract.plus" relation="1:relation10"/>
            <link port="1:AddSubtract.plus" relation="1:relation24"/>
            <link port="1:AddSubtract.plus" relation="1:relation45"/>
            <link port="1:AddSubtract.plus" relation="1:relation20"/>
            <link port="1:AddSubtract.plus" relation="relation5"/>
            <link port="1:AddSubtract.output" relation="1:relation6"/>
            <link port="1:Scale4.input" relation="1:relation"/>
            <link port="1:Scale4.output" relation="1:relation51"/>
            <link port="1:Scale24.input" relation="1:relation33"/>
            <link port="1:Scale24.output" relation="1:relation36"/>
            <link port="omega_c.input" relation="1:relation32"/>
            <link port="omega_c.output" relation="1:relation33"/>
            <link port="1:Scale35.input" relation="1:relation33"/>
            <link port="1:Scale35.output" relation="1:relation47"/>
            <link port="1:Scale3.input" relation="1:relation"/>
            <link port="1:Scale3.output" relation="1:relation30"/>
            <link port="1:Scale.input" relation="1:relation"/>
            <link port="1:Scale.output" relation="relation5"/>
            <link port="1:Scale2.input" relation="1:relation"/>
            <link port="1:Scale2.output" relation="1:relation13"/>
            <link port="alpha_b.input" relation="1:relation6"/>
            <link port="alpha_b.output" relation="1:relation"/>
            <link port="phi_c.input" relation="1:relation36"/>
            <link port="phi_c.output" relation="relation2"/>
            <link port="1:Scale21.input" relation="1:relation19"/>
            <link port="1:Scale21.output" relation="1:relation44"/>
            <link port="1:AddSubtract11.plus" relation="1:relation13"/>
            <link port="1:AddSubtract11.plus" relation="1:relation49"/>
            <link port="1:AddSubtract11.plus" relation="1:relation25"/>
            <link port="1:AddSubtract11.plus" relation="1:relation47"/>
            <link port="1:AddSubtract11.output" relation="1:relation12"/>
            <link port="1:AddSubtract17.plus" relation="1:relation30"/>
            <link port="1:AddSubtract17.plus" relation="1:relation27"/>
            <link port="1:AddSubtract17.plus" relation="1:relation76"/>
            <link port="1:AddSubtract17.plus" relation="1:relation48"/>
            <link port="1:AddSubtract17.plus" relation="1:relation17"/>
            <link port="1:AddSubtract17.output" relation="1:relation18"/>
            <link port="alpha_e.input" relation="1:relation18"/>
            <link port="alpha_e.output" relation="1:relation19"/>
            <link port="1:Scale5.input" relation="1:6:relation"/>
            <link port="1:Scale5.output" relation="1:relation49"/>
            <link port="1:6:Scale3.input" relation="1:6:relation"/>
            <link port="1:6:Scale3.output" relation="1:relation27"/>
            <link port="1:Scale34.input" relation="1:relation33"/>
            <link port="1:Scale34.output" relation="1:relation45"/>
            <link port="1:Scale36.input" relation="1:relation33"/>
            <link port="1:Scale36.output" relation="1:relation48"/>
            <link port="1:AddSubtract31.plus" relation="1:relation51"/>
            <link port="1:AddSubtract31.plus" relation="1:relation77"/>
            <link port="1:AddSubtract31.plus" relation="1:relation44"/>
            <link port="1:AddSubtract31.plus" relation="1:relation40"/>
            <link port="1:AddSubtract31.plus" relation="1:relation16"/>
            <link port="1:AddSubtract31.output" relation="1:relation32"/>
            <link port="1:6:Scale.input" relation="1:6:relation"/>
            <link port="1:6:Scale.output" relation="1:relation10"/>
            <link port="1:Scale23.input" relation="1:relation19"/>
            <link port="1:Scale23.output" relation="1:relation76"/>
            <link port="1:Scale22.input" relation="1:relation19"/>
            <link port="1:Scale22.output" relation="1:relation25"/>
            <link port="1:Scale60.input" relation="1:relation64"/>
            <link port="1:Scale60.output" relation="1:relation17"/>
            <link port="omega_p.input" relation="1:relation12"/>
            <link port="omega_p.output" relation="1:6:relation"/>
            <link port="LevelCrossingDetector.output" relation="relation"/>
            <link port="LevelCrossingDetector.trigger" relation="relation2"/>
            <link port="LevelCrossingDetector.input" relation="1:relation36"/>
            <link port="1:Scale58.input" relation="1:relation64"/>
            <link port="1:Scale58.output" relation="1:relation20"/>
            <link port="1:Scale20.input" relation="1:relation19"/>
            <link port="1:Scale20.output" relation="1:relation24"/>
            <link port="1:Scale37.input" relation="1:relation33"/>
            <link port="1:Scale37.output" relation="1:relation40"/>
            <link port="1:Scale62.input" relation="1:relation64"/>
            <link port="1:Scale62.output" relation="1:relation16"/>
            <link port="1:6:Scale4.input" relation="1:6:relation"/>
            <link port="1:6:Scale4.output" relation="1:relation77"/>
        </entity>
        <entity name="Cmp_and_Exh" class="ptolemy.domains.fsm.modal.Refinement">
            <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[1051, 841]">
            </property>
            <property name="_vergilLocation" class="ptolemy.actor.gui.LocationAttribute" value="[7, 32]">
            </property>
            <property name="CTEmbedded Director" class="ptolemy.domains.ct.kernel.CTEmbeddedDirector">
                <property name="startTime" class="ptolemy.data.expr.Parameter" value="0.0">
                </property>
                <property name="stopTime" class="ptolemy.data.expr.Parameter" value="1e6">
                </property>
                <property name="initStepSize" class="ptolemy.data.expr.Parameter" value="0.1">
                </property>
                <property name="minStepSize" class="ptolemy.data.expr.Parameter" value="1.0E-5">
                </property>
                <property name="maxStepSize" class="ptolemy.data.expr.Parameter" value="1.0">
                </property>
                <property name="maxIterations" class="ptolemy.data.expr.Parameter" value="20">
                </property>
                <property name="errorTolerance" class="ptolemy.data.expr.Parameter" value="1.0E-1">
                </property>
                <property name="valueResolution" class="ptolemy.data.expr.Parameter" value="1.0E-6">
                </property>
                <property name="synchronizeToRealTime" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <property name="ODESolver" class="ptolemy.data.expr.Parameter" value="&quot;ptolemy.domains.ct.kernel.solver.ExplicitRK23Solver&quot;">
                    <property name="style" class="ptolemy.actor.gui.style.EditableChoiceStyle">
                        <property name="choice0" class="ptolemy.data.expr.Parameter" value="&quot;ptolemy.domains.ct.kernel.solver.ExplicitRK23Solver&quot;">
                        </property>
                        <property name="choice1" class="ptolemy.data.expr.Parameter" value="&quot;ptolemy.domains.ct.kernel.solver.BackwardEulerSolver&quot;">
                        </property>
                        <property name="choice2" class="ptolemy.data.expr.Parameter" value="&quot;ptolemy.domains.ct.kernel.solver.ForwardEulerSolver&quot;">
                        </property>
                    </property>
                </property>
                <property name="breakpointODESolver" class="ptolemy.data.expr.Parameter" value="&quot;ptolemy.domains.ct.kernel.solver.DerivativeResolver&quot;">
                    <property name="style" class="ptolemy.actor.gui.style.EditableChoiceStyle">
                        <property name="choice0" class="ptolemy.data.expr.Parameter" value="&quot;ptolemy.domains.ct.kernel.solver.DerivativeResolver&quot;">
                        </property>
                        <property name="choice1" class="ptolemy.data.expr.Parameter" value="&quot;ptolemy.domains.ct.kernel.solver.BackwardEulerSolver&quot;">
                        </property>
                        <property name="choice2" class="ptolemy.data.expr.Parameter" value="&quot;ptolemy.domains.ct.kernel.solver.ImpulseBESolver&quot;">
                        </property>
                    </property>
                </property>
                <property name="timeResolution" class="ptolemy.data.expr.Parameter" value="1.0E-10">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="600.0, -15.0">
                </property>
            </property>
            <property name="InitialStateVector" class="ptolemy.data.expr.Parameter" value="{-5.5986030647202E-6, 0.4737680508907, 2.3164283450885E-5, 36.3623113060686, 179.9996805560003}">
            </property>
            <port name="u" class="ptolemy.domains.fsm.modal.RefinementPort">
                <property name="input"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="-505.0, 435.0">
                </property>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                </property>
            </port>
            <port name="CrossOver" class="ptolemy.domains.fsm.modal.RefinementPort">
                <property name="output"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="1070.0, 965.0">
                </property>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                </property>
            </port>
            <port name="alpha_b" class="ptolemy.domains.fsm.modal.RefinementPort">
                <property name="output"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="565.0, 75.0">
                </property>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                </property>
            </port>
            <port name="omega_p" class="ptolemy.domains.fsm.modal.RefinementPort">
                <property name="output"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="560.0, 445.0">
                </property>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                </property>
            </port>
            <port name="alpha_e" class="ptolemy.domains.fsm.modal.RefinementPort">
                <property name="output"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="550.0, 840.0">
                </property>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                </property>
            </port>
            <port name="omega_c" class="ptolemy.domains.fsm.modal.RefinementPort">
                <property name="output"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="600.0, 1145.0">
                </property>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                </property>
            </port>
            <port name="phi_c" class="ptolemy.domains.fsm.modal.RefinementPort">
                <property name="output"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="1075.0, 1155.0">
                </property>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                </property>
            </port>
            <entity name="1:AddSubtract" class="ptolemy.actor.lib.AddSubtract">
                <property name="_location" class="ptolemy.kernel.util.Location" value="45.0, 75.0">
                </property>
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
            </entity>
            <entity name="1:Scale4" class="ptolemy.actor.lib.Scale">
                <property name="factor" class="ptolemy.data.expr.Parameter" value="-8290.0">
                </property>
                <property name="scaleOnLeft" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="6">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="410.0, 200.0">
                </property>
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
            </entity>
            <entity name="1:Scale24" class="ptolemy.actor.lib.Scale">
                <property name="factor" class="ptolemy.data.expr.Parameter" value="6.0">
                </property>
                <property name="scaleOnLeft" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="6">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="555.0, 1165.0">
                </property>
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
            </entity>
            <entity name="omega_c" class="ptolemy.domains.ct.lib.Integrator">
                <property name="initialState" class="ptolemy.data.expr.Parameter" value="InitialStateVector.getElement(3)">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="175.0, 1165.0">
                </property>
                <port name="input" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="signalType" class="ptolemy.data.expr.Parameter" value="&quot;CONTINUOUS&quot;">
                    </property>
                </port>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                    <property name="signalType" class="ptolemy.data.expr.Parameter" value="&quot;CONTINUOUS&quot;">
                    </property>
                </port>
            </entity>
            <entity name="1:Scale35" class="ptolemy.actor.lib.Scale">
                <property name="factor" class="ptolemy.data.expr.Parameter" value="7.77e-3">
                </property>
                <property name="scaleOnLeft" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="6">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="420.0, 1130.0">
                </property>
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
            </entity>
            <entity name="1:Scale3" class="ptolemy.actor.lib.Scale">
                <property name="factor" class="ptolemy.data.expr.Parameter" value="30.3">
                </property>
                <property name="scaleOnLeft" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="6">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="410.0, 125.0">
                </property>
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
            </entity>
            <entity name="1:Scale" class="ptolemy.actor.lib.Scale">
                <property name="factor" class="ptolemy.data.expr.Parameter" value="-34.7">
                </property>
                <property name="scaleOnLeft" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="6">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="405.0, -40.0">
                </property>
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
            </entity>
            <entity name="1:Scale2" class="ptolemy.actor.lib.Scale">
                <property name="factor" class="ptolemy.data.expr.Parameter" value="19.2">
                </property>
                <property name="scaleOnLeft" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="6">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="415.0, 30.0">
                </property>
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
            </entity>
            <entity name="alpha_b" class="ptolemy.domains.ct.lib.Integrator">
                <property name="initialState" class="ptolemy.data.expr.Parameter" value="InitialStateVector.getElement(0)">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="165.0, 75.0">
                </property>
                <port name="input" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="signalType" class="ptolemy.data.expr.Parameter" value="&quot;CONTINUOUS&quot;">
                    </property>
                </port>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                    <property name="signalType" class="ptolemy.data.expr.Parameter" value="&quot;CONTINUOUS&quot;">
                    </property>
                </port>
            </entity>
            <entity name="phi_c" class="ptolemy.domains.ct.lib.Integrator">
                <property name="initialState" class="ptolemy.data.expr.Parameter" value="InitialStateVector.getElement(4)">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="720.0, 1165.0">
                </property>
                <port name="input" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="signalType" class="ptolemy.data.expr.Parameter" value="&quot;CONTINUOUS&quot;">
                    </property>
                </port>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                    <property name="signalType" class="ptolemy.data.expr.Parameter" value="&quot;CONTINUOUS&quot;">
                    </property>
                </port>
            </entity>
            <entity name="1:Scale21" class="ptolemy.actor.lib.Scale">
                <property name="factor" class="ptolemy.data.expr.Parameter" value="-52.2e3">
                </property>
                <property name="scaleOnLeft" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="6">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="410.0, 960.0">
                </property>
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
            </entity>
            <entity name="1:AddSubtract11" class="ptolemy.actor.lib.AddSubtract">
                <property name="_location" class="ptolemy.kernel.util.Location" value="65.0, 445.0">
                </property>
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
            </entity>
            <entity name="1:AddSubtract17" class="ptolemy.actor.lib.AddSubtract">
                <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 840.0">
                </property>
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
            </entity>
            <entity name="alpha_e" class="ptolemy.domains.ct.lib.Integrator">
                <property name="initialState" class="ptolemy.data.expr.Parameter" value="InitialStateVector.getElement(2)">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="170.0, 840.0">
                </property>
                <port name="input" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="signalType" class="ptolemy.data.expr.Parameter" value="&quot;CONTINUOUS&quot;">
                    </property>
                </port>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                    <property name="signalType" class="ptolemy.data.expr.Parameter" value="&quot;CONTINUOUS&quot;">
                    </property>
                </port>
            </entity>
            <entity name="1:Scale5" class="ptolemy.actor.lib.Scale">
                <property name="factor" class="ptolemy.data.expr.Parameter" value="-.611">
                </property>
                <property name="scaleOnLeft" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="6">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="405.0, 395.0">
                </property>
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
            </entity>
            <entity name="1:6:Scale3" class="ptolemy.actor.lib.Scale">
                <property name="factor" class="ptolemy.data.expr.Parameter" value="-.944">
                </property>
                <property name="scaleOnLeft" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="6">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="410.0, 485.0">
                </property>
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
            </entity>
            <entity name="1:Scale34" class="ptolemy.actor.lib.Scale">
                <property name="factor" class="ptolemy.data.expr.Parameter" value="8.11e-4">
                </property>
                <property name="scaleOnLeft" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="6">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="420.0, 1060.0">
                </property>
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
            </entity>
            <entity name="1:Scale36" class="ptolemy.actor.lib.Scale">
                <property name="factor" class="ptolemy.data.expr.Parameter" value="1.23e-2">
                </property>
                <property name="scaleOnLeft" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="6">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="420.0, 1205.0">
                </property>
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
            </entity>
            <entity name="1:AddSubtract31" class="ptolemy.actor.lib.AddSubtract">
                <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 1165.0">
                </property>
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
            </entity>
            <entity name="1:6:Scale" class="ptolemy.actor.lib.Scale">
                <property name="factor" class="ptolemy.data.expr.Parameter" value="-6.34e-2">
                </property>
                <property name="scaleOnLeft" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="6">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="415.0, 330.0">
                </property>
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
            </entity>
            <entity name="1:Scale23" class="ptolemy.actor.lib.Scale">
                <property name="factor" class="ptolemy.data.expr.Parameter" value="-11.0">
                </property>
                <property name="scaleOnLeft" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="6">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="405.0, 880.0">
                </property>
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
            </entity>
            <entity name="1:Scale22" class="ptolemy.actor.lib.Scale">
                <property name="factor" class="ptolemy.data.expr.Parameter" value="412.0">
                </property>
                <property name="scaleOnLeft" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="6">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="415.0, 800.0">
                </property>
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
            </entity>
            <entity name="1:Scale60" class="ptolemy.actor.lib.Scale">
                <property name="factor" class="ptolemy.data.expr.Parameter" value="-1.33e-3">
                </property>
                <property name="scaleOnLeft" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="6">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="-245.0, 830.0">
                </property>
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
            </entity>
            <entity name="omega_p" class="ptolemy.domains.ct.lib.Integrator">
                <property name="initialState" class="ptolemy.data.expr.Parameter" value="InitialStateVector.getElement(1)">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="180.0, 445.0">
                </property>
                <port name="input" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="signalType" class="ptolemy.data.expr.Parameter" value="&quot;CONTINUOUS&quot;">
                    </property>
                </port>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                    <property name="signalType" class="ptolemy.data.expr.Parameter" value="&quot;CONTINUOUS&quot;">
                    </property>
                </port>
            </entity>
            <entity name="1:Scale58" class="ptolemy.actor.lib.Scale">
                <property name="factor" class="ptolemy.data.expr.Parameter" value="1.52e-3">
                </property>
                <property name="scaleOnLeft" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="6">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="-260.0, 65.0">
                </property>
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
            </entity>
            <entity name="1:Scale20" class="ptolemy.actor.lib.Scale">
                <property name="factor" class="ptolemy.data.expr.Parameter" value="12.6">
                </property>
                <property name="scaleOnLeft" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="6">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="415.0, 695.0">
                </property>
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
            </entity>
            <entity name="1:Scale37" class="ptolemy.actor.lib.Scale">
                <property name="factor" class="ptolemy.data.expr.Parameter" value="-3.84">
                </property>
                <property name="scaleOnLeft" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="6">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="410.0, 1275.0">
                </property>
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
            </entity>
            <entity name="1:Scale62" class="ptolemy.actor.lib.Scale">
                <property name="factor" class="ptolemy.data.expr.Parameter" value="47.8">
                </property>
                <property name="scaleOnLeft" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="6">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="-245.0, 1155.0">
                </property>
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
            </entity>
            <entity name="1:6:Scale4" class="ptolemy.actor.lib.Scale">
                <property name="factor" class="ptolemy.data.expr.Parameter" value="262.0">
                </property>
                <property name="scaleOnLeft" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="6">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="410.0, 580.0">
                </property>
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
            </entity>
            <entity name="AddSubtract" class="ptolemy.actor.lib.AddSubtract">
                <property name="_location" class="ptolemy.kernel.util.Location" value="955.0, 1155.0">
                </property>
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
                <port name="plus" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="multiport"/>
                    <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                    </property>
                </port>
                <port name="minus" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="multiport"/>
                    <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                    </property>
                </port>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                    <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                    </property>
                </port>
            </entity>
            <entity name="Const" class="ptolemy.actor.lib.Const">
                <property name="value" class="ptolemy.data.expr.Parameter" value="360.0">
                </property>
                <doc>Create a constant sequence</doc>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="835.0, 1105.0">
                </property>
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
            </entity>
            <entity name="LevelCrossingDetector" class="ptolemy.domains.ct.lib.LevelCrossingDetector">
                <property name="level" class="ptolemy.data.expr.Parameter" value="360.0">
                </property>
                <property name="defaultEventValue" class="ptolemy.data.expr.Parameter" value="0.0">
                </property>
                <property name="errorTolerance" class="ptolemy.data.expr.Parameter" value="1.0E-1">
                </property>
                <property name="LevelCrossingDetectorIcon" class="ptolemy.vergil.icon.EditorIcon">
                    <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={104, 125, 815, 518}, maximized=false}">
                    </property>
                    <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[600, 400]">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="885.0, 965.0">
                </property>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                    <property name="signalType" class="ptolemy.data.expr.Parameter" value="&quot;DISCRETE&quot;">
                    </property>
                </port>
                <port name="trigger" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="signalType" class="ptolemy.data.expr.Parameter" value="&quot;CONTINUOUS&quot;">
                    </property>
                </port>
                <port name="input" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="signalType" class="ptolemy.data.expr.Parameter" value="&quot;CONTINUOUS&quot;">
                    </property>
                </port>
            </entity>
            <relation name="1:relation36" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="655.0, 1165.0">
                </vertex>
            </relation>
            <relation name="1:relation44" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="15.0, 990.0">
                </vertex>
            </relation>
            <relation name="1:relation33" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="270.0, 1165.0">
                </vertex>
            </relation>
            <relation name="1:relation45" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="-115.0, 1030.0">
                </vertex>
            </relation>
            <relation name="1:relation51" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="15.0, 240.0">
                </vertex>
            </relation>
            <relation name="1:relation17" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="1:relation27" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="-50.0, 525.0">
                </vertex>
            </relation>
            <relation name="1:relation10" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="-115.0, 290.0">
                </vertex>
            </relation>
            <relation name="1:relation16" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="1:relation77" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="15.0, 615.0">
                </vertex>
            </relation>
            <relation name="1:relation48" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="-45.0, 1235.0">
                </vertex>
            </relation>
            <relation name="1:relation18" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="1:relation47" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="-75.0, 1100.0">
                </vertex>
            </relation>
            <relation name="1:relation49" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="-15.0, 365.0">
                </vertex>
            </relation>
            <relation name="1:relation13" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="-75.0, -15.0">
                </vertex>
            </relation>
            <relation name="1:relation30" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="-50.0, 145.0">
                </vertex>
            </relation>
            <relation name="1:relation19" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="280.0, 840.0">
                </vertex>
            </relation>
            <relation name="1:relation25" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="-75.0, 765.0">
                </vertex>
            </relation>
            <relation name="1:relation12" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="1:relation64" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="-415.0, 435.0">
                </vertex>
            </relation>
            <relation name="1:relation76" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="-40.0, 915.0">
                </vertex>
            </relation>
            <relation name="1:relation40" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="15.0, 1305.0">
                </vertex>
            </relation>
            <relation name="1:relation32" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="1:relation20" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="1:relation24" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="-115.0, 660.0">
                </vertex>
            </relation>
            <relation name="1:relation6" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="1:6:relation" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="275.0, 445.0">
                </vertex>
            </relation>
            <relation name="1:relation37" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="1005.0, 1155.0">
                </vertex>
            </relation>
            <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="-115.0, -115.0">
                </vertex>
            </relation>
            <relation name="relation4" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="1005.0, 965.0">
                </vertex>
            </relation>
            <relation name="relation6" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="275.0, 75.0">
                </vertex>
            </relation>
            <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="780.0, 1165.0">
                </vertex>
            </relation>
            <link port="u" relation="1:relation64"/>
            <link port="CrossOver" relation="relation"/>
            <link port="alpha_b" relation="relation6"/>
            <link port="omega_p" relation="1:6:relation"/>
            <link port="alpha_e" relation="1:relation19"/>
            <link port="omega_c" relation="1:relation33"/>
            <link port="phi_c" relation="1:relation37"/>
            <link port="1:AddSubtract.plus" relation="1:relation10"/>
            <link port="1:AddSubtract.plus" relation="1:relation24"/>
            <link port="1:AddSubtract.plus" relation="1:relation45"/>
            <link port="1:AddSubtract.plus" relation="1:relation20"/>
            <link port="1:AddSubtract.plus" relation="relation2"/>
            <link port="1:AddSubtract.output" relation="1:relation6"/>
            <link port="1:Scale4.input" relation="relation6"/>
            <link port="1:Scale4.output" relation="1:relation51"/>
            <link port="1:Scale24.input" relation="1:relation33"/>
            <link port="1:Scale24.output" relation="1:relation36"/>
            <link port="omega_c.input" relation="1:relation32"/>
            <link port="omega_c.output" relation="1:relation33"/>
            <link port="1:Scale35.input" relation="1:relation33"/>
            <link port="1:Scale35.output" relation="1:relation47"/>
            <link port="1:Scale3.input" relation="relation6"/>
            <link port="1:Scale3.output" relation="1:relation30"/>
            <link port="1:Scale.input" relation="relation6"/>
            <link port="1:Scale.output" relation="relation2"/>
            <link port="1:Scale2.input" relation="relation6"/>
            <link port="1:Scale2.output" relation="1:relation13"/>
            <link port="alpha_b.input" relation="1:relation6"/>
            <link port="alpha_b.output" relation="relation6"/>
            <link port="phi_c.input" relation="1:relation36"/>
            <link port="phi_c.output" relation="relation3"/>
            <link port="1:Scale21.input" relation="1:relation19"/>
            <link port="1:Scale21.output" relation="1:relation44"/>
            <link port="1:AddSubtract11.plus" relation="1:relation13"/>
            <link port="1:AddSubtract11.plus" relation="1:relation49"/>
            <link port="1:AddSubtract11.plus" relation="1:relation25"/>
            <link port="1:AddSubtract11.plus" relation="1:relation47"/>
            <link port="1:AddSubtract11.output" relation="1:relation12"/>
            <link port="1:AddSubtract17.plus" relation="1:relation30"/>
            <link port="1:AddSubtract17.plus" relation="1:relation27"/>
            <link port="1:AddSubtract17.plus" relation="1:relation76"/>
            <link port="1:AddSubtract17.plus" relation="1:relation48"/>
            <link port="1:AddSubtract17.plus" relation="1:relation17"/>
            <link port="1:AddSubtract17.output" relation="1:relation18"/>
            <link port="alpha_e.input" relation="1:relation18"/>
            <link port="alpha_e.output" relation="1:relation19"/>
            <link port="1:Scale5.input" relation="1:6:relation"/>
            <link port="1:Scale5.output" relation="1:relation49"/>
            <link port="1:6:Scale3.input" relation="1:6:relation"/>
            <link port="1:6:Scale3.output" relation="1:relation27"/>
            <link port="1:Scale34.input" relation="1:relation33"/>
            <link port="1:Scale34.output" relation="1:relation45"/>
            <link port="1:Scale36.input" relation="1:relation33"/>
            <link port="1:Scale36.output" relation="1:relation48"/>
            <link port="1:AddSubtract31.plus" relation="1:relation51"/>
            <link port="1:AddSubtract31.plus" relation="1:relation77"/>
            <link port="1:AddSubtract31.plus" relation="1:relation44"/>
            <link port="1:AddSubtract31.plus" relation="1:relation40"/>
            <link port="1:AddSubtract31.plus" relation="1:relation16"/>
            <link port="1:AddSubtract31.output" relation="1:relation32"/>
            <link port="1:6:Scale.input" relation="1:6:relation"/>
            <link port="1:6:Scale.output" relation="1:relation10"/>
            <link port="1:Scale23.input" relation="1:relation19"/>
            <link port="1:Scale23.output" relation="1:relation76"/>
            <link port="1:Scale22.input" relation="1:relation19"/>
            <link port="1:Scale22.output" relation="1:relation25"/>
            <link port="1:Scale60.input" relation="1:relation64"/>
            <link port="1:Scale60.output" relation="1:relation17"/>
            <link port="omega_p.input" relation="1:relation12"/>
            <link port="omega_p.output" relation="1:6:relation"/>
            <link port="1:Scale58.input" relation="1:relation64"/>
            <link port="1:Scale58.output" relation="1:relation20"/>
            <link port="1:Scale20.input" relation="1:relation19"/>
            <link port="1:Scale20.output" relation="1:relation24"/>
            <link port="1:Scale37.input" relation="1:relation33"/>
            <link port="1:Scale37.output" relation="1:relation40"/>
            <link port="1:Scale62.input" relation="1:relation64"/>
            <link port="1:Scale62.output" relation="1:relation16"/>
            <link port="1:6:Scale4.input" relation="1:6:relation"/>
            <link port="1:6:Scale4.output" relation="1:relation77"/>
            <link port="AddSubtract.plus" relation="relation4"/>
            <link port="AddSubtract.minus" relation="relation3"/>
            <link port="AddSubtract.output" relation="1:relation37"/>
            <link port="Const.output" relation="relation4"/>
            <link port="LevelCrossingDetector.output" relation="relation"/>
            <link port="LevelCrossingDetector.trigger" relation="relation3"/>
            <link port="LevelCrossingDetector.input" relation="1:relation36"/>
        </entity>
        <entity name="DriveTrain" class="ptolemy.domains.fsm.modal.Refinement">
            <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[935, 771]">
            </property>
            <property name="_vergilLocation" class="ptolemy.actor.gui.LocationAttribute" value="[65, 67]">
            </property>
            <property name="1:CTEmbedded Director" class="ptolemy.domains.ct.kernel.CTEmbeddedDirector">
                <property name="startTime" class="ptolemy.data.expr.Parameter" value="0.0">
                </property>
                <property name="stopTime" class="ptolemy.data.expr.Parameter" value="1e6">
                </property>
                <property name="initStepSize" class="ptolemy.data.expr.Parameter" value="0.1">
                </property>
                <property name="minStepSize" class="ptolemy.data.expr.Parameter" value="1.0E-5">
                </property>
                <property name="maxStepSize" class="ptolemy.data.expr.Parameter" value="1.0">
                </property>
                <property name="maxIterations" class="ptolemy.data.expr.Parameter" value="20">
                </property>
                <property name="errorTolerance" class="ptolemy.data.expr.Parameter" value="1.0E-1">
                </property>
                <property name="valueResolution" class="ptolemy.data.expr.Parameter" value="1.0E-6">
                </property>
                <property name="synchronizeToRealTime" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <property name="ODESolver" class="ptolemy.data.expr.Parameter" value="&quot;ptolemy.domains.ct.kernel.solver.ExplicitRK23Solver&quot;">
                    <property name="style" class="ptolemy.actor.gui.style.EditableChoiceStyle">
                        <property name="choice0" class="ptolemy.data.expr.Parameter" value="&quot;ptolemy.domains.ct.kernel.solver.ExplicitRK23Solver&quot;">
                        </property>
                        <property name="choice1" class="ptolemy.data.expr.Parameter" value="&quot;ptolemy.domains.ct.kernel.solver.BackwardEulerSolver&quot;">
                        </property>
                        <property name="choice2" class="ptolemy.data.expr.Parameter" value="&quot;ptolemy.domains.ct.kernel.solver.ForwardEulerSolver&quot;">
                        </property>
                    </property>
                </property>
                <property name="breakpointODESolver" class="ptolemy.data.expr.Parameter" value="&quot;ptolemy.domains.ct.kernel.solver.DerivativeResolver&quot;">
                    <property name="style" class="ptolemy.actor.gui.style.EditableChoiceStyle">
                        <property name="choice0" class="ptolemy.data.expr.Parameter" value="&quot;ptolemy.domains.ct.kernel.solver.DerivativeResolver&quot;">
                        </property>
                        <property name="choice1" class="ptolemy.data.expr.Parameter" value="&quot;ptolemy.domains.ct.kernel.solver.BackwardEulerSolver&quot;">
                        </property>
                        <property name="choice2" class="ptolemy.data.expr.Parameter" value="&quot;ptolemy.domains.ct.kernel.solver.ImpulseBESolver&quot;">
                        </property>
                    </property>
                </property>
                <property name="timeResolution" class="ptolemy.data.expr.Parameter" value="1.0E-10">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="-455.0, -120.0">
                </property>
            </property>
            <property name="InitialStateVector" class="ptolemy.data.expr.Parameter" value="{6.8768495185713E-4, 10.5623899561063, 0.0015993163379, 811.4440838729529, 0.0}">
            </property>
            <port name="u" class="ptolemy.domains.fsm.modal.RefinementPort">
                <property name="input"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="-490.0, 435.0">
                </property>
            </port>
            <port name="CrossOver" class="ptolemy.domains.fsm.modal.RefinementPort">
                <property name="output"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="955.0, 1005.0">
                </property>
            </port>
            <port name="alpha_b" class="ptolemy.domains.fsm.modal.RefinementPort">
                <property name="output"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="535.0, 75.0">
                </property>
            </port>
            <port name="omega_p" class="ptolemy.domains.fsm.modal.RefinementPort">
                <property name="output"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="555.0, 445.0">
                </property>
            </port>
            <port name="alpha_e" class="ptolemy.domains.fsm.modal.RefinementPort">
                <property name="output"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="550.0, 840.0">
                </property>
            </port>
            <port name="omega_c" class="ptolemy.domains.fsm.modal.RefinementPort">
                <property name="output"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="280.0, 1125.0">
                </property>
            </port>
            <port name="phi_c" class="ptolemy.domains.fsm.modal.RefinementPort">
                <property name="output"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="960.0, 1165.0">
                </property>
            </port>
            <entity name="AddSubtract3" class="ptolemy.actor.lib.AddSubtract">
                <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 840.0">
                </property>
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
            </entity>
            <entity name="Scale14" class="ptolemy.actor.lib.Scale">
                <property name="factor" class="ptolemy.data.expr.Parameter" value="412.0">
                </property>
                <property name="scaleOnLeft" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="6">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="410.0, 800.0">
                </property>
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
            </entity>
            <entity name="Scale10" class="ptolemy.actor.lib.Scale">
                <property name="factor" class="ptolemy.data.expr.Parameter" value="-.611">
                </property>
                <property name="scaleOnLeft" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="6">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="410.0, 410.0">
                </property>
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
            </entity>
            <entity name="Crossing_at_720" class="ptolemy.domains.ct.lib.LevelCrossingDetector">
                <property name="level" class="ptolemy.data.expr.Parameter" value="720.0">
                </property>
                <property name="defaultEventValue" class="ptolemy.data.expr.Parameter" value="0.0">
                </property>
                <property name="errorTolerance" class="ptolemy.data.expr.Parameter" value="1.0E-1">
                </property>
                <property name="LevelCrossingDetectorIcon" class="ptolemy.vergil.icon.EditorIcon">
                    <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={104, 125, 815, 518}, maximized=false}">
                    </property>
                    <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[600, 400]">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="825.0, 1005.0">
                </property>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                    <property name="signalType" class="ptolemy.data.expr.Parameter" value="&quot;DISCRETE&quot;">
                    </property>
                </port>
                <port name="trigger" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="signalType" class="ptolemy.data.expr.Parameter" value="&quot;CONTINUOUS&quot;">
                    </property>
                </port>
                <port name="input" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="signalType" class="ptolemy.data.expr.Parameter" value="&quot;CONTINUOUS&quot;">
                    </property>
                </port>
            </entity>
            <entity name="1:phi_c" class="ptolemy.domains.ct.lib.Integrator">
                <property name="initialState" class="ptolemy.data.expr.Parameter" value="InitialStateVector.getElement(4)">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="700.0, 1165.0">
                </property>
                <port name="input" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="signalType" class="ptolemy.data.expr.Parameter" value="&quot;CONTINUOUS&quot;">
                    </property>
                </port>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                    <property name="signalType" class="ptolemy.data.expr.Parameter" value="&quot;CONTINUOUS&quot;">
                    </property>
                </port>
            </entity>
            <entity name="alpha_e" class="ptolemy.domains.ct.lib.Integrator">
                <property name="initialState" class="ptolemy.data.expr.Parameter" value="InitialStateVector.getElement(2)">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="180.0, 840.0">
                </property>
                <port name="input" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="signalType" class="ptolemy.data.expr.Parameter" value="&quot;CONTINUOUS&quot;">
                    </property>
                </port>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                    <property name="signalType" class="ptolemy.data.expr.Parameter" value="&quot;CONTINUOUS&quot;">
                    </property>
                </port>
            </entity>
            <entity name="Scale12" class="ptolemy.actor.lib.Scale">
                <property name="factor" class="ptolemy.data.expr.Parameter" value="262.0">
                </property>
                <property name="scaleOnLeft" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="6">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="410.0, 585.0">
                </property>
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
            </entity>
            <entity name="omega_c" class="ptolemy.domains.ct.lib.Integrator">
                <property name="initialState" class="ptolemy.data.expr.Parameter" value="InitialStateVector.getElement(3)">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="180.0, 1165.0">
                </property>
                <port name="input" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="signalType" class="ptolemy.data.expr.Parameter" value="&quot;CONTINUOUS&quot;">
                    </property>
                </port>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                    <property name="signalType" class="ptolemy.data.expr.Parameter" value="&quot;CONTINUOUS&quot;">
                    </property>
                </port>
            </entity>
            <entity name="AddSubtract4" class="ptolemy.actor.lib.AddSubtract">
                <property name="_location" class="ptolemy.kernel.util.Location" value="70.0, 1165.0">
                </property>
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
            </entity>
            <entity name="Scale16" class="ptolemy.actor.lib.Scale">
                <property name="factor" class="ptolemy.data.expr.Parameter" value="-52.2e3">
                </property>
                <property name="scaleOnLeft" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="6">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="410.0, 970.0">
                </property>
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
            </entity>
            <entity name="Scale8" class="ptolemy.actor.lib.Scale">
                <property name="factor" class="ptolemy.data.expr.Parameter" value="-8290.0">
                </property>
                <property name="scaleOnLeft" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="6">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="410.0, 200.0">
                </property>
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
            </entity>
            <entity name="Scale18" class="ptolemy.actor.lib.Scale">
                <property name="factor" class="ptolemy.data.expr.Parameter" value="7.77e-3">
                </property>
                <property name="scaleOnLeft" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="6">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="445.0, 1130.0">
                </property>
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
            </entity>
            <entity name="alpha_b" class="ptolemy.domains.ct.lib.Integrator">
                <property name="initialState" class="ptolemy.data.expr.Parameter" value="InitialStateVector.getElement(0)">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="195.0, 75.0">
                </property>
                <port name="input" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="signalType" class="ptolemy.data.expr.Parameter" value="&quot;CONTINUOUS&quot;">
                    </property>
                </port>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                    <property name="signalType" class="ptolemy.data.expr.Parameter" value="&quot;CONTINUOUS&quot;">
                    </property>
                </port>
            </entity>
            <entity name="Scale15" class="ptolemy.actor.lib.Scale">
                <property name="factor" class="ptolemy.data.expr.Parameter" value="-11.0">
                </property>
                <property name="scaleOnLeft" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="6">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="410.0, 875.0">
                </property>
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
            </entity>
            <entity name="Scale19" class="ptolemy.actor.lib.Scale">
                <property name="factor" class="ptolemy.data.expr.Parameter" value="1.23e-2">
                </property>
                <property name="scaleOnLeft" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="6">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="445.0, 1205.0">
                </property>
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
            </entity>
            <entity name="Scale2" class="ptolemy.actor.lib.Scale">
                <property name="factor" class="ptolemy.data.expr.Parameter" value="-1.33e-3">
                </property>
                <property name="scaleOnLeft" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="6">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="-245.0, 830.0">
                </property>
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
            </entity>
            <entity name="Scale17" class="ptolemy.actor.lib.Scale">
                <property name="factor" class="ptolemy.data.expr.Parameter" value="8.11e-4">
                </property>
                <property name="scaleOnLeft" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="6">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="445.0, 1065.0">
                </property>
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
            </entity>
            <entity name="Scale7" class="ptolemy.actor.lib.Scale">
                <property name="factor" class="ptolemy.data.expr.Parameter" value="30.3">
                </property>
                <property name="scaleOnLeft" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="6">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="410.0, 120.0">
                </property>
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
            </entity>
            <entity name="omega_p" class="ptolemy.domains.ct.lib.Integrator">
                <property name="initialState" class="ptolemy.data.expr.Parameter" value="InitialStateVector.getElement(1)">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="170.0, 445.0">
                </property>
                <port name="input" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="signalType" class="ptolemy.data.expr.Parameter" value="&quot;CONTINUOUS&quot;">
                    </property>
                </port>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                    <property name="signalType" class="ptolemy.data.expr.Parameter" value="&quot;CONTINUOUS&quot;">
                    </property>
                </port>
            </entity>
            <entity name="Scale6" class="ptolemy.actor.lib.Scale">
                <property name="factor" class="ptolemy.data.expr.Parameter" value="19.2">
                </property>
                <property name="scaleOnLeft" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="6">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="430.0, 30.0">
                </property>
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
            </entity>
            <entity name="Scale13" class="ptolemy.actor.lib.Scale">
                <property name="factor" class="ptolemy.data.expr.Parameter" value="12.6">
                </property>
                <property name="scaleOnLeft" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="6">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="415.0, 715.0">
                </property>
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
            </entity>
            <entity name="Scale9" class="ptolemy.actor.lib.Scale">
                <property name="factor" class="ptolemy.data.expr.Parameter" value="-6.34e-2">
                </property>
                <property name="scaleOnLeft" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="6">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="410.0, 330.0">
                </property>
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
            </entity>
            <entity name="AddSubtract2" class="ptolemy.actor.lib.AddSubtract">
                <property name="_location" class="ptolemy.kernel.util.Location" value="65.0, 445.0">
                </property>
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
            </entity>
            <entity name="Scale11" class="ptolemy.actor.lib.Scale">
                <property name="factor" class="ptolemy.data.expr.Parameter" value="-.944">
                </property>
                <property name="scaleOnLeft" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="6">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="405.0, 500.0">
                </property>
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
            </entity>
            <entity name="AddSubtract1" class="ptolemy.actor.lib.AddSubtract">
                <property name="_location" class="ptolemy.kernel.util.Location" value="50.0, 75.0">
                </property>
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
            </entity>
            <entity name="Scale1" class="ptolemy.actor.lib.Scale">
                <property name="factor" class="ptolemy.data.expr.Parameter" value="1.52e-3">
                </property>
                <property name="scaleOnLeft" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="6">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="-255.0, 65.0">
                </property>
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
            </entity>
            <entity name="Scale5" class="ptolemy.actor.lib.Scale">
                <property name="factor" class="ptolemy.data.expr.Parameter" value="-34.7">
                </property>
                <property name="scaleOnLeft" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="6">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="425.0, -50.0">
                </property>
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
            </entity>
            <entity name="Scale3" class="ptolemy.actor.lib.Scale">
                <property name="factor" class="ptolemy.data.expr.Parameter" value="47.8">
                </property>
                <property name="scaleOnLeft" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="6">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="-245.0, 1155.0">
                </property>
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
            </entity>
            <entity name="Scale20" class="ptolemy.actor.lib.Scale">
                <property name="factor" class="ptolemy.data.expr.Parameter" value="-3.84">
                </property>
                <property name="scaleOnLeft" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="6">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="445.0, 1270.0">
                </property>
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
            </entity>
            <entity name="Scale21" class="ptolemy.actor.lib.Scale">
                <property name="factor" class="ptolemy.data.expr.Parameter" value="6.0">
                </property>
                <property name="scaleOnLeft" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="6">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="565.0, 1165.0">
                </property>
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
            </entity>
            <relation name="1:1:relation40" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="15.0, 1305.0">
                </vertex>
            </relation>
            <relation name="1:1:relation45" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="-115.0, 1020.0">
                </vertex>
            </relation>
            <relation name="1:1:relation49" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="-20.0, 370.0">
                </vertex>
            </relation>
            <relation name="1:1:relation19" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="280.0, 840.0">
                </vertex>
            </relation>
            <relation name="1:1:relation44" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="15.0, 1000.0">
                </vertex>
            </relation>
            <relation name="1:1:relation27" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="-50.0, 525.0">
                </vertex>
            </relation>
            <relation name="1:1:relation36" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="630.0, 1165.0">
                </vertex>
            </relation>
            <relation name="1:1:relation30" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="-50.0, 155.0">
                </vertex>
            </relation>
            <relation name="1:1:relation17" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="1:1:relation18" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="1:1:relation25" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="-75.0, 765.0">
                </vertex>
            </relation>
            <relation name="1:1:relation20" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="1:relation2" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="770.0, 1165.0">
                </vertex>
            </relation>
            <relation name="1:1:relation33" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="260.0, 1165.0">
                </vertex>
            </relation>
            <relation name="1:relation5" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="-115.0, -80.0">
                </vertex>
            </relation>
            <relation name="1:1:relation48" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="-50.0, 1225.0">
                </vertex>
            </relation>
            <relation name="1:1:relation" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="255.0, 75.0">
                </vertex>
            </relation>
            <relation name="1:1:relation51" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="15.0, 250.0">
                </vertex>
            </relation>
            <relation name="1:1:relation77" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="-115.0, 615.0">
                </vertex>
            </relation>
            <relation name="1:1:relation64" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="-405.0, 435.0">
                </vertex>
            </relation>
            <relation name="1:1:relation13" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="-75.0, -5.0">
                </vertex>
            </relation>
            <relation name="1:1:relation24" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="-115.0, 655.0">
                </vertex>
            </relation>
            <relation name="1:1:relation16" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="1:1:6:relation" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="265.0, 445.0">
                </vertex>
            </relation>
            <relation name="1:1:relation32" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="1:1:relation47" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="-75.0, 1090.0">
                </vertex>
            </relation>
            <relation name="1:1:relation12" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="1:1:relation76" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="-20.0, 915.0">
                </vertex>
            </relation>
            <relation name="1:relation" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="885.0, 1005.0">
                </vertex>
            </relation>
            <relation name="1:1:relation10" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="-115.0, 290.0">
                </vertex>
            </relation>
            <relation name="1:1:relation6" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="u" relation="1:1:relation64"/>
            <link port="CrossOver" relation="1:relation"/>
            <link port="alpha_b" relation="1:1:relation"/>
            <link port="omega_p" relation="1:1:6:relation"/>
            <link port="alpha_e" relation="1:1:relation19"/>
            <link port="omega_c" relation="1:1:relation33"/>
            <link port="phi_c" relation="1:relation2"/>
            <link port="AddSubtract3.plus" relation="1:1:relation30"/>
            <link port="AddSubtract3.plus" relation="1:1:relation27"/>
            <link port="AddSubtract3.plus" relation="1:1:relation76"/>
            <link port="AddSubtract3.plus" relation="1:1:relation48"/>
            <link port="AddSubtract3.plus" relation="1:1:relation17"/>
            <link port="AddSubtract3.output" relation="1:1:relation18"/>
            <link port="Scale14.input" relation="1:1:relation19"/>
            <link port="Scale14.output" relation="1:1:relation25"/>
            <link port="Scale10.input" relation="1:1:6:relation"/>
            <link port="Scale10.output" relation="1:1:relation49"/>
            <link port="Crossing_at_720.output" relation="1:relation"/>
            <link port="Crossing_at_720.trigger" relation="1:relation2"/>
            <link port="Crossing_at_720.input" relation="1:1:relation36"/>
            <link port="1:phi_c.input" relation="1:1:relation36"/>
            <link port="1:phi_c.output" relation="1:relation2"/>
            <link port="alpha_e.input" relation="1:1:relation18"/>
            <link port="alpha_e.output" relation="1:1:relation19"/>
            <link port="Scale12.input" relation="1:1:6:relation"/>
            <link port="Scale12.output" relation="1:1:relation77"/>
            <link port="omega_c.input" relation="1:1:relation32"/>
            <link port="omega_c.output" relation="1:1:relation33"/>
            <link port="AddSubtract4.plus" relation="1:1:relation51"/>
            <link port="AddSubtract4.plus" relation="1:1:relation77"/>
            <link port="AddSubtract4.plus" relation="1:1:relation44"/>
            <link port="AddSubtract4.plus" relation="1:1:relation40"/>
            <link port="AddSubtract4.plus" relation="1:1:relation16"/>
            <link port="AddSubtract4.output" relation="1:1:relation32"/>
            <link port="Scale16.input" relation="1:1:relation19"/>
            <link port="Scale16.output" relation="1:1:relation44"/>
            <link port="Scale8.input" relation="1:1:relation"/>
            <link port="Scale8.output" relation="1:1:relation51"/>
            <link port="Scale18.input" relation="1:1:relation33"/>
            <link port="Scale18.output" relation="1:1:relation47"/>
            <link port="alpha_b.input" relation="1:1:relation6"/>
            <link port="alpha_b.output" relation="1:1:relation"/>
            <link port="Scale15.input" relation="1:1:relation19"/>
            <link port="Scale15.output" relation="1:1:relation76"/>
            <link port="Scale19.input" relation="1:1:relation33"/>
            <link port="Scale19.output" relation="1:1:relation48"/>
            <link port="Scale2.input" relation="1:1:relation64"/>
            <link port="Scale2.output" relation="1:1:relation17"/>
            <link port="Scale17.input" relation="1:1:relation33"/>
            <link port="Scale17.output" relation="1:1:relation45"/>
            <link port="Scale7.input" relation="1:1:relation"/>
            <link port="Scale7.output" relation="1:1:relation30"/>
            <link port="omega_p.input" relation="1:1:relation12"/>
            <link port="omega_p.output" relation="1:1:6:relation"/>
            <link port="Scale6.input" relation="1:1:relation"/>
            <link port="Scale6.output" relation="1:1:relation13"/>
            <link port="Scale13.input" relation="1:1:relation19"/>
            <link port="Scale13.output" relation="1:1:relation24"/>
            <link port="Scale9.input" relation="1:1:6:relation"/>
            <link port="Scale9.output" relation="1:1:relation10"/>
            <link port="AddSubtract2.plus" relation="1:1:relation13"/>
            <link port="AddSubtract2.plus" relation="1:1:relation49"/>
            <link port="AddSubtract2.plus" relation="1:1:relation25"/>
            <link port="AddSubtract2.plus" relation="1:1:relation47"/>
            <link port="AddSubtract2.output" relation="1:1:relation12"/>
            <link port="Scale11.input" relation="1:1:6:relation"/>
            <link port="Scale11.output" relation="1:1:relation27"/>
            <link port="AddSubtract1.plus" relation="1:1:relation10"/>
            <link port="AddSubtract1.plus" relation="1:1:relation24"/>
            <link port="AddSubtract1.plus" relation="1:1:relation45"/>
            <link port="AddSubtract1.plus" relation="1:1:relation20"/>
            <link port="AddSubtract1.plus" relation="1:relation5"/>
            <link port="AddSubtract1.output" relation="1:1:relation6"/>
            <link port="Scale1.input" relation="1:1:relation64"/>
            <link port="Scale1.output" relation="1:1:relation20"/>
            <link port="Scale5.input" relation="1:1:relation"/>
            <link port="Scale5.output" relation="1:relation5"/>
            <link port="Scale3.input" relation="1:1:relation64"/>
            <link port="Scale3.output" relation="1:1:relation16"/>
            <link port="Scale20.input" relation="1:1:relation33"/>
            <link port="Scale20.output" relation="1:1:relation40"/>
            <link port="Scale21.input" relation="1:1:relation33"/>
            <link port="Scale21.output" relation="1:1:relation36"/>
        </entity>
        <entity name="Init" class="ptolemy.domains.fsm.modal.Refinement">
            <property name="CTEmbedded Director" class="ptolemy.domains.ct.kernel.CTEmbeddedDirector">
                <property name="_location" class="ptolemy.kernel.util.Location" value="{125, 55}">
                </property>
            </property>
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={104, 125, 724, 409}, maximized=false}">
            </property>
            <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[509, 291]">
            </property>
            <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0">
            </property>
            <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{254.5, 145.5}">
            </property>
            <port name="u" class="ptolemy.domains.fsm.modal.RefinementPort">
                <property name="input"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[384.78125, 48.02008928571429]">
                </property>
            </port>
            <port name="CrossOver" class="ptolemy.domains.fsm.modal.RefinementPort">
                <property name="output"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[365.0, 95.0]">
                </property>
            </port>
            <port name="alpha_b" class="ptolemy.domains.fsm.modal.RefinementPort">
                <property name="output"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[372.40625, 141.76116071428572]">
                </property>
            </port>
            <port name="omega_p" class="ptolemy.domains.fsm.modal.RefinementPort">
                <property name="output"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[368.390625, 186.42857142857144]">
                </property>
            </port>
            <port name="alpha_e" class="ptolemy.domains.fsm.modal.RefinementPort">
                <property name="output"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[372.4140625, 233.18973214285717]">
                </property>
            </port>
            <port name="omega_c" class="ptolemy.domains.fsm.modal.RefinementPort">
                <property name="output"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[270.0, 155.0]">
                </property>
            </port>
            <port name="phi_c" class="ptolemy.domains.fsm.modal.RefinementPort">
                <property name="output"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[269.953125, 203.13504464285717]">
                </property>
            </port>
            <entity name="Const" class="ptolemy.actor.lib.Const">
                <property name="value" class="ptolemy.data.expr.Parameter" value="0.0">
                </property>
                <doc>Create a constant sequence.</doc>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[115.0, 185.0]">
                </property>
            </entity>
            <relation name="relation" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="[180.0, 185.0]">
                </vertex>
            </relation>
            <link port="omega_c" relation="relation"/>
            <link port="phi_c" relation="relation"/>
            <link port="Const.output" relation="relation"/>
        </entity>
        <relation name="uRelation" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="CrossOverRelation" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="alpha_bRelation" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="omega_pRelation" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="alpha_eRelation" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="omega_cRelation" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="phi_cRelation" class="ptolemy.actor.TypedIORelation">
        </relation>
        <link port="u" relation="uRelation"/>
        <link port="CrossOver" relation="CrossOverRelation"/>
        <link port="alpha_b" relation="alpha_bRelation"/>
        <link port="omega_p" relation="omega_pRelation"/>
        <link port="alpha_e" relation="alpha_eRelation"/>
        <link port="omega_c" relation="omega_cRelation"/>
        <link port="phi_c" relation="phi_cRelation"/>
        <link port="_Controller.u" relation="uRelation"/>
        <link port="_Controller.CrossOver" relation="CrossOverRelation"/>
        <link port="_Controller.alpha_b" relation="alpha_bRelation"/>
        <link port="_Controller.omega_p" relation="omega_pRelation"/>
        <link port="_Controller.alpha_e" relation="alpha_eRelation"/>
        <link port="_Controller.omega_c" relation="omega_cRelation"/>
        <link port="_Controller.phi_c" relation="phi_cRelation"/>
        <link port="Int_and_Exp.u" relation="uRelation"/>
        <link port="Int_and_Exp.CrossOver" relation="CrossOverRelation"/>
        <link port="Int_and_Exp.alpha_b" relation="alpha_bRelation"/>
        <link port="Int_and_Exp.omega_p" relation="omega_pRelation"/>
        <link port="Int_and_Exp.alpha_e" relation="alpha_eRelation"/>
        <link port="Int_and_Exp.omega_c" relation="omega_cRelation"/>
        <link port="Int_and_Exp.phi_c" relation="phi_cRelation"/>
        <link port="Cmp_and_Exh.u" relation="uRelation"/>
        <link port="Cmp_and_Exh.CrossOver" relation="CrossOverRelation"/>
        <link port="Cmp_and_Exh.alpha_b" relation="alpha_bRelation"/>
        <link port="Cmp_and_Exh.omega_p" relation="omega_pRelation"/>
        <link port="Cmp_and_Exh.alpha_e" relation="alpha_eRelation"/>
        <link port="Cmp_and_Exh.omega_c" relation="omega_cRelation"/>
        <link port="Cmp_and_Exh.phi_c" relation="phi_cRelation"/>
        <link port="DriveTrain.u" relation="uRelation"/>
        <link port="DriveTrain.CrossOver" relation="CrossOverRelation"/>
        <link port="DriveTrain.alpha_b" relation="alpha_bRelation"/>
        <link port="DriveTrain.omega_p" relation="omega_pRelation"/>
        <link port="DriveTrain.alpha_e" relation="alpha_eRelation"/>
        <link port="DriveTrain.omega_c" relation="omega_cRelation"/>
        <link port="DriveTrain.phi_c" relation="phi_cRelation"/>
        <link port="Init.u" relation="uRelation"/>
        <link port="Init.CrossOver" relation="CrossOverRelation"/>
        <link port="Init.alpha_b" relation="alpha_bRelation"/>
        <link port="Init.omega_p" relation="omega_pRelation"/>
        <link port="Init.alpha_e" relation="alpha_eRelation"/>
        <link port="Init.omega_c" relation="omega_cRelation"/>
        <link port="Init.phi_c" relation="phi_cRelation"/>
    </entity>
    <entity name="ma" class="ptolemy.actor.lib.gui.TimedPlotter">
        <property name="fillOnWrapup" class="ptolemy.data.expr.Parameter" value="true">
        </property>
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={-4, 436, 521, 220}, maximized=false}">
        </property>
        <property name="_plotSize" class="ptolemy.actor.gui.SizeAttribute" value="[513, 165]">
        </property>
        <property name="startingDataset" class="ptolemy.data.expr.Parameter" value="0">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="305.0, 255.0">
        </property>
        <configure>
<?plotml <!DOCTYPE plot PUBLIC "-//UC Berkeley//DTD PlotML 1//EN"
"http://ptolemy.eecs.berkeley.edu/xml/dtd/PlotML_1.dtd">
<plot>
<title>ma</title>
<xLabel></xLabel>
<yLabel></yLabel>
<xRange min="0.0" max="8.9240865085"/>
<yRange min="0.0" max="3.0210727061842136E-4"/>
</plot>?>
        </configure>
    </entity>
    <entity name="Controller" class="ptolemy.actor.TypedCompositeActor">
        <property name="_location" class="ptolemy.kernel.util.Location" value="[-55.0, 395.0]">
        </property>
        <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[576, 380]">
        </property>
        <property name="_vergilLocation" class="ptolemy.actor.gui.LocationAttribute" value="[127, 75]">
        </property>
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={60, 121, 791, 498}, maximized=false}">
        </property>
        <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.2645769906951">
        </property>
        <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{15.1953125, 59.5732964409722}">
        </property>
        <port name="omega_cs" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="-155.0, -35.0">
            </property>
        </port>
        <port name="Valpha" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="160.0, -35.0">
            </property>
        </port>
        <port name="Ti" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="170.0, 155.0">
            </property>
        </port>
        <port name="phi_sp" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="170.0, 80.0">
            </property>
        </port>
        <port name="ma" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="-150.0, 155.0">
            </property>
        </port>
        <entity name="Mean_Torque" class="ptolemy.actor.lib.Expression">
            <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="Ti_off+ma/(14.64*gi)">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                </property>
                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="25.0, 155.0">
            </property>
            <port name="ma" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
            </port>
        </entity>
        <entity name="Throttle_Angle" class="ptolemy.actor.lib.Expression">
            <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="0.0*omega_cs + 10.0">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                </property>
                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="15.0, -35.0">
            </property>
            <port name="omega_cs" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
            </port>
        </entity>
        <entity name="Spark_Advance" class="ptolemy.actor.lib.Expression">
            <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="0.0*ma">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                </property>
                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="0.0, 80.0">
            </property>
            <port name="ma" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
            </port>
        </entity>
        <relation name="relation8" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation9" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation10" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="-95.0, 155.0">
            </vertex>
        </relation>
        <relation name="relation11" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation13" class="ptolemy.actor.TypedIORelation">
        </relation>
        <link port="omega_cs" relation="relation11"/>
        <link port="Valpha" relation="relation13"/>
        <link port="Ti" relation="relation8"/>
        <link port="phi_sp" relation="relation9"/>
        <link port="ma" relation="relation10"/>
        <link port="Mean_Torque.output" relation="relation8"/>
        <link port="Mean_Torque.ma" relation="relation10"/>
        <link port="Throttle_Angle.output" relation="relation13"/>
        <link port="Throttle_Angle.omega_cs" relation="relation11"/>
        <link port="Spark_Advance.output" relation="relation9"/>
        <link port="Spark_Advance.ma" relation="relation10"/>
    </entity>
    <entity name="Mean Torque" class="ptolemy.actor.TypedCompositeActor">
        <property name="_location" class="ptolemy.kernel.util.Location" value="295.0, 420.0">
        </property>
        <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[735, 462]">
        </property>
        <property name="_vergilLocation" class="ptolemy.actor.gui.LocationAttribute" value="[165, 221]">
        </property>
        <port name="Tm" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="675.0, 205.0">
            </property>
        </port>
        <port name="ma" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="80.0, 185.0">
            </property>
        </port>
        <port name="mf" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="80.0, 230.0">
            </property>
        </port>
        <port name="phi_sp" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 135.0">
            </property>
        </port>
        <entity name="ignition_effy" class="ptolemy.actor.lib.Expression">
            <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="-.0002*phi_sp^2+.0123*phi_sp+.832">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                </property>
                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="225.0, 135.0">
            </property>
            <port name="phi_sp" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
            </port>
        </entity>
        <entity name="Tm" class="ptolemy.actor.lib.Expression">
            <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="G*(ma+mf)*eta_ign/(.1*(4.0+1.0/9.0))">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                </property>
                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="520.0, 205.0">
            </property>
            <port name="eta_ign" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
            </port>
            <port name="ma" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
            </port>
            <port name="mf" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
            </port>
        </entity>
        <relation name="relation3" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation5" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation6" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation7" class="ptolemy.actor.TypedIORelation">
        </relation>
        <link port="Tm" relation="relation5"/>
        <link port="ma" relation="relation6"/>
        <link port="mf" relation="relation7"/>
        <link port="phi_sp" relation="relation"/>
        <link port="ignition_effy.output" relation="relation3"/>
        <link port="ignition_effy.phi_sp" relation="relation"/>
        <link port="Tm.output" relation="relation5"/>
        <link port="Tm.eta_ign" relation="relation3"/>
        <link port="Tm.ma" relation="relation6"/>
        <link port="Tm.mf" relation="relation7"/>
    </entity>
    <entity name="Throttle_Valve" class="ptolemy.actor.TypedCompositeActor">
        <property name="_location" class="ptolemy.kernel.util.Location" value="40.0, 310.0">
        </property>
        <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[600, 400]">
        </property>
        <property name="_vergilLocation" class="ptolemy.actor.gui.LocationAttribute" value="[232, 252]">
        </property>
        <port name="Valpha" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="70.0, 235.0">
            </property>
        </port>
        <port name="alpha" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="295.0, 235.0">
            </property>
        </port>
        <entity name="Expression" class="ptolemy.actor.lib.Expression">
            <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="45.0">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                </property>
                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="185.0, 235.0">
            </property>
            <port name="Valpha" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
            </port>
        </entity>
        <relation name="relation" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation2" class="ptolemy.actor.TypedIORelation">
        </relation>
        <link port="Valpha" relation="relation"/>
        <link port="alpha" relation="relation2"/>
        <link port="Expression.output" relation="relation2"/>
        <link port="Expression.Valpha" relation="relation"/>
    </entity>
    <entity name="omega_cs" class="ptolemy.actor.lib.gui.TimedPlotter">
        <property name="fillOnWrapup" class="ptolemy.data.expr.Parameter" value="true">
        </property>
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={511, 436, 521, 220}, maximized=false}">
        </property>
        <property name="_plotSize" class="ptolemy.actor.gui.SizeAttribute" value="[513, 165]">
        </property>
        <property name="startingDataset" class="ptolemy.data.expr.Parameter" value="0">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="{760.0, 200.0}">
        </property>
        <configure>
<?plotml <!DOCTYPE plot PUBLIC "-//UC Berkeley//DTD PlotML 1//EN"
"http://ptolemy.eecs.berkeley.edu/xml/dtd/PlotML_1.dtd">
<plot>
<title>omega_cs</title>
<xLabel></xLabel>
<yLabel></yLabel>
<xRange min="0.0" max="8.9240865085"/>
<yRange min="0.0" max="814.3941695771606"/>
</plot>?>
        </configure>
    </entity>
    <entity name="Fuel_Injector" class="ptolemy.actor.TypedCompositeActor">
        <property name="_location" class="ptolemy.kernel.util.Location" value="{95.0, 410.0}">
        </property>
        <property name="gi" class="ptolemy.data.expr.Parameter" value="1.93e-3">
        </property>
        <property name="Ti_off" class="ptolemy.data.expr.Parameter" value=".75e-3">
        </property>
        <port name="Ti" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{-265.0, -70.0}">
            </property>
        </port>
        <port name="mf" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{-50.0, -70.0}">
            </property>
        </port>
        <entity name="Expression" class="ptolemy.actor.lib.Expression">
            <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="gi*(Ti-Ti_off)">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                </property>
                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{-160.0, -70.0}">
            </property>
            <port name="Ti" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
            </port>
        </entity>
        <relation name="relation" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation2" class="ptolemy.actor.TypedIORelation">
        </relation>
        <link port="Ti" relation="relation"/>
        <link port="mf" relation="relation2"/>
        <link port="Expression.output" relation="relation2"/>
        <link port="Expression.Ti" relation="relation"/>
    </entity>
    <relation name="relation3" class="ptolemy.actor.TypedIORelation">
        <vertex name="vertex1" value="720.0, 770.0">
        </vertex>
    </relation>
    <relation name="relation4" class="ptolemy.actor.TypedIORelation">
        <vertex name="vertex1" value="250.0, 660.0">
        </vertex>
    </relation>
    <relation name="relation5" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation6" class="ptolemy.actor.TypedIORelation">
        <vertex name="vertex1" value="605.0, 540.0">
        </vertex>
    </relation>
    <relation name="relation7" class="ptolemy.actor.TypedIORelation">
        <vertex name="vertex1" value="455.0, 535.0">
        </vertex>
    </relation>
    <relation name="relation21" class="ptolemy.actor.TypedIORelation">
        <vertex name="vertex1" value="35.0, 460.0">
        </vertex>
    </relation>
    <relation name="relation10" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation11" class="ptolemy.actor.TypedIORelation">
        <vertex name="vertex1" value="235.0, 255.0">
        </vertex>
    </relation>
    <relation name="relation14" class="ptolemy.actor.TypedIORelation">
        <vertex name="vertex1" value="720.0, 200.0">
        </vertex>
    </relation>
    <relation name="relation15" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation16" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation2" class="ptolemy.actor.TypedIORelation">
    </relation>
    <link port="Cylinder_01.torque" relation="relation7"/>
    <link port="Cylinder_01.phi_c1" relation="relation4"/>
    <link port="Cylinder_01.Tm" relation="relation10"/>
    <link port="Cylinder_01.phi_sp1" relation="relation21"/>
    <link port="phi_c1.output" relation="relation4"/>
    <link port="phi_c1.phi_cs" relation="relation3"/>
    <link port="phi_c.input" relation="relation5"/>
    <link port="phi_c.input" relation="relation4"/>
    <link port="Const.output" relation="relation5"/>
    <link port="Torque.input" relation="relation7"/>
    <link port="TORQUE.output" relation="relation6"/>
    <link port="Air_Manifold.alpha" relation="relation16"/>
    <link port="Air_Manifold.omega_cs" relation="relation14"/>
    <link port="Air_Manifold.ma" relation="relation11"/>
    <link port="Drive_Train.u" relation="relation6"/>
    <link port="Drive_Train.omega_c" relation="relation14"/>
    <link port="Drive_Train.phi_c" relation="relation3"/>
    <link port="ma.input" relation="relation11"/>
    <link port="Controller.omega_cs" relation="relation14"/>
    <link port="Controller.Valpha" relation="relation15"/>
    <link port="Controller.Ti" relation="relation"/>
    <link port="Controller.phi_sp" relation="relation21"/>
    <link port="Controller.ma" relation="relation11"/>
    <link port="Mean Torque.Tm" relation="relation10"/>
    <link port="Mean Torque.ma" relation="relation11"/>
    <link port="Mean Torque.mf" relation="relation2"/>
    <link port="Mean Torque.phi_sp" relation="relation21"/>
    <link port="Throttle_Valve.Valpha" relation="relation15"/>
    <link port="Throttle_Valve.alpha" relation="relation16"/>
    <link port="omega_cs.input" relation="relation14"/>
    <link port="Fuel_Injector.Ti" relation="relation"/>
    <link port="Fuel_Injector.mf" relation="relation2"/>
</entity>
