<?xml version="1.0" standalone="no"?>
<!DOCTYPE entity PUBLIC "-//UC Berkeley//DTD MoML 1//EN"
    "http://ptolemy.eecs.berkeley.edu/xml/dtd/MoML_1.dtd">
<entity name="simulation" class="ptolemy.actor.TypedCompositeActor">
    <property name="_createdBy" class="ptolemy.kernel.attributes.VersionAttribute" value="8.0.beta">
    </property>
    <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={-4, -4, 996, 776}, maximized=true}">
    </property>
    <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[781, 658]">
    </property>
    <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.2516025641026">
    </property>
    <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{-99.7601351351353, 353.2635135135135}">
    </property>
    <property name="PN Director" class="ptolemy.domains.pn.kernel.PNDirector">
        <property name="_location" class="ptolemy.kernel.util.Location" value="[-260.0, 430.0]">
        </property>
    </property>
    <property name="Annotation" class="ptolemy.vergil.kernel.attributes.TextAttribute">
        <property name="text" class="ptolemy.kernel.util.StringAttribute" value="This example models a simple feedback controller and the iRobot&#10;dynamics. Robot continuously moves forward, until the UP arrow&#10;button is pressed. This causes the robot to turn counter clockwise&#10;until the button is released. This models behavior of the button&#10;sensor on the robot. The robot and the controller is assumed to&#10;communicate through serial port connection.&#10;&#10;The controller receives a continuous stream of data packets from&#10;the robot. On the real robot, there are up to 43 bytes of sensor &#10;data one can request (s.t. each byte corresponds to a different&#10;sensor). In this model, we are only streaming the status of the&#10;Advanced button on the robot. The controller process the sensor&#10;data and transmits back serial control signal.&#10;&#10;Author: Man-Kit Leung">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[-315.0, 115.0]">
        </property>
    </property>
    <entity name="RobotDynamics" class="ptolemy.actor.TypedCompositeActor">
        <property name="_location" class="ptolemy.kernel.util.Location" value="[-84.5, 401.5]">
        </property>
        <property name="_flipPortsHorizontal" class="ptolemy.data.expr.Parameter" value="true">
        </property>
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={104, 125, 815, 518}, maximized=false}">
        </property>
        <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[600, 400]">
        </property>
        <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0">
        </property>
        <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{300.0, 200.0}">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.EditorIcon">
            <property name="ellipse" class="ptolemy.vergil.kernel.attributes.EllipseAttribute">
                <property name="_location" class="ptolemy.kernel.util.Location" value="-0.0, -0.0">
                </property>
                <property name="width" class="ptolemy.data.expr.Parameter" value="59.0">
                </property>
                <property name="height" class="ptolemy.data.expr.Parameter" value="57.0">
                </property>
                <property name="centered" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="fillColor" class="ptolemy.actor.gui.ColorAttribute" value="{1.0,1.0,1.0,1.0}">
                </property>
            </property>
            <property name="line" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                <property name="_location" class="ptolemy.kernel.util.Location" value="[-14.0, -12.0]">
                </property>
                <property name="x" class="ptolemy.data.expr.Parameter" value="40.0">
                </property>
                <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                </property>
            </property>
            <property name="line2" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                <property name="_location" class="ptolemy.kernel.util.Location" value="[-14.0, 12.0]">
                </property>
                <property name="x" class="ptolemy.data.expr.Parameter" value="40.0">
                </property>
                <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                </property>
            </property>
            <property name="ellipse2" class="ptolemy.vergil.kernel.attributes.EllipseAttribute">
                <property name="_location" class="ptolemy.kernel.util.Location" value="[-10.0, 0.0]">
                </property>
                <property name="width" class="ptolemy.data.expr.Parameter" value="16.0">
                </property>
                <property name="height" class="ptolemy.data.expr.Parameter" value="30.0">
                </property>
                <property name="centered" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="fillColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.8,0.8,0.8,1.0}">
                </property>
                <property name="_renderLast" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
            </property>
            <property name="rectangle" class="ptolemy.vergil.kernel.attributes.RectangleAttribute">
                <property name="_location" class="ptolemy.kernel.util.Location" value="-4.0, 0.0">
                </property>
                <property name="width" class="ptolemy.data.expr.Parameter" value="13.0">
                </property>
                <property name="height" class="ptolemy.data.expr.Parameter" value="33.0">
                </property>
                <property name="centered" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="fillColor" class="ptolemy.actor.gui.ColorAttribute" value="{1.0, 1.0, 1.0, 1.0}">
                </property>
                <property name="_renderLast" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
            </property>
            <property name="line3" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                <property name="_location" class="ptolemy.kernel.util.Location" value="[7.0, -12.0]">
                </property>
                <property name="x" class="ptolemy.data.expr.Parameter" value="0.0">
                </property>
                <property name="y" class="ptolemy.data.expr.Parameter" value="23.0">
                </property>
            </property>
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={-4, -4, 996, 776}, maximized=true}">
            </property>
            <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[781, 658]">
            </property>
            <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="4.0">
            </property>
            <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{22.625, 32.25}">
            </property>
        </property>
        <port name="TX" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[115.0, 165.0]">
            </property>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="false">
            </property>
        </port>
        <port name="RX" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[490.0, 245.0]">
            </property>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="false">
            </property>
        </port>
        <entity name="RobotDynamics" class="ptolemy.actor.TypedCompositeActor">
            <property name="_location" class="ptolemy.kernel.util.Location" value="[355.0, 245.0]">
            </property>
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={50, 0, 815, 692}, maximized=false}">
            </property>
            <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[600, 574]">
            </property>
            <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0">
            </property>
            <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{149.5988175675676, 343.0989231418919}">
            </property>
            <property name="_flipPortsHorizontal" class="ptolemy.data.expr.Parameter" value="false">
                <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                </property>
            </property>
            <port name="TX" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[-90.0, 480.0]">
                </property>
            </port>
            <port name="RX" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[285.0, 305.0]">
                </property>
            </port>
            <port name="trigger" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[-90.0, 370.0]">
                </property>
            </port>
            <entity name="TX2Turn" class="ptolemy.domains.fsm.kernel.FSMActor">
                <property name="_library" class="ptolemy.moml.LibraryAttribute">
                    <configure>
    <entity name="StateLibrary" class="ptolemy.kernel.CompositeEntity"><input source="ptolemy/configs/basicUtilities.xml"></input><input source="ptolemy/configs/propertiesAttributeLibrary.xml"></input><entity name="State" class="ptolemy.domains.fsm.kernel.State"><property name="_centerName" class="ptolemy.kernel.util.Attribute"></property></entity></entity>
  </configure>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[110.0, 480.0]">
                </property>
                <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={104, 125, 815, 518}, maximized=false}">
                </property>
                <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[600, 400]">
                </property>
                <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0">
                </property>
                <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{63.5874522816051, 204.5524065422289}">
                </property>
                <port name="TX" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-175.0, 70.0]">
                    </property>
                </port>
                <port name="turn" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-175.0, 210.0]">
                    </property>
                </port>
                <entity name="State" class="ptolemy.domains.fsm.kernel.State">
                    <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[165.0, 35.0]">
                    </property>
                </entity>
                <entity name="State2" class="ptolemy.domains.fsm.kernel.State">
                    <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[0.0, 290.0]">
                    </property>
                </entity>
                <entity name="State3" class="ptolemy.domains.fsm.kernel.State">
                    <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[295.0, 300.0]">
                    </property>
                </entity>
                <entity name="State4" class="ptolemy.domains.fsm.kernel.State">
                    <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[55.0, 120.0]">
                    </property>
                </entity>
                <relation name="relation" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="annotation" class="ptolemy.data.expr.StringParameter" value="">
                    </property>
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="TX == 137">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="0.5908198187918117">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="defaultTransition" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="nondeterministic" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation3" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="annotation" class="ptolemy.data.expr.StringParameter" value="">
                    </property>
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="TX == 137">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.2536650074595297">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="defaultTransition" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="nondeterministic" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation4" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="annotation" class="ptolemy.data.expr.StringParameter" value="">
                    </property>
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="TX != 137">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="turn = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="2.894134792243007">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="1.378129467085973">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="defaultTransition" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="nondeterministic" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation5" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="annotation" class="ptolemy.data.expr.StringParameter" value="">
                    </property>
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="TX != 137">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="turn = 0">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="2.356194490192345">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="0.20102860698168132">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="defaultTransition" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="nondeterministic" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation6" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="annotation" class="ptolemy.data.expr.StringParameter" value="">
                    </property>
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="TX == 137">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.5338257128869712">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-1.080061904553137">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="defaultTransition" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="nondeterministic" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation2" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="annotation" class="ptolemy.data.expr.StringParameter" value="">
                    </property>
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="TX == 127">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.5133274721356423">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="0.9720452560680372">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="defaultTransition" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="nondeterministic" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation7" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="annotation" class="ptolemy.data.expr.StringParameter" value="">
                    </property>
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="TX == 255">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.4257246945478545">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="2.1848651025505688">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="defaultTransition" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="nondeterministic" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <link port="State.outgoingPort" relation="relation"/>
                <link port="State2.incomingPort" relation="relation4"/>
                <link port="State2.incomingPort" relation="relation7"/>
                <link port="State2.outgoingPort" relation="relation6"/>
                <link port="State2.outgoingPort" relation="relation4"/>
                <link port="State3.incomingPort" relation="relation5"/>
                <link port="State3.incomingPort" relation="relation2"/>
                <link port="State3.outgoingPort" relation="relation3"/>
                <link port="State3.outgoingPort" relation="relation5"/>
                <link port="State4.incomingPort" relation="relation6"/>
                <link port="State4.incomingPort" relation="relation3"/>
                <link port="State4.incomingPort" relation="relation"/>
                <link port="State4.outgoingPort" relation="relation2"/>
                <link port="State4.outgoingPort" relation="relation7"/>
            </entity>
            <entity name="buttonDataSequence" class="ptolemy.actor.TypedCompositeActor">
                <property name="_location" class="ptolemy.kernel.util.Location" value="[95.0, 340.0]">
                </property>
                <property name="SDF Director" class="ptolemy.domains.sdf.kernel.SDFDirector">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{185, 60}">
                    </property>
                </property>
                <port name="RX" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[70.0, 255.0]">
                    </property>
                </port>
                <port name="TX" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[430.0, 260.0]">
                    </property>
                </port>
                <entity name="Commutator" class="ptolemy.actor.lib.Commutator">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[250.0, 230.0]">
                    </property>
                </entity>
                <entity name="Const" class="ptolemy.actor.lib.Const">
                    <property name="value" class="ptolemy.data.expr.Parameter" value="19">
                    </property>
                    <doc>Create a constant sequence.</doc>
                    <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                        <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                        </property>
                        <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                        </property>
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{85, 140}">
                    </property>
                </entity>
                <entity name="Const2" class="ptolemy.actor.lib.Const">
                    <doc>Create a constant sequence.</doc>
                    <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                        <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                        </property>
                        <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                        </property>
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[95.0, 185.0]">
                    </property>
                </entity>
                <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation4" class="ptolemy.actor.TypedIORelation">
                </relation>
                <link port="RX" relation="relation"/>
                <link port="TX" relation="relation4"/>
                <link port="Commutator.input" relation="relation2"/>
                <link port="Commutator.input" relation="relation3"/>
                <link port="Commutator.input" relation="relation"/>
                <link port="Commutator.output" relation="relation4"/>
                <link port="Const.output" relation="relation2"/>
                <link port="Const2.output" relation="relation3"/>
            </entity>
            <entity name="RobotVisualizer" class="ptolemy.actor.TypedCompositeActor">
                <property name="_location" class="ptolemy.kernel.util.Location" value="[280.0, 500.0]">
                </property>
                <property name="GR Director" class="ptolemy.domains.gr.kernel.GRDirector">
                    <property name="iterations" class="ptolemy.data.expr.Parameter" value="0">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{125, 80}">
                    </property>
                </property>
                <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={65, 123, 815, 518}, maximized=false}">
                </property>
                <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[600, 400]">
                </property>
                <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0">
                </property>
                <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{216.4377367424242, 226.342803030303}">
                </property>
                <port name="turn" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-35.0, 250.0]">
                    </property>
                </port>
                <entity name="Cylinder3D" class="ptolemy.domains.gr.lib.Cylinder3D">
                    <property name="radius" class="ptolemy.data.expr.Parameter" value="0.3">
                    </property>
                    <property name="height" class="ptolemy.data.expr.Parameter" value="0.05">
                    </property>
                    <property name="diffuseColor" class="ptolemy.actor.gui.ColorAttribute" value="{1.0,1.0,1.0,1.0}">
                    </property>
                    <property name="emissiveColor" class="ptolemy.actor.gui.ColorAttribute" value="{1.0,1.0,1.0,1.0}">
                    </property>
                    <property name="specularColor" class="ptolemy.actor.gui.ColorAttribute" value="{1.0,1.0,1.0,1.0}">
                    </property>
                    <property name="texture" class="ptolemy.data.expr.FileParameter" value="irobotCreate.jpg">
                    </property>
                    <property name="allowRuntimeChanges" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="circleDivisions" class="ptolemy.data.expr.Parameter" value="max(6, roundToInt(radius * 1000))">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[25.0, 125.0]">
                    </property>
                </entity>
                <entity name="Rotate3D" class="ptolemy.domains.gr.lib.Rotate3D">
                    <property name="initialAngle" class="ptolemy.data.expr.Parameter" value="1.55">
                    </property>
                    <property name="axisDirection" class="ptolemy.data.expr.Parameter" value="[1.0, 0.0, 0.0]">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[135.0, 135.0]">
                    </property>
                </entity>
                <entity name="Translate3D" class="ptolemy.domains.gr.lib.Translate3D">
                    <property name="accumulate" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="initialZTranslation" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[370.0, 190.0]">
                    </property>
                </entity>
                <entity name="ViewScreen3D" class="ptolemy.domains.gr.lib.ViewScreen3D">
                    <property name="scalable" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="translatable" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="showAxes" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="iterationSynchronized" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="backgroundColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.8,0.8,0.8,1.0}">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[515.0, 280.0]">
                    </property>
                </entity>
                <entity name="Box3D" class="ptolemy.domains.gr.lib.Box3D">
                    <property name="xLength" class="ptolemy.data.expr.Parameter" value="1000">
                    </property>
                    <property name="yHeight" class="ptolemy.data.expr.Parameter" value="1000">
                    </property>
                    <property name="zWidth" class="ptolemy.data.expr.Parameter" value="0.001">
                    </property>
                    <property name="diffuseColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.0,0.0,0.0,1.0}">
                    </property>
                    <property name="emissiveColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.0,0.0,0.0,1.0}">
                    </property>
                    <property name="specularColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.0,0.0,0.0,1.0}">
                    </property>
                    <property name="allowRuntimeChanges" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[425.0, 405.0]">
                    </property>
                </entity>
                <entity name="Rotate3D2" class="ptolemy.domains.gr.lib.Rotate3D">
                    <property name="accumulate" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="initialAngle" class="ptolemy.data.expr.Parameter" value="1.0 + pi">
                    </property>
                    <property name="axisDirection" class="ptolemy.data.expr.Parameter" value="[0.0, 0.0, 1.0]">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[250.0, 145.0]">
                    </property>
                </entity>
                <entity name="CompositeActor" class="ptolemy.actor.TypedCompositeActor">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[140.0, 235.0]">
                    </property>
                    <property name="SDF Director" class="ptolemy.domains.sdf.kernel.SDFDirector">
                        <property name="iterations" class="ptolemy.data.expr.Parameter" value="0">
                        </property>
                        <property name="synchronizeToRealTime" class="ptolemy.data.expr.Parameter" value="false">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="{-230.0, 30.0}">
                        </property>
                    </property>
                    <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={0, 0, 996, 776}, maximized=false}">
                    </property>
                    <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[781, 658]">
                    </property>
                    <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0">
                    </property>
                    <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{10.152027027027, 295.277027027027}">
                    </property>
                    <port name="port_3" class="ptolemy.actor.TypedIOPort">
                        <property name="input"/>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-375.0, 175.0]">
                        </property>
                    </port>
                    <port name="y" class="ptolemy.actor.TypedIOPort">
                        <property name="output"/>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[270.0, 360.0]">
                        </property>
                        <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                        </property>
                    </port>
                    <port name="angle" class="ptolemy.actor.TypedIOPort">
                        <property name="output"/>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-90.0, 380.0]">
                        </property>
                        <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                        </property>
                    </port>
                    <port name="x" class="ptolemy.actor.TypedIOPort">
                        <property name="output"/>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[270.0, 240.0]">
                        </property>
                        <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                        </property>
                    </port>
                    <entity name="Scale" class="ptolemy.actor.lib.Scale">
                        <property name="factor" class="ptolemy.data.expr.Parameter" value="0.01">
                        </property>
                        <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                            <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
                            </property>
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-290.0, 290.0]">
                        </property>
                    </entity>
                    <entity name="AddSubtract" class="ptolemy.actor.lib.AddSubtract">
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[45.0, 310.0]">
                        </property>
                    </entity>
                    <entity name="SampleDelay" class="ptolemy.domains.sdf.lib.SampleDelay">
                        <property name="initialOutputs" class="ptolemy.data.expr.Parameter" value="{0}">
                        </property>
                        <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                            <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="initialOutputs">
                            </property>
                            <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="20">
                            </property>
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[130.0, 310.0]">
                        </property>
                    </entity>
                    <entity name="PolarToCartesian" class="ptolemy.actor.lib.conversions.PolarToCartesian">
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-80.0, 185.0]">
                        </property>
                    </entity>
                    <entity name="Accumulator" class="ptolemy.actor.lib.Accumulator">
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-195.0, 300.0]">
                        </property>
                    </entity>
                    <entity name="AddSubtract2" class="ptolemy.actor.lib.AddSubtract">
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[40.0, 190.0]">
                        </property>
                    </entity>
                    <entity name="SampleDelay2" class="ptolemy.domains.sdf.lib.SampleDelay">
                        <property name="initialOutputs" class="ptolemy.data.expr.Parameter" value="{0}">
                        </property>
                        <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                            <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="initialOutputs">
                            </property>
                            <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="20">
                            </property>
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[130.0, 190.0]">
                        </property>
                    </entity>
                    <entity name="Expression" class="ptolemy.actor.lib.Expression">
                        <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="input == 1? 0 : 0.005">
                        </property>
                        <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                            <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                            </property>
                            <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                            </property>
                            <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                            </property>
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-235.0, 175.0]">
                        </property>
                        <port name="input" class="ptolemy.actor.TypedIOPort">
                            <property name="input"/>
                        </port>
                    </entity>
                    <relation name="relation5" class="ptolemy.actor.TypedIORelation">
                        <vertex name="vertex1" value="[-345.0, 175.0]">
                        </vertex>
                    </relation>
                    <relation name="relation7" class="ptolemy.actor.TypedIORelation">
                    </relation>
                    <relation name="relation8" class="ptolemy.actor.TypedIORelation">
                        <vertex name="vertex1" value="[190.0, 360.0]">
                        </vertex>
                    </relation>
                    <relation name="relation9" class="ptolemy.actor.TypedIORelation">
                    </relation>
                    <relation name="relation12" class="ptolemy.actor.TypedIORelation">
                    </relation>
                    <relation name="relation13" class="ptolemy.actor.TypedIORelation">
                    </relation>
                    <relation name="relation14" class="ptolemy.actor.TypedIORelation">
                        <vertex name="vertex1" value="[185.0, 240.0]">
                        </vertex>
                    </relation>
                    <relation name="relation" class="ptolemy.actor.TypedIORelation">
                    </relation>
                    <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                        <vertex name="vertex1" value="{-120.0, 300.0}">
                        </vertex>
                    </relation>
                    <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                    </relation>
                    <link port="port_3" relation="relation5"/>
                    <link port="y" relation="relation8"/>
                    <link port="angle" relation="relation2"/>
                    <link port="x" relation="relation14"/>
                    <link port="Scale.input" relation="relation5"/>
                    <link port="Scale.output" relation="relation3"/>
                    <link port="AddSubtract.plus" relation="relation8"/>
                    <link port="AddSubtract.plus" relation="relation9"/>
                    <link port="AddSubtract.output" relation="relation7"/>
                    <link port="SampleDelay.input" relation="relation7"/>
                    <link port="SampleDelay.output" relation="relation8"/>
                    <link port="PolarToCartesian.magnitude" relation="relation"/>
                    <link port="PolarToCartesian.angle" relation="relation2"/>
                    <link port="PolarToCartesian.x" relation="relation13"/>
                    <link port="PolarToCartesian.y" relation="relation9"/>
                    <link port="Accumulator.input" relation="relation3"/>
                    <link port="Accumulator.output" relation="relation2"/>
                    <link port="AddSubtract2.plus" relation="relation13"/>
                    <link port="AddSubtract2.plus" relation="relation14"/>
                    <link port="AddSubtract2.output" relation="relation12"/>
                    <link port="SampleDelay2.input" relation="relation12"/>
                    <link port="SampleDelay2.output" relation="relation14"/>
                    <link port="Expression.output" relation="relation"/>
                    <link port="Expression.input" relation="relation5"/>
                </entity>
                <entity name="Const" class="ptolemy.actor.lib.Const">
                    <property name="value" class="ptolemy.data.expr.Parameter" value=".05">
                    </property>
                    <doc>Create a constant sequence.</doc>
                    <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                        <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                        </property>
                        <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                        </property>
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{280, 290}">
                    </property>
                </entity>
                <relation name="relation" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation4" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation6" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation8_6" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation11_11" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation14_15" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation5" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation7" class="ptolemy.actor.TypedIORelation">
                </relation>
                <link port="turn" relation="relation7"/>
                <link port="Cylinder3D.sceneGraphOut" relation="relation"/>
                <link port="Rotate3D.sceneGraphIn" relation="relation"/>
                <link port="Rotate3D.sceneGraphOut" relation="relation6"/>
                <link port="Translate3D.sceneGraphIn" relation="relation2"/>
                <link port="Translate3D.sceneGraphOut" relation="relation3"/>
                <link port="Translate3D.xTranslate" relation="relation14_15"/>
                <link port="Translate3D.yTranslate" relation="relation8_6"/>
                <link port="Translate3D.zTranslate" relation="relation5"/>
                <link port="ViewScreen3D.sceneGraphIn" relation="relation4"/>
                <link port="ViewScreen3D.sceneGraphIn" relation="relation3"/>
                <link port="Box3D.sceneGraphOut" relation="relation4"/>
                <link port="Rotate3D2.sceneGraphIn" relation="relation6"/>
                <link port="Rotate3D2.sceneGraphOut" relation="relation2"/>
                <link port="Rotate3D2.angle" relation="relation11_11"/>
                <link port="CompositeActor.port_3" relation="relation7"/>
                <link port="CompositeActor.y" relation="relation8_6"/>
                <link port="CompositeActor.angle" relation="relation11_11"/>
                <link port="CompositeActor.x" relation="relation14_15"/>
                <link port="Const.output" relation="relation5"/>
            </entity>
            <entity name="Merge" class="ptolemy.domains.pn.kernel.NondeterministicMerge">
                <property name="_location" class="ptolemy.kernel.util.Location" value="[20.0, 480.0]">
                </property>
                <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </entity>
            <relation name="relation6" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="[-35.0, 370.0]">
                </vertex>
            </relation>
            <relation name="relation2" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation3" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation4" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="TX" relation="relation"/>
            <link port="RX" relation="relation4"/>
            <link port="trigger" relation="relation6"/>
            <link port="TX2Turn.TX" relation="relation3"/>
            <link port="TX2Turn.turn" relation="relation2"/>
            <link port="buttonDataSequence.RX" relation="relation6"/>
            <link port="buttonDataSequence.TX" relation="relation4"/>
            <link port="RobotVisualizer.turn" relation="relation2"/>
            <link port="Merge.input" relation="relation6"/>
            <link port="Merge.input" relation="relation"/>
            <link port="Merge.output" relation="relation3"/>
        </entity>
        <entity name="ButtonSensor" class="ptolemy.actor.TypedCompositeActor">
            <property name="_location" class="ptolemy.kernel.util.Location" value="[135.0, 300.0]">
            </property>
            <property name="SDF Director" class="ptolemy.domains.sdf.kernel.SDFDirector">
                <property name="allowDisconnectedGraphs" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[55.0, 125.0]">
                </property>
            </property>
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={-4, -4, 996, 776}, maximized=true}">
            </property>
            <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[781, 658]">
            </property>
            <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0">
            </property>
            <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{313.7922297297297, 165.9839527027027}">
            </property>
            <property name="_flipPortsHorizontal" class="ptolemy.data.expr.Parameter" value="false">
            </property>
            <port name="port_0" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[255.0, 260.0]">
                </property>
            </port>
            <entity name="ArrowKeyProbe" class="ptolemy.actor.lib.gui.ArrowKeyProbe">
                <property name="_location" class="ptolemy.kernel.util.Location" value="[30.0, 225.0]">
                </property>
            </entity>
            <entity name="Sleep" class="ptolemy.actor.lib.Sleep">
                <property name="sleepTime" class="ptolemy.actor.parameters.PortParameter" value="15L">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="sleepTime">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[140.0, 230.0]">
                </property>
            </entity>
            <relation name="relation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation2" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="port_0" relation="relation2"/>
            <link port="ArrowKeyProbe.upArrow" relation="relation"/>
            <link port="Sleep.input" relation="relation"/>
            <link port="Sleep.output" relation="relation2"/>
        </entity>
        <relation name="relation4_0" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation_1" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation" class="ptolemy.actor.TypedIORelation">
        </relation>
        <link port="TX" relation="relation4_0"/>
        <link port="RX" relation="relation_1"/>
        <link port="RobotDynamics.TX" relation="relation4_0"/>
        <link port="RobotDynamics.RX" relation="relation_1"/>
        <link port="RobotDynamics.trigger" relation="relation"/>
        <link port="ButtonSensor.port_0" relation="relation"/>
    </entity>
    <entity name="Controller" class="ptolemy.actor.TypedCompositeActor">
        <property name="_location" class="ptolemy.kernel.util.Location" value="[-81.5, 540.5]">
        </property>
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={104, 125, 815, 518}, maximized=false}">
        </property>
        <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[600, 400]">
        </property>
        <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.016766027454">
        </property>
        <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{14.4594594594595, 193.1418918918918}">
        </property>
        <property name="Annotation" class="ptolemy.vergil.kernel.attributes.TextAttribute">
            <property name="text" class="ptolemy.kernel.util.StringAttribute" value="The first actor converts sensor data to logical signal. In&#10;this case, we are only reacting to whether the button on &#10;the robot is pressed or not. So, ButtonPressed only produces&#10;a boolean signal. The ControlLogic actor takes this signal as&#10;input. It produces a &quot;turning&quot; control sequence to send to&#10;the robot if the input is true, which means the button is&#10;pressed; otherwise, the &quot;drive&quot; sequence is sent.&#10;&#10;Sending other control sequences through serial to the iRobot&#10;is also possible. The interface is detailed at&#10;http://www.irobot.com/filelibrary/create/Create%20Open%20Interface_v2.pdf">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[-225.0, 15.0]">
            </property>
        </property>
        <port name="TX" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[200.0, 360.0]">
            </property>
        </port>
        <port name="RX" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[-194.0, 267.5]">
            </property>
        </port>
        <entity name="ControlLogic" class="ptolemy.domains.fsm.kernel.FSMActor">
            <property name="_library" class="ptolemy.moml.LibraryAttribute">
                <configure>
    <entity name="StateLibrary" class="ptolemy.kernel.CompositeEntity"><input source="ptolemy/configs/basicUtilities.xml"></input><input source="ptolemy/configs/propertiesAttributeLibrary.xml"></input><entity name="State" class="ptolemy.domains.fsm.kernel.State"><property name="_centerName" class="ptolemy.kernel.util.Attribute"></property></entity></entity>
  </configure>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[50.0, 315.0]">
            </property>
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={104, 125, 815, 518}, maximized=false}">
            </property>
            <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[600, 400]">
            </property>
            <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="0.8">
            </property>
            <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{134.120118882921, 185.9035071170692}">
            </property>
            <port name="pressed" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[-225.0, 185.0]">
                </property>
            </port>
            <port name="action" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{515.0, 245.0}">
                </property>
            </port>
            <entity name="State" class="ptolemy.domains.fsm.kernel.State">
                <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[-80.0, 125.0]">
                </property>
            </entity>
            <entity name="State2" class="ptolemy.domains.fsm.kernel.State">
                <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[-135.0, 90.0]">
                </property>
            </entity>
            <entity name="State3" class="ptolemy.domains.fsm.kernel.State">
                <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[241.0, 175.14108276367188]">
                </property>
            </entity>
            <entity name="State4" class="ptolemy.domains.fsm.kernel.State">
                <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[-5.0, 90.0]">
                </property>
            </entity>
            <entity name="State5" class="ptolemy.domains.fsm.kernel.State">
                <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[-85.0, 55.0]">
                </property>
            </entity>
            <entity name="State6" class="ptolemy.domains.fsm.kernel.State">
                <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[15.0, 275.0]">
                </property>
            </entity>
            <entity name="State7" class="ptolemy.domains.fsm.kernel.State">
                <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[-35.0, 300.0]">
                </property>
            </entity>
            <entity name="State8" class="ptolemy.domains.fsm.kernel.State">
                <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[-25.0, 345.0]">
                </property>
            </entity>
            <entity name="State9" class="ptolemy.domains.fsm.kernel.State">
                <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[45.0, 340.0]">
                </property>
            </entity>
            <entity name="State10" class="ptolemy.domains.fsm.kernel.State">
                <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[80.0, 295.0]">
                </property>
            </entity>
            <entity name="State11" class="ptolemy.domains.fsm.kernel.State">
                <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[251.0, 215.14108276367188]">
                </property>
            </entity>
            <entity name="State12" class="ptolemy.domains.fsm.kernel.State">
                <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[341.0, 215.14108276367188]">
                </property>
            </entity>
            <entity name="State13" class="ptolemy.domains.fsm.kernel.State">
                <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[361.0, 165.14108276367188]">
                </property>
            </entity>
            <entity name="State14" class="ptolemy.domains.fsm.kernel.State">
                <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[286.0, 135.14108276367188]">
                </property>
            </entity>
            <relation name="relation" class="ptolemy.domains.fsm.kernel.Transition">
                <property name="annotation" class="ptolemy.data.expr.StringParameter" value="">
                </property>
                <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="action = 148">
                </property>
                <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                </property>
                <property name="gamma" class="ptolemy.data.expr.Parameter" value="-0.45127166217499215">
                </property>
                <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <property name="defaultTransition" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="nondeterministic" class="ptolemy.data.expr.Parameter" value="false">
                </property>
            </relation>
            <relation name="relation2" class="ptolemy.domains.fsm.kernel.Transition">
                <property name="annotation" class="ptolemy.data.expr.StringParameter" value="">
                </property>
                <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="pressed == 0">
                </property>
                <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="action = 137">
                </property>
                <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6284630215484998">
                </property>
                <property name="gamma" class="ptolemy.data.expr.Parameter" value="3.0320485980610257">
                </property>
                <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <property name="defaultTransition" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <property name="nondeterministic" class="ptolemy.data.expr.Parameter" value="false">
                </property>
            </relation>
            <relation name="relation3" class="ptolemy.domains.fsm.kernel.Transition">
                <property name="annotation" class="ptolemy.data.expr.StringParameter" value="">
                </property>
                <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="pressed != 0">
                </property>
                <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="action = 137">
                </property>
                <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.28928725103093195">
                </property>
                <property name="gamma" class="ptolemy.data.expr.Parameter" value="-0.2844924983031292">
                </property>
                <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <property name="defaultTransition" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <property name="nondeterministic" class="ptolemy.data.expr.Parameter" value="false">
                </property>
            </relation>
            <relation name="relation4" class="ptolemy.domains.fsm.kernel.Transition">
                <property name="annotation" class="ptolemy.data.expr.StringParameter" value="">
                </property>
                <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="action = 1">
                </property>
                <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6090532449281757">
                </property>
                <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.393370727404685">
                </property>
                <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <property name="defaultTransition" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="nondeterministic" class="ptolemy.data.expr.Parameter" value="false">
                </property>
            </relation>
            <relation name="relation5" class="ptolemy.domains.fsm.kernel.Transition">
                <property name="annotation" class="ptolemy.data.expr.StringParameter" value="">
                </property>
                <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="action = 18">
                </property>
                <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                </property>
                <property name="gamma" class="ptolemy.data.expr.Parameter" value="2.3995270372530744">
                </property>
                <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <property name="defaultTransition" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="nondeterministic" class="ptolemy.data.expr.Parameter" value="false">
                </property>
            </relation>
            <relation name="relation6" class="ptolemy.domains.fsm.kernel.Transition">
                <property name="annotation" class="ptolemy.data.expr.StringParameter" value="">
                </property>
                <property name="setActions" class="ptolemy.domains.fsm.kernel.CommitActionsAttribute" value="action = 137">
                </property>
                <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                </property>
                <property name="gamma" class="ptolemy.data.expr.Parameter" value="2.0331710112529655">
                </property>
                <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <property name="defaultTransition" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="nondeterministic" class="ptolemy.data.expr.Parameter" value="false">
                </property>
            </relation>
            <relation name="relation7" class="ptolemy.domains.fsm.kernel.Transition">
                <property name="annotation" class="ptolemy.data.expr.StringParameter" value="">
                </property>
                <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="action = 127">
                </property>
                <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                </property>
                <property name="gamma" class="ptolemy.data.expr.Parameter" value="1.9683910822836257">
                </property>
                <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <property name="defaultTransition" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="nondeterministic" class="ptolemy.data.expr.Parameter" value="false">
                </property>
            </relation>
            <relation name="relation8" class="ptolemy.domains.fsm.kernel.Transition">
                <property name="annotation" class="ptolemy.data.expr.StringParameter" value="">
                </property>
                <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="action = 255">
                </property>
                <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                </property>
                <property name="gamma" class="ptolemy.data.expr.Parameter" value="-0.5609330428281727">
                </property>
                <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <property name="defaultTransition" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="nondeterministic" class="ptolemy.data.expr.Parameter" value="false">
                </property>
            </relation>
            <relation name="relation9" class="ptolemy.domains.fsm.kernel.Transition">
                <property name="annotation" class="ptolemy.data.expr.StringParameter" value="">
                </property>
                <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="action = 255">
                </property>
                <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                </property>
                <property name="gamma" class="ptolemy.data.expr.Parameter" value="-1.1278110000427168">
                </property>
                <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <property name="defaultTransition" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="nondeterministic" class="ptolemy.data.expr.Parameter" value="false">
                </property>
            </relation>
            <relation name="relation10" class="ptolemy.domains.fsm.kernel.Transition">
                <property name="annotation" class="ptolemy.data.expr.StringParameter" value="">
                </property>
                <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="action = 255">
                </property>
                <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                </property>
                <property name="gamma" class="ptolemy.data.expr.Parameter" value="-1.1249125562350868">
                </property>
                <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <property name="defaultTransition" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="nondeterministic" class="ptolemy.data.expr.Parameter" value="false">
                </property>
            </relation>
            <relation name="relation11" class="ptolemy.domains.fsm.kernel.Transition">
                <property name="annotation" class="ptolemy.data.expr.StringParameter" value="">
                </property>
                <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="action = 255">
                </property>
                <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                </property>
                <property name="gamma" class="ptolemy.data.expr.Parameter" value="1.9683910822836257">
                </property>
                <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <property name="defaultTransition" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="nondeterministic" class="ptolemy.data.expr.Parameter" value="false">
                </property>
            </relation>
            <relation name="relation12" class="ptolemy.domains.fsm.kernel.Transition">
                <property name="annotation" class="ptolemy.data.expr.StringParameter" value="">
                </property>
                <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="action = 255">
                </property>
                <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                </property>
                <property name="gamma" class="ptolemy.data.expr.Parameter" value="-0.5609330428281727">
                </property>
                <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <property name="defaultTransition" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="nondeterministic" class="ptolemy.data.expr.Parameter" value="false">
                </property>
            </relation>
            <relation name="relation13" class="ptolemy.domains.fsm.kernel.Transition">
                <property name="annotation" class="ptolemy.data.expr.StringParameter" value="">
                </property>
                <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="action = 255">
                </property>
                <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                </property>
                <property name="gamma" class="ptolemy.data.expr.Parameter" value="-1.1278110000427168">
                </property>
                <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <property name="defaultTransition" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="nondeterministic" class="ptolemy.data.expr.Parameter" value="false">
                </property>
            </relation>
            <relation name="relation14" class="ptolemy.domains.fsm.kernel.Transition">
                <property name="annotation" class="ptolemy.data.expr.StringParameter" value="">
                </property>
                <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="action = 255">
                </property>
                <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                </property>
                <property name="gamma" class="ptolemy.data.expr.Parameter" value="2.140653271010973">
                </property>
                <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <property name="defaultTransition" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="nondeterministic" class="ptolemy.data.expr.Parameter" value="false">
                </property>
            </relation>
            <link port="State.outgoingPort" relation="relation"/>
            <link port="State2.incomingPort" relation="relation5"/>
            <link port="State2.outgoingPort" relation="relation6"/>
            <link port="State3.incomingPort" relation="relation14"/>
            <link port="State3.outgoingPort" relation="relation2"/>
            <link port="State4.incomingPort" relation="relation"/>
            <link port="State4.outgoingPort" relation="relation4"/>
            <link port="State5.incomingPort" relation="relation4"/>
            <link port="State5.outgoingPort" relation="relation5"/>
            <link port="State6.incomingPort" relation="relation6"/>
            <link port="State6.incomingPort" relation="relation2"/>
            <link port="State6.outgoingPort" relation="relation7"/>
            <link port="State7.incomingPort" relation="relation7"/>
            <link port="State7.outgoingPort" relation="relation8"/>
            <link port="State8.incomingPort" relation="relation8"/>
            <link port="State8.outgoingPort" relation="relation9"/>
            <link port="State9.incomingPort" relation="relation9"/>
            <link port="State9.outgoingPort" relation="relation10"/>
            <link port="State10.incomingPort" relation="relation10"/>
            <link port="State10.outgoingPort" relation="relation3"/>
            <link port="State11.incomingPort" relation="relation3"/>
            <link port="State11.outgoingPort" relation="relation11"/>
            <link port="State12.incomingPort" relation="relation11"/>
            <link port="State12.outgoingPort" relation="relation12"/>
            <link port="State13.incomingPort" relation="relation12"/>
            <link port="State13.outgoingPort" relation="relation13"/>
            <link port="State14.incomingPort" relation="relation13"/>
            <link port="State14.outgoingPort" relation="relation14"/>
        </entity>
        <entity name="ButtonPressed" class="ptolemy.domains.fsm.kernel.FSMActor">
            <property name="_library" class="ptolemy.moml.LibraryAttribute">
                <configure>
    <entity name="StateLibrary" class="ptolemy.kernel.CompositeEntity"><input source="ptolemy/configs/basicUtilities.xml"></input><input source="ptolemy/configs/propertiesAttributeLibrary.xml"></input><entity name="State" class="ptolemy.domains.fsm.kernel.State"><property name="_centerName" class="ptolemy.kernel.util.Attribute"></property></entity></entity>
  </configure>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[-85.0, 290.0]">
            </property>
            <property name="dataCount" class="ptolemy.data.expr.Parameter" value="1">
                <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                    <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                    </property>
                </property>
                <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                    <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                </property>
                <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{405.0, 30.0}">
                </property>
            </property>
            <property name="index" class="ptolemy.data.expr.Parameter" value="1">
                <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                    <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                    </property>
                </property>
                <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                    <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                </property>
                <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{405.0, 50.0}">
                </property>
            </property>
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={104, 125, 815, 518}, maximized=false}">
            </property>
            <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[600, 400]">
            </property>
            <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0">
            </property>
            <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{281.0711158212989, 162.2498554268268}">
            </property>
            <port name="input" class="ptolemy.domains.fsm.modal.RefinementPort">
                <property name="input"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[-5.0, 85.0]">
                </property>
            </port>
            <port name="output" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{510.0, 95.0}">
                </property>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="int">
                </property>
            </port>
            <entity name="state" class="ptolemy.domains.fsm.kernel.State">
                <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{150.0, 60.0}">
                </property>
            </entity>
            <entity name="state2" class="ptolemy.domains.fsm.kernel.State">
                <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{155.0, 185.0}">
                </property>
            </entity>
            <entity name="state3" class="ptolemy.domains.fsm.kernel.State">
                <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{315.0, 180.0}">
                </property>
            </entity>
            <relation name="relation" class="ptolemy.domains.fsm.kernel.Transition">
                <property name="annotation" class="ptolemy.data.expr.StringParameter" value="">
                </property>
                <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="input == 19">
                </property>
                <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                </property>
                <property name="gamma" class="ptolemy.data.expr.Parameter" value="1.6070250246372269">
                </property>
                <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <property name="defaultTransition" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <property name="nondeterministic" class="ptolemy.data.expr.Parameter" value="false">
                </property>
            </relation>
            <relation name="relation2" class="ptolemy.domains.fsm.kernel.Transition">
                <property name="annotation" class="ptolemy.data.expr.StringParameter" value="">
                </property>
                <property name="setActions" class="ptolemy.domains.fsm.kernel.CommitActionsAttribute" value="dataCount = input; index = 0">
                </property>
                <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                </property>
                <property name="gamma" class="ptolemy.data.expr.Parameter" value="0.01872289277330075">
                </property>
                <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <property name="defaultTransition" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="nondeterministic" class="ptolemy.data.expr.Parameter" value="false">
                </property>
            </relation>
            <relation name="relation3" class="ptolemy.domains.fsm.kernel.Transition">
                <property name="annotation" class="ptolemy.data.expr.StringParameter" value="">
                </property>
                <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="index &lt; dataCount">
                </property>
                <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="output = input">
                </property>
                <property name="setActions" class="ptolemy.domains.fsm.kernel.CommitActionsAttribute" value="index = index + 1">
                </property>
                <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="2.851065865101993">
                </property>
                <property name="gamma" class="ptolemy.data.expr.Parameter" value="-1.2933344275773961">
                </property>
                <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <property name="defaultTransition" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <property name="nondeterministic" class="ptolemy.data.expr.Parameter" value="false">
                </property>
            </relation>
            <relation name="relation4" class="ptolemy.domains.fsm.kernel.Transition">
                <property name="annotation" class="ptolemy.data.expr.StringParameter" value="">
                </property>
                <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="input == 19">
                </property>
                <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="1.1185672152287418">
                </property>
                <property name="gamma" class="ptolemy.data.expr.Parameter" value="-3.100941405781707">
                </property>
                <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <property name="defaultTransition" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <property name="nondeterministic" class="ptolemy.data.expr.Parameter" value="false">
                </property>
            </relation>
            <link port="state.outgoingPort" relation="relation"/>
            <link port="state2.incomingPort" relation="relation"/>
            <link port="state2.incomingPort" relation="relation4"/>
            <link port="state2.outgoingPort" relation="relation2"/>
            <link port="state3.incomingPort" relation="relation2"/>
            <link port="state3.incomingPort" relation="relation3"/>
            <link port="state3.outgoingPort" relation="relation3"/>
            <link port="state3.outgoingPort" relation="relation4"/>
        </entity>
        <relation name="relation5" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation2" class="ptolemy.actor.TypedIORelation">
        </relation>
        <link port="TX" relation="relation"/>
        <link port="RX" relation="relation2"/>
        <link port="ControlLogic.pressed" relation="relation5"/>
        <link port="ControlLogic.action" relation="relation"/>
        <link port="ButtonPressed.input" relation="relation2"/>
        <link port="ButtonPressed.output" relation="relation5"/>
    </entity>
    <relation name="relation6" class="ptolemy.actor.TypedIORelation">
        <vertex name="vertex1" value="[-171.5, 480.5]">
        </vertex>
    </relation>
    <relation name="relation2" class="ptolemy.actor.TypedIORelation">
        <vertex name="vertex1" value="[4.5, 473.5]">
        </vertex>
    </relation>
    <link port="RobotDynamics.TX" relation="relation2"/>
    <link port="RobotDynamics.RX" relation="relation6"/>
    <link port="Controller.TX" relation="relation2"/>
    <link port="Controller.RX" relation="relation6"/>
</entity>
