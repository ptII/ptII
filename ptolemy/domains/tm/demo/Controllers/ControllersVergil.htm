<!-- : $Id$
  @author: 
 -->
<html>
<head>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<link href="../../../../../doc/default.css" rel="stylesheet" type="text/css">
<title>Controllers</title>
</head>
<body>
<H1>Controllers</H1>
This model shows two (independent) control loops whose controllers
share the same CPU. The control loops are chosen such that it is
unstable if the control signals are constantly delayed. By choosing
different priority assignments and TM scheduling policies, different
stability of the two loops may appear. For example, a nonpreemptive
scheduling can stablize both control loops, but none of the preemptive
ones can.
<P>
The Controllers diagram model can be created in the Ptolemy II schematic editor
called Vergil, as shown below:
<CENTER>
<P>

<!-- HTML CONVERTER -->
<SCRIPT LANGUAGE="JavaScript"><!--
    var _info = navigator.userAgent; 
    var _ns = false; 
    var _ns6 = false;
    var _ie = (_info.indexOf("MSIE") > 0 && _info.indexOf("Win") > 0 && _info.indexOf("Windows 3.1") < 0);
//--></SCRIPT>
    <COMMENT>
        <SCRIPT LANGUAGE="JavaScript1.1"><!--
        var _ns6 = (_info.indexOf("Mozilla/5") >= 0);
        var _ns = (navigator.appName.indexOf("Netscape") >= 0 && ((_info.indexOf("Win") > 0     && _info.indexOf("Win16") < 0 && java.lang.System.getProperty("os.version").indexOf("3.5") < 0) || (_info.indexOf("Sun") > 0) || (_info.indexOf("Linux") > 0) || (_info.indexOf("AIX") > 0) || (_info.indexOf("OS/2") > 0) || (_info.indexOf("IRIX") > 0 )));
//--></SCRIPT>
    </COMMENT>

<SCRIPT LANGUAGE="JavaScript"><!--
    if (_ie == true) document.writeln('\
        <OBJECT \
            classid="clsid:8AD9C840-044E-11D1-B3E9-00805F499D93" \
            width = "730" \
            height = "450"  \
            codebase="http://java.sun.com/products/plugin/autodl/jinstall-1_4_2-windows-i586.cab#Version=1,4,2"> \
            <PARAM NAME = "code" \
                   VALUE = "ptolemy.vergil.MoMLViewerApplet" > \
	    <PARAM NAME = "codebase"   VALUE = "../../../../.." > \
	    <PARAM NAME = "archive" \
                   VALUE = "ptolemy/ptsupport.jar,lib/diva.jar,ptolemy/vergil/vergilApplet.jar,ptolemy/domains/sdf/sdf.jar,ptolemy/domains/tm/tm.jar,ptolemy/domains/de/de.jar,ptolemy/domains/ct/ct.jar" > \
            <PARAM NAME = "type" \
                   VALUE = "application/x-java-applet;version=1.4.2" > \
            <PARAM NAME = "progressbar" VALUE = "true"> \
            <PARAM NAME = "scriptable" VALUE = "false" > \
            <PARAM NAME = "NAME" VALUE = "ControllersViewer" > \
	    <PARAM NAME = "background" VALUE = "#ffffff" > \
	    <PARAM NAME = "model" VALUE = "Controllers.xml" > \
	    <PARAM NAME = "controls" VALUE = "buttons" > \
	    <PARAM NAME = "includeRunPanel" VALUE = "true" > \
            <a href="Controllers.xml">MoML specification for this model.</a> \
        </OBJECT> \
        ');
    else if (_ns == true || _ns6 == true)
         document.writeln('\
        <COMMENT> \
          <EMBED \
            type = "application/x-java-applet;version=1.4.2" \
            code = "ptolemy.vergil.MoMLViewerApplet" \
            codebase = "../../../../.." \
            archive = "ptolemy/ptsupport.jar,lib/diva.jar,ptolemy/vergil/vergilApplet.jar,ptolemy/domains/sdf/sdf.jar,ptolemy/domains/tm/tm.jar,ptolemy/domains/de/de.jar,ptolemy/domains/ct/ct.jar" \
            width = "730" \
            height = "450" \
            NAME = "ControllersViewer" background = "#ffffff" model = "Controllers.xml" controls = "buttons" includeRunPanel = "true"  \
            progressbar = "true" \
            scriptable = "false" \
            pluginspage = "http://java.sun.com/j2se/1.4.2/download.html"> \
              <NOEMBED> \
              <a href="Controllers.xml">MoML specification for this model.</a> \
              </NOEMBED> \
           </EMBED> \
        <COMMENT> \
        ');
    else document.writeln('\
        <APPLET \
            code = "ptolemy.vergil.MoMLViewerApplet" \
            codebase = "../../../../.." \
            archive = "ptolemy/ptsupport.jar,lib/diva.jar,ptolemy/vergil/vergilApplet.jar,ptolemy/domains/sdf/sdf.jar,ptolemy/domains/tm/tm.jar,ptolemy/domains/de/de.jar,ptolemy/domains/ct/ct.jar" \
            width = "730" \
            height = "450" \
            > \
            <PARAM NAME = "NAME" VALUE = "ControllersViewer" > \
	    <PARAM NAME = "background" VALUE = "#ffffff" > \
	    <PARAM NAME = "modelURL" VALUE = "Controllers.xml" > \
	    <PARAM NAME = "controls" VALUE = "buttons" > \
	    <PARAM NAME = "includeRunPanel" VALUE = "true" > \
            <a href="Controllers.xml">MoML specification for this model.</a> \
        </APPLET> \
        ');
//--></SCRIPT>
<!-- /HTML CONVERTER -->
</CENTER>

The inside of the TM controllers composite actor is shown below:
<CENTER>
<P>

<!-- HTML CONVERTER -->
<SCRIPT LANGUAGE="JavaScript"><!--
    var _info = navigator.userAgent; 
    var _ns = false; 
    var _ns6 = false;
    var _ie = (_info.indexOf("MSIE") > 0 && _info.indexOf("Win") > 0 && _info.indexOf("Windows 3.1") < 0);
//--></SCRIPT>
    <COMMENT>
        <SCRIPT LANGUAGE="JavaScript1.1"><!--
        var _ns6 = (_info.indexOf("Mozilla/5") >= 0);
        var _ns = (navigator.appName.indexOf("Netscape") >= 0 && ((_info.indexOf("Win") > 0     && _info.indexOf("Win16") < 0 && java.lang.System.getProperty("os.version").indexOf("3.5") < 0) || (_info.indexOf("Sun") > 0) || (_info.indexOf("Linux") > 0) || (_info.indexOf("AIX") > 0) || (_info.indexOf("OS/2") > 0) || (_info.indexOf("IRIX") > 0 )));
//--></SCRIPT>
    </COMMENT>

<SCRIPT LANGUAGE="JavaScript"><!--
    if (_ie == true) document.writeln('\
        <OBJECT \
            classid="clsid:8AD9C840-044E-11D1-B3E9-00805F499D93" \
            width = "730" \
            height = "450"  \
            codebase="http://java.sun.com/products/plugin/autodl/jinstall-1_4_2-windows-i586.cab#Version=1,4,2"> \
            <PARAM NAME = "code" \
                   VALUE = "ptolemy.vergil.MoMLViewerApplet" > \
	    <PARAM NAME = "codebase"   VALUE = "../../../../.." > \
	    <PARAM NAME = "archive" \
                   VALUE = "ptolemy/ptsupport.jar,lib/diva.jar,ptolemy/vergil/vergilApplet.jar,ptolemy/domains/sdf/sdf.jar,ptolemy/domains/tm/tm.jar,ptolemy/domains/de/de.jar,ptolemy/domains/ct/ct.jar" > \
            <PARAM NAME = "type" \
                   VALUE = "application/x-java-applet;version=1.4.2" > \
            <PARAM NAME = "progressbar" VALUE = "true"> \
            <PARAM NAME = "scriptable" VALUE = "false" > \
            <PARAM NAME = "NAME" VALUE = "ControllersViewer.TM controllers" > \
	    <PARAM NAME = "background" VALUE = "#ffffff" > \
	    <PARAM NAME = "model" VALUE = "Controllers.xml#TM controllers" > \
	    <PARAM NAME = "includeRunPanel" VALUE = "false" > \
            <a href="Controllers.xml">MoML specification for this model.</a> \
        </OBJECT> \
        ');
    else if (_ns == true || _ns6 == true)
         document.writeln('\
        <COMMENT> \
          <EMBED \
            type = "application/x-java-applet;version=1.4.2" \
            code = "ptolemy.vergil.MoMLViewerApplet" \
            codebase = "../../../../.." \
            archive = "ptolemy/ptsupport.jar,lib/diva.jar,ptolemy/vergil/vergilApplet.jar,ptolemy/domains/sdf/sdf.jar,ptolemy/domains/tm/tm.jar,ptolemy/domains/de/de.jar,ptolemy/domains/ct/ct.jar" \
            width = "730" \
            height = "450" \
            NAME = "ControllersViewer.TM controllers" background = "#ffffff" model = "Controllers.xml#TM controllers" includeRunPanel = "false"  \
            progressbar = "true" \
            scriptable = "false" \
            pluginspage = "http://java.sun.com/j2se/1.4.2/download.html"> \
              <NOEMBED> \
              <a href="Controllers.xml">MoML specification for this model.</a> \
              </NOEMBED> \
           </EMBED> \
        <COMMENT> \
        ');
    else document.writeln('\
        <APPLET \
            code = "ptolemy.vergil.MoMLViewerApplet" \
            codebase = "../../../../.." \
            archive = "ptolemy/ptsupport.jar,lib/diva.jar,ptolemy/vergil/vergilApplet.jar,ptolemy/domains/sdf/sdf.jar,ptolemy/domains/tm/tm.jar,ptolemy/domains/de/de.jar,ptolemy/domains/ct/ct.jar" \
            width = "730" \
            height = "450" \
            > \
            <PARAM NAME = "NAME" VALUE = "ControllersViewer.TM controlers" > \
	    <PARAM NAME = "background" VALUE = "#ffffff" > \
	    <PARAM NAME = "model" VALUE = "Controllers.xml#TM controllers" > \
	    <PARAM NAME = "includeRunPanel" VALUE = "false" > \
            <a href="Controllers.xml">MoML specification for this model.</a> \
        </APPLET> \
        ');
//--></SCRIPT>
<!-- /HTML CONVERTER -->
</CENTER>
Note: Unfortunately, plotting the schedule from within an applet does
not yet work.

<p>
</body>
</html>
