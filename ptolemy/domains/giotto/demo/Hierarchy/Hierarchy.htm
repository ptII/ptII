<!-- : $Id$
  @author: Xiaojun Liu and Edward A. Lee
 -->
<html>
<head>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<title>Hierarchy</title>
<link href="../../../../../doc/default.css" rel="stylesheet" type="text/css">
</head>
<body>
<H1>Hierarchical Giotto Model</H1>
<P>
This example has no interesting functionality,
but carefully illustrates the semantics of Giotto,
and is easy to follow.
It is defined by the following block diagram:
<CENTER>
<P>

<!-- PT JNLP APPLET CONVERTER -->
<!-- We use both the older applet style and the JDK1.6.0_10 and later
     JNLP Applets.  In this way, we can support pre-JDK1.6.0_10 installs.
     See https://jdk6.dev.java.net/plugin2/jnlp/ -->
<APPLET 
   code = "ptolemy.vergil.VergilApplet"
   codebase = "../../../../.."
   archive = "ptolemy/domains/giotto/demo/Hierarchy/Hierarchy.jar,ptolemy/domains/giotto/giotto.jar,ptolemy/data/data.jar,ptolemy/ptsupport.jar,lib/diva.jar,ptolemy/domains/modal/modal.jar,ptolemy/domains/fsm/fsm.jar,ptolemy/domains/ct/ct.jar,ptolemy/vergil/vergilApplet.jar"
   width = "400"
   height = "650"
   >
  <PARAM name="jnlp_href" value="ptolemy/domains/giotto/demo/Hierarchy/Hierarchy.jnlp">
  <PARAM NAME = "commandLineArguments" VALUE = "-ptinyViewer ptolemy/domains/giotto/demo/Hierarchy/Hierarchy.xml">
  <PARAM NAME = "NAME" VALUE = "Hierarchy" >
  <PARAM NAME = "background" VALUE = "#ffffff" >
  <PARAM NAME = "controls" VALUE = "buttons" >
  <PARAM NAME = "orientation" VALUE = "vertical" > \
  <PARAM NAME = "modelURL" VALUE = "Hierarchy.xml" > \
  <a href="Hierarchy.xml">MoML specification for this model.</a> \
</APPLET>
<!-- /PT JNLP APPLET CONVERTER -->
</CENTER>
<P>
The model consists of a constant source that produces the value
1, a pair of composites that function as accumulators, simply
adding the current value to a running  sum, and a plotter.
The source and the upper composite run at frequency 1, meaning
that they get invoked once per iteration.  The lower composite
and the plotter run at frequency 2, meaning that they are invoked
twice per iteration.
<p>
The composites are defined as follows:
<CENTER>
<P>

<!-- PT JNLP CONVERTER -->
<a href="Hierarchy.jnlp">Run the demo using Web Start</a>
<!-- /PT JNLP CONVERTER -->
</CENTER>
<p>
They contain an adder that adds the current input to the
previous output, in a feedback loop.  This illustrates the Giotto
semantic property that on each arc, the output value from the
previous iteration is available.
<p>
The composite has a parameter, <i>internalFrequency</i>, which
sets the frequency of each adder.  The upper composite has this
frequency set to 3, and the lower has it set to 2.  Because of this,
each invocation of the upper composite adds 3 to the running sum,
and each invocation of the bottom composite adds 2 to its running
sum.  The upper composite is invoked half as often as the plotter,
which is why its output values are each plotted twice.
</body>
</html>
