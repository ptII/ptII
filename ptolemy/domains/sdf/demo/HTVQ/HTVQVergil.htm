<!-- : $Id$
  @author: Steve Neuendorffer and Edward A. Lee
-->
<html>
<head>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<title>HTVQ</title>
<link href="../../../../../doc/default.css" rel="stylesheet" type="text/css">
</head>
<body>
<H1>HTVQ Block Diagram</H1>
<P>
The HTVQ model can be created in the Ptolemy II schematic editor
called Vergil, as shown below:
<CENTER>
<P>
<!-- HTML CONVERTER -->
<SCRIPT LANGUAGE="JavaScript"><!--
    var _info = navigator.userAgent; 
    var _ns = false; 
    var _ns6 = false;
    var _ie = (_info.indexOf("MSIE") > 0 && _info.indexOf("Win") > 0 && _info.indexOf("Windows 3.1") < 0);
//--></SCRIPT>
    <COMMENT>
        <SCRIPT LANGUAGE="JavaScript1.1"><!--
        var _ns6 = (_info.indexOf("Mozilla/5") >= 0);
        var _ns = (navigator.appName.indexOf("Netscape") >= 0 && ((_info.indexOf("Win") > 0     && _info.indexOf("Win16") < 0 && java.lang.System.getProperty("os.version").indexOf("3.5") < 0) || (_info.indexOf("Sun") > 0) || (_info.indexOf("Linux") > 0) || (_info.indexOf("AIX") > 0) || (_info.indexOf("OS/2") > 0) || (_info.indexOf("IRIX") > 0 )));
//--></SCRIPT>
    </COMMENT>

<SCRIPT LANGUAGE="JavaScript"><!--
    if (_ie == true) document.writeln('\
        <OBJECT \
            classid="clsid:8AD9C840-044E-11D1-B3E9-00805F499D93" \
            width = "680" \
            height = "270"  \
            codebase="http://java.sun.com/products/plugin/autodl/jinstall-1_4_2-windows-i586.cab#Version=1,4,2"> \
            <PARAM NAME = "code" \
                   VALUE = "ptolemy.vergil.MoMLViewerApplet" > \
	    <PARAM NAME = "codebase"   VALUE = "../../../../.." > \
	    <PARAM NAME = "archive" \
                   VALUE = "ptolemy/ptsupport.jar,lib/diva.jar,ptolemy/vergil/vergilApplet.jar,ptolemy/domains/sdf/sdf.jar" > \
            <PARAM NAME = "type" \
                   VALUE = "application/x-java-applet;version=1.4.2" > \
            <PARAM NAME = "progressbar" VALUE = "true"> \
            <PARAM NAME = "scriptable" VALUE = "false" > \
            <PARAM NAME = "name" VALUE = "HTVQVergil" > \
	    <PARAM NAME = "background" VALUE = "#ffffff" > \
	    <PARAM NAME = "modelURL" VALUE = "HTVQ.xml" > \
            <a href="HTVQ.xml">MoML specification for this model.</a> \
        </OBJECT> \
        ');
    else if (_ns == true || _ns6 == true)
         document.writeln('\
        <COMMENT> \
          <EMBED \
            type = "application/x-java-applet;version=1.4.2" \
            code = "ptolemy.vergil.MoMLViewerApplet" \
            codebase = "../../../../.." \
            archive = "ptolemy/ptsupport.jar,lib/diva.jar,ptolemy/vergil/vergilApplet.jar,ptolemy/domains/sdf/sdf.jar" \
            width = "680" \
            height = "270" \
            name = "HTVQVergil" background = "#ffffff" modelURL = "HTVQ.xml"  \
            progressbar = "true" \
            scriptable = "false" \
            pluginspage = "http://java.sun.com/j2se/1.4.2/download.html"> \
              <NOEMBED> \
              <a href="HTVQ.xml">MoML specification for this model.</a> \
              </NOEMBED> \
           </EMBED> \
        <COMMENT> \
        ');
    else document.writeln('\
        <APPLET \
            code = "ptolemy.vergil.MoMLViewerApplet" \
            codebase = "../../../../.." \
            archive = "ptolemy/ptsupport.jar,lib/diva.jar,ptolemy/vergil/vergilApplet.jar,ptolemy/domains/sdf/sdf.jar" \
            width = "680" \
            height = "270" \
            > \
            <PARAM NAME = "name" VALUE = "HTVQVergil" > \
	    <PARAM NAME = "background" VALUE = "#ffffff" > \
	    <PARAM NAME = "modelURL" VALUE = "HTVQ.xml" > \
            <a href="HTVQ.xml">MoML specification for this model.</a> \
        </APPLET> \
        ');
//--></SCRIPT>
<!-- /HTML CONVERTER -->
</CENTER>
<p>
Each frame is first subdivided into blocks of 4 pixels by 2 pixels.   Each block is then passed through a Vector Quantizer, which selects the best reconstruction block from a precomputed codebook.   The output of the Vector Quantizer is the codebook index of the reconstruction vector.   Each block is decompressed by indexing into the codebook, and then reassembled into the output image.   <p>
The Vector Quantizer in this implementation does not actually find the optimal reconstruction vector for each block.   Instead, the quantization is done using a series of 3 table lookups.  The resulting quantizer is very close to optimal and results in a significantly faster implementation.   This technique is known as Hierarchical Table-Lookup Vector Quantization (HTVQ).
<p>
This model uses a
<a href="HTVQApplet.java">custom applet</a> to achieve a
layout different from that provided by default.
</p>
<p></p>
</body>
</html>
