<!-- $Id$-->
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<link href="../../../../../doc/default.css" rel="stylesheet" type="text/css">
<TITLE>Type Demo</TITLE>
</HEAD>
<BODY>
<H1>Type System Demo</H1>
<p>
The applet below illustrates the types of the ports as
they are updated during type resolution.
<center>
<!-- The HTML below is for the Java Plugin.  The first
     section is for IE, the second is for Netscape
 -->
<!-- HTML CONVERTER -->
<SCRIPT LANGUAGE="JavaScript"><!--
    var _info = navigator.userAgent; 
    var _ns = false; 
    var _ns6 = false;
    var _ie = (_info.indexOf("MSIE") > 0 && _info.indexOf("Win") > 0 && _info.indexOf("Windows 3.1") < 0);
//--></SCRIPT>
    <COMMENT>
        <SCRIPT LANGUAGE="JavaScript1.1"><!--
        var _ns6 = (_info.indexOf("Mozilla/5") >= 0);
        var _ns = (navigator.appName.indexOf("Netscape") >= 0 && ((_info.indexOf("Win") > 0     && _info.indexOf("Win16") < 0 && java.lang.System.getProperty("os.version").indexOf("3.5") < 0) || (_info.indexOf("Sun") > 0) || (_info.indexOf("Linux") > 0) || (_info.indexOf("AIX") > 0) || (_info.indexOf("OS/2") > 0) || (_info.indexOf("IRIX") > 0 )));
//--></SCRIPT>
    </COMMENT>

<SCRIPT LANGUAGE="JavaScript"><!--
    if (_ie == true) document.writeln('\
        <OBJECT \
            classid="clsid:8AD9C840-044E-11D1-B3E9-00805F499D93" \
            width = "800" \
            height = "600"  \
            codebase="http://java.sun.com/products/plugin/autodl/jinstall-1_4_2-windows-i586.cab#Version=1,4,2"> \
            <PARAM NAME = "code" \
                   VALUE = "ptolemy.vergil.TypeAnimatorApplet" > \
	    <PARAM NAME = "codebase"   VALUE = "../../../../.." > \
	    <PARAM NAME = "archive" \
                   VALUE = "ptolemy/ptsupport.jar,lib/diva.jar,ptolemy/vergil/vergilApplet.jar,ptolemy/domains/sdf/sdf.jar" > \
            <PARAM NAME = "type" \
                   VALUE = "application/x-java-applet;version=1.4.2" > \
            <PARAM NAME = "progressbar" VALUE = "true"> \
            <PARAM NAME = "scriptable" VALUE = "false" > \
            <PARAM NAME = "name" VALUE = "Type" > \
	    <PARAM NAME = "background" VALUE = "#ffffff" > \
	    <PARAM NAME = "modelURL" VALUE = "Type.xml"> \
	    <PARAM NAME = "orientation" VALUE = "horizontal"> \
	    <PARAM NAME = "controls" VALUE = "buttons, topParameters" > \
	    <PARAM NAME = "includeRunPanel" VALUE = "true" > \
            <a href="Type.xml">MoML specification for this model.</a> \
        </OBJECT> \
        ');
    else if (_ns == true || _ns6 == true)
         document.writeln('\
        <COMMENT> \
          <EMBED \
            type = "application/x-java-applet;version=1.4.2" \
            code = "ptolemy.vergil.TypeAnimatorApplet" \
            codebase = "../../../../.." \
            archive = "ptolemy/ptsupport.jar,lib/diva.jar,ptolemy/vergil/vergilApplet.jar,ptolemy/domains/sdf/sdf.jar" \
            width = "800" \
            height = "600" \
            name = "Type" background = "#ffffff" modelURL = "Type.xml" orientation = "horizontal" controls = "buttons, topParameters" includeRunPanel = "true"  \
            progressbar = "true" \
            scriptable = "false" \
            pluginspage = "http://java.sun.com/j2se/1.4.2/download.html"> \
              <NOEMBED> \
              <a href="Type.xml">MoML specification for this model.</a> \
              </NOEMBED> \
           </EMBED> \
        <COMMENT> \
        ');
    else document.writeln('\
        <APPLET \
            code = "ptolemy.vergil.TypeAnimatorApplet" \
            codebase = "../../../../.." \
            archive = "ptolemy/ptsupport.jar,lib/diva.jar,ptolemy/vergil/vergilApplet.jar,ptolemy/domains/sdf/sdf.jar" \
            width = "800" \
            height = "600" \
            > \
            <PARAM NAME = "name" VALUE = "Type" > \
	    <PARAM NAME = "background" VALUE = "#ffffff" > \
	    <PARAM NAME = "modelURL" VALUE = "Type.xml"> \
	    <PARAM NAME = "orientation" VALUE = "horizontal"> \
	    <PARAM NAME = "controls" VALUE = "buttons, topParameters" > \
	    <PARAM NAME = "includeRunPanel" VALUE = "true" > \
            <a href="Type.xml">MoML specification for this model.</a> \
        </APPLET> \
        ');
//--></SCRIPT>
<!-- /HTML CONVERTER -->
</center>
The type constraints are:
<ul>
  <li> For each Ramp, the types of the initial value and the step size
       are less than or equal to the output type.
  <li> The types of the Expression inputs less than or equal to
       the output.
  <li> Each connection requires that the type of the receiving port
       is greater than or equal to the type of the sending port.
</ul>
To see some illustrations of how type resolution works, try the following:
<ul>
  <li> Using the default parameters, click "go"; the type on all the
	ports of the Ramps and the Expression resolve to int,
	since all the Ramp parameters are integers.
  <li> Change the Ramp1 step size to 0.5, a double, then click "go".
	The output of Ramp1, input1 and the output of the Expression
	are resolved to double.
  <li> Change the Ramp1 initial value to the string "A", step size
	to the string "BC". (When fires, Ramp1 will generate the
	sequence of strings "A", "ABC", "ABCBC", ...) The output
	of Ramp1, input1 and output of the Expression will be
	resolved to "String", but there is a type conflict between
	the output of Expression and the input of the plotter, as
	indicated by the message in Java console.
</ul>
</BODY>
</HTML>
