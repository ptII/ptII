<?xml version="1.0" standalone="no"?>
<!DOCTYPE entity PUBLIC "-//UC Berkeley//DTD MoML 1//EN"
    "http://ptolemy.eecs.berkeley.edu/xml/dtd/MoML_1.dtd">
<entity name="CSMA25" class="ptolemy.actor.TypedCompositeActor">
    <property name="_createdBy" class="ptolemy.kernel.attributes.VersionAttribute" value="3.1-devel">
    </property>
    <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={145, 18, 994, 686}, maximized=false}">
    </property>
    <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[779, 568]">
    </property>
    <property name="WirelessDirector" class="ptolemy.domains.wireless.kernel.WirelessDirector">
        <property name="startTime" class="ptolemy.data.expr.Parameter" value="0.0">
        </property>
        <property name="stopTime" class="ptolemy.data.expr.Parameter" value="40.0">
        </property>
        <property name="stopWhenQueueIsEmpty" class="ptolemy.data.expr.Parameter" value="true">
        </property>
        <property name="synchronizeToRealTime" class="ptolemy.data.expr.Parameter" value="true">
        </property>
        <property name="isCQAdaptive" class="ptolemy.data.expr.Parameter" value="true">
        </property>
        <property name="minBinCount" class="ptolemy.data.expr.Parameter" value="2">
        </property>
        <property name="binCountFactor" class="ptolemy.data.expr.Parameter" value="2">
        </property>
        <property name="randomizeLocations" class="ptolemy.data.expr.Parameter" value="false">
        </property>
        <property name="seed" class="ptolemy.data.expr.Parameter" value="0L">
        </property>
        <property name="randomizeGraph" class="ptolemy.data.expr.Parameter" value="false">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="55.0, 40.0">
        </property>
    </property>
    <property name="annotation" class="ptolemy.kernel.util.Attribute">
        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <property name="_iconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure><svg><text x="20" y="20" style="font-size:14; font-family:SansSerif; fill:blue">This model shows a sensor network with 25 nodes. Each node broadcast to other node in its radio range using a CSMA protocol 
(I couldn't find a good broadcast MAC protocol for sensor nets to data, so I adapted the CSMA/CA protocol a little bit for 
sensor nets. Please look inside "node" to see the protocol. Note that the DataCollectChannel and CollisionReportChannel 
(both instance of AtomicWirelessChannel)are merely used for routing the ralated statistics for analysis.</text></svg></configure>
        </property>
        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-A-</text>
      </svg>
    </configure>
        </property>
        <property name="_controllerFactory" class="ptolemy.vergil.basic.NodeControllerFactory">
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.AnnotationEditorFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="-10.0, 575.0">
        </property>
    </property>
    <property name="annotation2" class="ptolemy.kernel.util.Attribute">
        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <property name="_iconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure><svg><text x="20" y="20" style="font-size:14; font-family:SansSerif; fill:darkgray">Author: Yang Zhao</text></svg></configure>
        </property>
        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-A-</text>
      </svg>
    </configure>
        </property>
        <property name="_controllerFactory" class="ptolemy.vergil.basic.NodeControllerFactory">
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.AnnotationEditorFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="-30.0, 750.0">
        </property>
    </property>
    <property name="Range" class="ptolemy.data.expr.Parameter" value="200">
        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
            </property>
        </property>
        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="635.0, 20.0">
        </property>
    </property>
    <property name="TrafficDensity" class="ptolemy.data.expr.Parameter" value="10.0">
        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
            </property>
        </property>
        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="635.0, 35.0">
        </property>
    </property>
    <property name="MinWaiting" class="ptolemy.data.expr.Parameter" value="5.0">
        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
            </property>
        </property>
        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="635.0, 55.0">
        </property>
    </property>
    <property name="MaxWaiting" class="ptolemy.data.expr.Parameter" value="10.0">
        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
            </property>
        </property>
        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="635.0, 75.0">
        </property>
    </property>
    <property name="MinTxTime" class="ptolemy.data.expr.Parameter" value="5.0">
        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
            </property>
        </property>
        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="635.0, 95.0">
        </property>
    </property>
    <property name="MaxTxTime" class="ptolemy.data.expr.Parameter" value="10.0">
        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
            </property>
        </property>
        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="635.0, 115.0">
        </property>
    </property>
    <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0">
    </property>
    <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{389.5, 284.0}">
    </property>
    <entity name="LimitedRangeChannel" class="ptolemy.domains.wireless.lib.LimitedRangeChannel">
        <property name="defaultProperties" class="ptolemy.data.expr.Parameter" value="{range=Range}">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="160.0, 40.0">
        </property>
    </entity>
    <entity name="Statistics" class="ptolemy.domains.wireless.kernel.WirelessComposite">
        <property name="DEDirector" class="ptolemy.domains.de.kernel.DEDirector">
            <property name="startTime" class="ptolemy.data.expr.Parameter" value="0.0">
            </property>
            <property name="stopTime" class="ptolemy.data.expr.Parameter" value="1.7976931348623E308">
            </property>
            <property name="stopWhenQueueIsEmpty" class="ptolemy.data.expr.Parameter" value="true">
            </property>
            <property name="synchronizeToRealTime" class="ptolemy.data.expr.Parameter" value="false">
            </property>
            <property name="isCQAdaptive" class="ptolemy.data.expr.Parameter" value="true">
            </property>
            <property name="minBinCount" class="ptolemy.data.expr.Parameter" value="2">
            </property>
            <property name="binCountFactor" class="ptolemy.data.expr.Parameter" value="2">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="70.0, 45.0">
            </property>
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="570.0, 50.0">
        </property>
        <property name="in" class="ptolemy.data.expr.Parameter">
        </property>
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={232, 253, 815, 518}, maximized=false}">
        </property>
        <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[600, 400]">
        </property>
        <property name="annotation" class="ptolemy.kernel.util.Attribute">
            <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
            <property name="_iconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure><svg><text x="20" y="20" style="font-size:14; font-family:SansSerif; fill:blue">The statistics of the waiting time and collision.</text></svg></configure>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-A-</text>
      </svg>
    </configure>
            </property>
            <property name="_controllerFactory" class="ptolemy.vergil.basic.NodeControllerFactory">
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.AnnotationEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="80.0, 335.0">
            </property>
        </property>
        <port name="in" class="ptolemy.domains.wireless.kernel.WirelessIOPort">
            <property name="input"/>
            <property name="outsideChannel" class="ptolemy.data.expr.StringParameter" value="DataCollectChannel">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="100.0, 155.0">
            </property>
        </port>
        <port name="in2" class="ptolemy.domains.wireless.kernel.WirelessIOPort">
            <property name="input"/>
            <property name="outsideChannel" class="ptolemy.data.expr.StringParameter" value="CollisionReportChannel">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="SOUTH">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="100.0, 265.0">
            </property>
        </port>
        <entity name="Display" class="ptolemy.actor.lib.gui.Display">
            <property name="title" class="ptolemy.kernel.util.StringAttribute" value="Waiting time for each node">
            </property>
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={2, 86, 290, 227}, maximized=false}">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="180.0, 80.0">
            </property>
        </entity>
        <entity name="HistogramPlotter" class="ptolemy.actor.lib.gui.HistogramPlotter">
            <property name="fillOnWrapup" class="ptolemy.data.expr.Parameter" value="true">
            </property>
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={0, 226, 291, 254}, maximized=false}">
            </property>
            <property name="_plotSize" class="ptolemy.actor.gui.SizeAttribute" value="[283, 199]">
            </property>
            <property name="binOffset" class="ptolemy.data.expr.Parameter" value="0.0">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="500.0, 180.0">
            </property>
            <configure>
<?plotml <!DOCTYPE plot PUBLIC "-//UC Berkeley//DTD PlotML 1//EN"
"http://ptolemy.eecs.berkeley.edu/xml/dtd/PlotML_1.dtd">
<plot>
<title>Waiting Time</title>
<xLabel></xLabel>
<yLabel></yLabel>
<xRange min="1.0" max="8.5"/>
<yRange min="0.0" max="24.0"/>
<barGraph width="0.5" offset="0.15"/>
<bin width="1.0" offset="0.0"/>
</plot>?>
            </configure>
        </entity>
        <entity name="Discard" class="ptolemy.actor.lib.Discard">
            <property name="_location" class="ptolemy.kernel.util.Location" value="495.0, 100.0">
            </property>
        </entity>
        <entity name="waitingTimeRecord" class="ptolemy.actor.lib.RecordDisassembler">
            <property name="_location" class="ptolemy.kernel.util.Location" value="225.0, 135.0">
            </property>
            <port name="input" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="id" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
            </port>
            <port name="time" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
            </port>
        </entity>
        <entity name="collisionRecord" class="ptolemy.actor.lib.RecordDisassembler">
            <property name="_location" class="ptolemy.kernel.util.Location" value="230.0, 245.0">
            </property>
            <port name="input" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="collisionId" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
            </port>
            <port name="detectTime" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
            </port>
        </entity>
        <entity name="TimedPlotter" class="ptolemy.actor.lib.gui.TimedPlotter">
            <property name="fillOnWrapup" class="ptolemy.data.expr.Parameter" value="true">
            </property>
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={151, 471, 303, 300}, maximized=false}">
            </property>
            <property name="_plotSize" class="ptolemy.actor.gui.SizeAttribute" value="[295, 245]">
            </property>
            <property name="startingDataset" class="ptolemy.data.expr.Parameter" value="0">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="375.0, 275.0">
            </property>
            <configure>
<?plotml <!DOCTYPE plot PUBLIC "-//UC Berkeley//DTD PlotML 1//EN"
"http://ptolemy.eecs.berkeley.edu/xml/dtd/PlotML_1.dtd">
<plot>
<title>Collision Detected Time</title>
<xLabel></xLabel>
<yLabel></yLabel>
<xRange min="1.0" max="1.0"/>
<yRange min="1.0" max="1.0"/>
<default connected="no" marks="dots" stems="yes"/>
</plot>?>
            </configure>
        </entity>
        <relation name="relation2" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="140.0, 155.0">
            </vertex>
        </relation>
        <relation name="relation4" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation3" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation5" class="ptolemy.actor.TypedIORelation">
        </relation>
        <link port="in" relation="relation2"/>
        <link port="in2" relation="relation3"/>
        <link port="Display.input" relation="relation2"/>
        <link port="HistogramPlotter.input" relation="relation"/>
        <link port="Discard.input" relation="relation4"/>
        <link port="waitingTimeRecord.input" relation="relation2"/>
        <link port="waitingTimeRecord.id" relation="relation4"/>
        <link port="waitingTimeRecord.time" relation="relation"/>
        <link port="collisionRecord.input" relation="relation3"/>
        <link port="collisionRecord.detectTime" relation="relation5"/>
        <link port="TimedPlotter.input" relation="relation5"/>
    </entity>
    <entity name="DataCollectChannel" class="ptolemy.domains.wireless.kernel.AtomicWirelessChannel">
        <property name="_location" class="ptolemy.kernel.util.Location" value="290.0, 45.0">
        </property>
    </entity>
    <entity name="CollisionReportChannel" class="ptolemy.domains.wireless.kernel.AtomicWirelessChannel">
        <property name="_location" class="ptolemy.kernel.util.Location" value="420.0, 45.0">
        </property>
    </entity>
    <entity name="node" class="ptolemy.domains.wireless.kernel.WirelessComposite">
        <property name="_location" class="ptolemy.kernel.util.Location" value="270.0, 515.0">
        </property>
        <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
            <property name="startTime" class="ptolemy.data.expr.Parameter" value="0.0">
            </property>
            <property name="stopTime" class="ptolemy.data.expr.Parameter" value="1.7976931348623E308">
            </property>
            <property name="stopWhenQueueIsEmpty" class="ptolemy.data.expr.Parameter" value="true">
            </property>
            <property name="synchronizeToRealTime" class="ptolemy.data.expr.Parameter" value="false">
            </property>
            <property name="isCQAdaptive" class="ptolemy.data.expr.Parameter" value="true">
            </property>
            <property name="minBinCount" class="ptolemy.data.expr.Parameter" value="2">
            </property>
            <property name="binCountFactor" class="ptolemy.data.expr.Parameter" value="2">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 40.0">
            </property>
        </property>
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={106, 164, 815, 518}, maximized=false}">
        </property>
        <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[600, 400]">
        </property>
        <property name="id" class="ptolemy.data.expr.Parameter" value="23">
        </property>
        <property name="annotation" class="ptolemy.kernel.util.Attribute">
            <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
            <property name="_iconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure><svg><text x="20" y="20" style="font-size:14; font-family:SansSerif; fill:blue">The protocol assumes that propagation takes no time but transmission takes time
that depends on the package's size. When having data to send, it first sense 
whether the channel is free or busy. If free, send the data, if not, then wait
for a random time and try again. The detection inteface is provided by the senseAir 
component. </text></svg></configure>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-A-</text>
      </svg>
    </configure>
            </property>
            <property name="_controllerFactory" class="ptolemy.vergil.basic.NodeControllerFactory">
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.AnnotationEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="-50.0, 370.0">
            </property>
        </property>
        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <port name="in" class="ptolemy.domains.wireless.kernel.WirelessIOPort">
            <property name="input"/>
            <property name="outsideChannel" class="ptolemy.data.expr.StringParameter" value="LimitedRangeChannel">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="70.0, 175.0">
            </property>
            <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
        </port>
        <port name="out" class="ptolemy.domains.wireless.kernel.WirelessIOPort">
            <property name="output"/>
            <property name="outsideChannel" class="ptolemy.data.expr.StringParameter" value="LimitedRangeChannel">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="425.0, 145.0">
            </property>
            <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
        </port>
        <port name="report" class="ptolemy.domains.wireless.kernel.WirelessIOPort">
            <property name="output"/>
            <property name="outsideChannel" class="ptolemy.data.expr.StringParameter" value="DataCollectChannel">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="545.0, 65.0">
            </property>
            <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
        </port>
        <port name="report2" class="ptolemy.domains.wireless.kernel.WirelessIOPort">
            <property name="output"/>
            <property name="outsideChannel" class="ptolemy.data.expr.StringParameter" value="CollisionReportChannel">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="545.0, 105.0">
            </property>
            <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
        </port>
        <entity name="PoissonClock" class="ptolemy.actor.lib.PoissonClock">
            <property name="meanTime" class="ptolemy.data.expr.Parameter" value="TrafficDensity">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="85.0, 105.0">
            </property>
        </entity>
        <entity name="modal model" class="ptolemy.domains.fsm.modal.ModalModel">
            <property name="_tableauFactory" class="ptolemy.vergil.fsm.modal.ModalTableauFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="270.0, 115.0">
            </property>
            <port name="data" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="channelState" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="senseChannel" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
            </port>
            <port name="outMSG" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="NORTH">
                </property>
            </port>
            <port name="randomWait" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="output"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="wakeUp" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="output"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <entity name="_Controller" class="ptolemy.domains.fsm.modal.ModalController">
                <property name="initialStateName" class="ptolemy.kernel.util.StringAttribute" value="idle">
                </property>
                <property name="_library" class="ptolemy.moml.LibraryAttribute">
                    <configure><entity name="state library" class="ptolemy.kernel.CompositeEntity"><input source="ptolemy/configs/basicUtilities.xml"></input><entity name="state" class="ptolemy.domains.fsm.kernel.State"><property name="_centerName" class="ptolemy.kernel.util.Attribute"></property></entity></entity></configure>
                </property>
                <port name="data" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="40.0, 95.0">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="channelState" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="35.0, 185.0">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="senseChannel" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="535.0, 70.0">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="outMSG" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="535.0, 155.0">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="randomWait" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="30.0, 260.0">
                    </property>
                    <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                </port>
                <port name="wakeUp" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="30.0, 330.0">
                    </property>
                    <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                </port>
                <entity name="idle" class="ptolemy.domains.fsm.kernel.State">
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="115.0, 145.0">
                    </property>
                </entity>
                <entity name="senseAir" class="ptolemy.domains.fsm.kernel.State">
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="255.0, 120.0">
                    </property>
                </entity>
                <entity name="randomWait" class="ptolemy.domains.fsm.kernel.State">
                    <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="randomWait">
                    </property>
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="460.0, 125.0">
                    </property>
                </entity>
                <entity name="Emit" class="ptolemy.domains.fsm.kernel.State">
                    <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="Emit">
                    </property>
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="270.0, 355.0">
                    </property>
                </entity>
                <relation name="relation" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="data_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="senseChannel = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.7290251868073567">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-0.2479894981275352">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation2" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="channelState_isPresent &amp;&amp; channelState == &quot;BUSY&quot;">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="randomWait = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.8816266690949863">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="0.3014559376966855">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation3" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="wakeUp_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="senseChannel = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.7432607920971347">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.969499643808648">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation4" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="channelState_isPresent &amp;&amp; channelState == &quot;FREE&quot;">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="outMSG = &quot;MSG&quot;; randomWait = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.04481040911079372">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="1.5101165449404714">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation5" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="wakeUp_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="outMSG = &quot;END&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.28882718043739275">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.217615632874857">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <link port="idle.incomingPort" relation="relation5"/>
                <link port="idle.outgoingPort" relation="relation"/>
                <link port="senseAir.incomingPort" relation="relation"/>
                <link port="senseAir.incomingPort" relation="relation3"/>
                <link port="senseAir.outgoingPort" relation="relation2"/>
                <link port="senseAir.outgoingPort" relation="relation4"/>
                <link port="randomWait.incomingPort" relation="relation2"/>
                <link port="randomWait.outgoingPort" relation="relation3"/>
                <link port="Emit.incomingPort" relation="relation4"/>
                <link port="Emit.outgoingPort" relation="relation5"/>
            </entity>
            <entity name="randomWait" class="ptolemy.domains.fsm.modal.Refinement">
                <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
                    <property name="startTime" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                    <property name="stopTime" class="ptolemy.data.expr.Parameter" value="1.7976931348623E308">
                    </property>
                    <property name="stopWhenQueueIsEmpty" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="synchronizeToRealTime" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="isCQAdaptive" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="minBinCount" class="ptolemy.data.expr.Parameter" value="2">
                    </property>
                    <property name="binCountFactor" class="ptolemy.data.expr.Parameter" value="2">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 40.0">
                    </property>
                </property>
                <port name="data" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="45.0, 125.0">
                    </property>
                </port>
                <port name="channelState" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="55.0, 215.0">
                    </property>
                </port>
                <port name="senseChannel" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="415.0, 160.0">
                    </property>
                </port>
                <port name="outMSG" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="525.0, 325.0">
                    </property>
                </port>
                <port name="randomWait" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="70.0, 280.0">
                    </property>
                </port>
                <port name="wakeUp" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="420.0, 255.0">
                    </property>
                </port>
                <entity name="VariableDelay" class="ptolemy.domains.de.lib.VariableDelay">
                    <property name="defaultDelay" class="ptolemy.data.expr.Parameter" value="1.0">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="290.0, 250.0">
                    </property>
                </entity>
                <entity name="Uniform" class="ptolemy.actor.lib.Uniform">
                    <property name="seed" class="ptolemy.data.expr.Parameter" value="0L">
                    </property>
                    <property name="lowerBound" class="ptolemy.data.expr.Parameter" value="MinWaiting">
                    </property>
                    <property name="upperBound" class="ptolemy.data.expr.Parameter" value="MaxWaiting">
                    </property>
                    <doc>Create a sequence of uniformly distributed random numbers</doc>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="190.0, 315.0">
                    </property>
                </entity>
                <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                    <vertex name="vertex1" value="145.0, 240.0">
                    </vertex>
                </relation>
                <relation name="relation" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                </relation>
                <link port="randomWait" relation="relation2"/>
                <link port="wakeUp" relation="relation3"/>
                <link port="VariableDelay.input" relation="relation2"/>
                <link port="VariableDelay.output" relation="relation3"/>
                <link port="VariableDelay.delay" relation="relation"/>
                <link port="Uniform.output" relation="relation"/>
                <link port="Uniform.trigger" relation="relation2"/>
            </entity>
            <entity name="Emit" class="ptolemy.domains.fsm.modal.Refinement">
                <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
                    <property name="startTime" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                    <property name="stopTime" class="ptolemy.data.expr.Parameter" value="1.7976931348623E308">
                    </property>
                    <property name="stopWhenQueueIsEmpty" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="synchronizeToRealTime" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="isCQAdaptive" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="minBinCount" class="ptolemy.data.expr.Parameter" value="2">
                    </property>
                    <property name="binCountFactor" class="ptolemy.data.expr.Parameter" value="2">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="270.0, 85.0">
                    </property>
                </property>
                <port name="data" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="55.0, 305.0">
                    </property>
                </port>
                <port name="channelState" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="100.0, 150.0">
                    </property>
                </port>
                <port name="senseChannel" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="90.0, 60.0">
                    </property>
                </port>
                <port name="outMSG" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="40.0, 205.0">
                    </property>
                </port>
                <port name="randomWait" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="85.0, 275.0">
                    </property>
                </port>
                <port name="wakeUp" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="485.0, 210.0">
                    </property>
                </port>
                <entity name="Uniform" class="ptolemy.actor.lib.Uniform">
                    <property name="seed" class="ptolemy.data.expr.Parameter" value="10L">
                    </property>
                    <property name="lowerBound" class="ptolemy.data.expr.Parameter" value="MinTxTime">
                    </property>
                    <property name="upperBound" class="ptolemy.data.expr.Parameter" value="MaxTxTime">
                    </property>
                    <doc>Create a sequence of uniformly distributed random numbers</doc>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="190.0, 315.0">
                    </property>
                </entity>
                <entity name="VariableDelay" class="ptolemy.domains.de.lib.VariableDelay">
                    <property name="defaultDelay" class="ptolemy.data.expr.Parameter" value="1.0">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="290.0, 250.0">
                    </property>
                </entity>
                <relation name="relation" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                    <vertex name="vertex1" value="145.0, 240.0">
                    </vertex>
                </relation>
                <relation name="relation4" class="ptolemy.actor.TypedIORelation">
                </relation>
                <link port="randomWait" relation="relation2"/>
                <link port="wakeUp" relation="relation4"/>
                <link port="Uniform.output" relation="relation"/>
                <link port="Uniform.trigger" relation="relation2"/>
                <link port="VariableDelay.input" relation="relation2"/>
                <link port="VariableDelay.output" relation="relation4"/>
                <link port="VariableDelay.delay" relation="relation"/>
            </entity>
            <relation name="dataRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="channelStateRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="senseChannelRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="outMSGRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="randomWaitRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="wakeUpRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="data" relation="dataRelation"/>
            <link port="channelState" relation="channelStateRelation"/>
            <link port="senseChannel" relation="senseChannelRelation"/>
            <link port="outMSG" relation="outMSGRelation"/>
            <link port="randomWait" relation="randomWaitRelation"/>
            <link port="wakeUp" relation="wakeUpRelation"/>
            <link port="_Controller.data" relation="dataRelation"/>
            <link port="_Controller.channelState" relation="channelStateRelation"/>
            <link port="_Controller.senseChannel" relation="senseChannelRelation"/>
            <link port="_Controller.outMSG" relation="outMSGRelation"/>
            <link port="_Controller.randomWait" relation="randomWaitRelation"/>
            <link port="_Controller.wakeUp" relation="wakeUpRelation"/>
            <link port="randomWait.data" relation="dataRelation"/>
            <link port="randomWait.channelState" relation="channelStateRelation"/>
            <link port="randomWait.senseChannel" relation="senseChannelRelation"/>
            <link port="randomWait.outMSG" relation="outMSGRelation"/>
            <link port="randomWait.randomWait" relation="randomWaitRelation"/>
            <link port="randomWait.wakeUp" relation="wakeUpRelation"/>
            <link port="Emit.data" relation="dataRelation"/>
            <link port="Emit.channelState" relation="channelStateRelation"/>
            <link port="Emit.senseChannel" relation="senseChannelRelation"/>
            <link port="Emit.outMSG" relation="outMSGRelation"/>
            <link port="Emit.randomWait" relation="randomWaitRelation"/>
            <link port="Emit.wakeUp" relation="wakeUpRelation"/>
        </entity>
        <entity name="TimedDelay" class="ptolemy.domains.de.lib.TimedDelay">
            <property name="delay" class="ptolemy.data.expr.Parameter" value="1.0">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="505.0, 300.0">
            </property>
        </entity>
        <entity name="For analysis" class="ptolemy.actor.TypedCompositeActor">
            <property name="_location" class="ptolemy.kernel.util.Location" value="470.0, 65.0">
            </property>
            <port name="time1" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 130.0">
                </property>
            </port>
            <port name="time2" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 185.0">
                </property>
            </port>
            <port name="report" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="465.0, 150.0">
                </property>
            </port>
            <port name="collision" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="SOUTH">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 255.0">
                </property>
            </port>
            <port name="report2" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="SOUTH">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="440.0, 265.0">
                </property>
            </port>
            <entity name="WaitingTime" class="ptolemy.domains.de.lib.WaitingTime">
                <property name="_location" class="ptolemy.kernel.util.Location" value="210.0, 140.0">
                </property>
            </entity>
            <entity name="RecordAssembler" class="ptolemy.actor.lib.RecordAssembler">
                <property name="_location" class="ptolemy.kernel.util.Location" value="340.0, 110.0">
                </property>
                <port name="id" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
                <port name="time" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
            </entity>
            <entity name="Const" class="ptolemy.actor.lib.Const">
                <property name="value" class="ptolemy.data.expr.Parameter" value="id">
                </property>
                <doc>Create a constant sequence</doc>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="300.0, 85.0">
                </property>
            </entity>
            <entity name="CurrentTime" class="ptolemy.actor.lib.CurrentTime">
                <doc>Output the current time.</doc>
                <property name="_location" class="ptolemy.kernel.util.Location" value="165.0, 290.0">
                </property>
            </entity>
            <entity name="RecordAssembler2" class="ptolemy.actor.lib.RecordAssembler">
                <property name="_location" class="ptolemy.kernel.util.Location" value="300.0, 245.0">
                </property>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                    </property>
                </port>
                <port name="collisionId" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="detectTime" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
            </entity>
            <entity name="Const2" class="ptolemy.actor.lib.Const">
                <property name="value" class="ptolemy.data.expr.Parameter" value="id">
                </property>
                <doc>Create a constant sequence</doc>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="165.0, 220.0">
                </property>
            </entity>
            <relation name="relation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation2" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="270.0, 140.0">
                </vertex>
            </relation>
            <relation name="relation4" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation8" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="120.0, 255.0">
                </vertex>
            </relation>
            <relation name="relation7" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation10" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation5" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation6" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="time1" relation="relation"/>
            <link port="time2" relation="relation2"/>
            <link port="report" relation="relation6"/>
            <link port="collision" relation="relation8"/>
            <link port="report2" relation="relation5"/>
            <link port="WaitingTime.output" relation="relation3"/>
            <link port="WaitingTime.waiter" relation="relation"/>
            <link port="WaitingTime.waitee" relation="relation2"/>
            <link port="RecordAssembler.output" relation="relation6"/>
            <link port="RecordAssembler.id" relation="relation4"/>
            <link port="RecordAssembler.time" relation="relation3"/>
            <link port="Const.output" relation="relation4"/>
            <link port="Const.trigger" relation="relation3"/>
            <link port="CurrentTime.output" relation="relation7"/>
            <link port="CurrentTime.trigger" relation="relation8"/>
            <link port="RecordAssembler2.output" relation="relation5"/>
            <link port="RecordAssembler2.collisionId" relation="relation10"/>
            <link port="RecordAssembler2.detectTime" relation="relation7"/>
            <link port="Const2.output" relation="relation10"/>
            <link port="Const2.trigger" relation="relation8"/>
        </entity>
        <entity name="modal model2" class="ptolemy.domains.fsm.modal.ModalModel">
            <property name="_tableauFactory" class="ptolemy.vergil.fsm.modal.ModalTableauFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="145.0, 185.0">
            </property>
            <port name="inMSG" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="channelState" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
            </port>
            <port name="senseChannel" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="collision" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
            </port>
            <entity name="_Controller" class="ptolemy.domains.fsm.modal.ModalController">
                <property name="initialStateName" class="ptolemy.kernel.util.StringAttribute" value="idle">
                </property>
                <property name="_library" class="ptolemy.moml.LibraryAttribute">
                    <configure>
        <entity name="state library" class="ptolemy.kernel.CompositeEntity"><input source="ptolemy/configs/basicUtilities.xml"></input><entity name="state" class="ptolemy.domains.fsm.kernel.State"><property name="_centerName" class="ptolemy.kernel.util.Attribute"></property><property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory"></property></entity></entity>
      </configure>
                </property>
                <port name="inMSG" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="0.0, 0.0">
                    </property>
                </port>
                <port name="channelState" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="335.0, 90.0">
                    </property>
                </port>
                <port name="senseChannel" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="-5.0, 90.0">
                    </property>
                </port>
                <port name="collision" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="240.0, 25.0">
                    </property>
                </port>
                <entity name="idle" class="ptolemy.domains.fsm.kernel.State">
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="190.5, 187.28129322224544">
                    </property>
                </entity>
                <entity name="receive" class="ptolemy.domains.fsm.kernel.State">
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="425.0, 195.0">
                    </property>
                </entity>
                <relation name="relation" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="inMSG_isPresent &amp;&amp; inMSG == &quot;END&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.9564982454336546">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation2" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="inMSG_isPresent &amp;&amp; inMSG == &quot;MSG&quot;">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="collision = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="2.512139297546763">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-0.21451248805933695">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation3" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="senseChannel_isPresent &amp;&amp; ! inMSG_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="channelState = &quot;BUSY&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="2.356194490192345">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.0687929371738796">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation4" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="senseChannel_isPresent &amp;&amp; !inMSG_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="channelState = &quot;FREE&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="2.13592263986528">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="1.4616814519565946">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation5" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="inMSG_isPresent &amp;&amp; inMSG == &quot;MSG&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="0.11144946119379541">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <link port="idle.incomingPort" relation="relation"/>
                <link port="idle.incomingPort" relation="relation4"/>
                <link port="idle.outgoingPort" relation="relation5"/>
                <link port="idle.outgoingPort" relation="relation4"/>
                <link port="receive.incomingPort" relation="relation5"/>
                <link port="receive.incomingPort" relation="relation2"/>
                <link port="receive.incomingPort" relation="relation3"/>
                <link port="receive.outgoingPort" relation="relation"/>
                <link port="receive.outgoingPort" relation="relation2"/>
                <link port="receive.outgoingPort" relation="relation3"/>
            </entity>
            <relation name="inMSGRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="channelStateRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="senseChannelRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="collisionRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="inMSG" relation="inMSGRelation"/>
            <link port="channelState" relation="channelStateRelation"/>
            <link port="senseChannel" relation="senseChannelRelation"/>
            <link port="collision" relation="collisionRelation"/>
            <link port="_Controller.inMSG" relation="inMSGRelation"/>
            <link port="_Controller.channelState" relation="channelStateRelation"/>
            <link port="_Controller.senseChannel" relation="senseChannelRelation"/>
            <link port="_Controller.collision" relation="collisionRelation"/>
        </entity>
        <relation name="relation5" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation7" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation8" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="210.0, 55.0">
            </vertex>
        </relation>
        <relation name="relation2" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="405.0, 75.0">
            </vertex>
        </relation>
        <relation name="relation6" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="465.0, 195.0">
            </vertex>
        </relation>
        <relation name="relation9" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation10" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation4" class="ptolemy.actor.TypedIORelation">
        </relation>
        <link port="in" relation="relation10"/>
        <link port="out" relation="relation2"/>
        <link port="report" relation="relation7"/>
        <link port="report2" relation="relation9"/>
        <link port="PoissonClock.output" relation="relation8"/>
        <link port="modal model.data" relation="relation8"/>
        <link port="modal model.channelState" relation="relation4"/>
        <link port="modal model.senseChannel" relation="relation5"/>
        <link port="modal model.outMSG" relation="relation2"/>
        <link port="TimedDelay.input" relation="relation5"/>
        <link port="TimedDelay.output" relation="relation"/>
        <link port="For analysis.time1" relation="relation8"/>
        <link port="For analysis.time2" relation="relation2"/>
        <link port="For analysis.report" relation="relation7"/>
        <link port="For analysis.collision" relation="relation6"/>
        <link port="For analysis.report2" relation="relation9"/>
        <link port="modal model2.inMSG" relation="relation10"/>
        <link port="modal model2.channelState" relation="relation4"/>
        <link port="modal model2.senseChannel" relation="relation"/>
        <link port="modal model2.collision" relation="relation6"/>
    </entity>
    <entity name="node2" class="ptolemy.domains.wireless.kernel.WirelessComposite">
        <property name="_location" class="ptolemy.kernel.util.Location" value="480.0, 515.0">
        </property>
        <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
            <property name="startTime" class="ptolemy.data.expr.Parameter" value="0.0">
            </property>
            <property name="stopTime" class="ptolemy.data.expr.Parameter" value="1.7976931348623E308">
            </property>
            <property name="stopWhenQueueIsEmpty" class="ptolemy.data.expr.Parameter" value="true">
            </property>
            <property name="synchronizeToRealTime" class="ptolemy.data.expr.Parameter" value="false">
            </property>
            <property name="isCQAdaptive" class="ptolemy.data.expr.Parameter" value="true">
            </property>
            <property name="minBinCount" class="ptolemy.data.expr.Parameter" value="2">
            </property>
            <property name="binCountFactor" class="ptolemy.data.expr.Parameter" value="2">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 40.0">
            </property>
        </property>
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={128, 300, 815, 518}, maximized=false}">
        </property>
        <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[600, 400]">
        </property>
        <property name="id" class="ptolemy.data.expr.Parameter" value="25">
        </property>
        <property name="annotation" class="ptolemy.kernel.util.Attribute">
            <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
            <property name="_iconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure><svg><text x="20" y="20" style="font-size:14; font-family:SansSerif; fill:blue">The protocol assumes that propagation takes no time but transmission takes time
that depends on the package's size. When having data to send, it first sense 
whether the channel is free or busy. If free, send the data, if not, then wait
for a random time and try again. The detection inteface is provided by the senseAir 
component. </text></svg></configure>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-A-</text>
      </svg>
    </configure>
            </property>
            <property name="_controllerFactory" class="ptolemy.vergil.basic.NodeControllerFactory">
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.AnnotationEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="-50.0, 370.0">
            </property>
        </property>
        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <port name="in" class="ptolemy.domains.wireless.kernel.WirelessIOPort">
            <property name="input"/>
            <property name="outsideChannel" class="ptolemy.data.expr.StringParameter" value="LimitedRangeChannel">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="70.0, 175.0">
            </property>
            <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
        </port>
        <port name="out" class="ptolemy.domains.wireless.kernel.WirelessIOPort">
            <property name="output"/>
            <property name="outsideChannel" class="ptolemy.data.expr.StringParameter" value="LimitedRangeChannel">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="425.0, 145.0">
            </property>
            <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
        </port>
        <port name="report" class="ptolemy.domains.wireless.kernel.WirelessIOPort">
            <property name="output"/>
            <property name="outsideChannel" class="ptolemy.data.expr.StringParameter" value="DataCollectChannel">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="545.0, 65.0">
            </property>
            <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
        </port>
        <port name="report2" class="ptolemy.domains.wireless.kernel.WirelessIOPort">
            <property name="output"/>
            <property name="outsideChannel" class="ptolemy.data.expr.StringParameter" value="CollisionReportChannel">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="545.0, 105.0">
            </property>
            <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
        </port>
        <entity name="PoissonClock" class="ptolemy.actor.lib.PoissonClock">
            <property name="meanTime" class="ptolemy.data.expr.Parameter" value="TrafficDensity">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="85.0, 105.0">
            </property>
        </entity>
        <entity name="modal model" class="ptolemy.domains.fsm.modal.ModalModel">
            <property name="_tableauFactory" class="ptolemy.vergil.fsm.modal.ModalTableauFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="270.0, 115.0">
            </property>
            <port name="data" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="channelState" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="senseChannel" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
            </port>
            <port name="outMSG" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="NORTH">
                </property>
            </port>
            <port name="randomWait" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="output"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="wakeUp" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="output"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <entity name="_Controller" class="ptolemy.domains.fsm.modal.ModalController">
                <property name="initialStateName" class="ptolemy.kernel.util.StringAttribute" value="idle">
                </property>
                <property name="_library" class="ptolemy.moml.LibraryAttribute">
                    <configure><entity name="state library" class="ptolemy.kernel.CompositeEntity"><input source="ptolemy/configs/basicUtilities.xml"></input><entity name="state" class="ptolemy.domains.fsm.kernel.State"><property name="_centerName" class="ptolemy.kernel.util.Attribute"></property></entity></entity></configure>
                </property>
                <port name="data" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="40.0, 95.0">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="channelState" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="35.0, 185.0">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="senseChannel" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="535.0, 70.0">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="outMSG" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="535.0, 155.0">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="randomWait" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="30.0, 260.0">
                    </property>
                    <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                </port>
                <port name="wakeUp" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="30.0, 330.0">
                    </property>
                    <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                </port>
                <entity name="idle" class="ptolemy.domains.fsm.kernel.State">
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="115.0, 145.0">
                    </property>
                </entity>
                <entity name="senseAir" class="ptolemy.domains.fsm.kernel.State">
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="255.0, 120.0">
                    </property>
                </entity>
                <entity name="randomWait" class="ptolemy.domains.fsm.kernel.State">
                    <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="randomWait">
                    </property>
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="460.0, 125.0">
                    </property>
                </entity>
                <entity name="Emit" class="ptolemy.domains.fsm.kernel.State">
                    <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="Emit">
                    </property>
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="270.0, 355.0">
                    </property>
                </entity>
                <relation name="relation" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="data_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="senseChannel = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.7290251868073567">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-0.2479894981275352">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation2" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="channelState_isPresent &amp;&amp; channelState == &quot;BUSY&quot;">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="randomWait = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.8816266690949863">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="0.3014559376966855">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation3" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="wakeUp_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="senseChannel = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.7432607920971347">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.969499643808648">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation4" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="channelState_isPresent &amp;&amp; channelState == &quot;FREE&quot;">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="outMSG = &quot;MSG&quot;; randomWait = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.04481040911079372">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="1.5101165449404714">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation5" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="wakeUp_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="outMSG = &quot;END&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.28882718043739275">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.217615632874857">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <link port="idle.incomingPort" relation="relation5"/>
                <link port="idle.outgoingPort" relation="relation"/>
                <link port="senseAir.incomingPort" relation="relation"/>
                <link port="senseAir.incomingPort" relation="relation3"/>
                <link port="senseAir.outgoingPort" relation="relation2"/>
                <link port="senseAir.outgoingPort" relation="relation4"/>
                <link port="randomWait.incomingPort" relation="relation2"/>
                <link port="randomWait.outgoingPort" relation="relation3"/>
                <link port="Emit.incomingPort" relation="relation4"/>
                <link port="Emit.outgoingPort" relation="relation5"/>
            </entity>
            <entity name="randomWait" class="ptolemy.domains.fsm.modal.Refinement">
                <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
                    <property name="startTime" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                    <property name="stopTime" class="ptolemy.data.expr.Parameter" value="1.7976931348623E308">
                    </property>
                    <property name="stopWhenQueueIsEmpty" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="synchronizeToRealTime" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="isCQAdaptive" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="minBinCount" class="ptolemy.data.expr.Parameter" value="2">
                    </property>
                    <property name="binCountFactor" class="ptolemy.data.expr.Parameter" value="2">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 40.0">
                    </property>
                </property>
                <port name="data" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="45.0, 125.0">
                    </property>
                </port>
                <port name="channelState" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="55.0, 215.0">
                    </property>
                </port>
                <port name="senseChannel" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="415.0, 160.0">
                    </property>
                </port>
                <port name="outMSG" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="525.0, 325.0">
                    </property>
                </port>
                <port name="randomWait" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="70.0, 280.0">
                    </property>
                </port>
                <port name="wakeUp" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="420.0, 255.0">
                    </property>
                </port>
                <entity name="VariableDelay" class="ptolemy.domains.de.lib.VariableDelay">
                    <property name="defaultDelay" class="ptolemy.data.expr.Parameter" value="1.0">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="290.0, 250.0">
                    </property>
                </entity>
                <entity name="Uniform" class="ptolemy.actor.lib.Uniform">
                    <property name="seed" class="ptolemy.data.expr.Parameter" value="0L">
                    </property>
                    <property name="lowerBound" class="ptolemy.data.expr.Parameter" value="MinWaiting">
                    </property>
                    <property name="upperBound" class="ptolemy.data.expr.Parameter" value="MaxWaiting">
                    </property>
                    <doc>Create a sequence of uniformly distributed random numbers</doc>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="190.0, 315.0">
                    </property>
                </entity>
                <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                    <vertex name="vertex1" value="145.0, 240.0">
                    </vertex>
                </relation>
                <relation name="relation" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                </relation>
                <link port="randomWait" relation="relation2"/>
                <link port="wakeUp" relation="relation3"/>
                <link port="VariableDelay.input" relation="relation2"/>
                <link port="VariableDelay.output" relation="relation3"/>
                <link port="VariableDelay.delay" relation="relation"/>
                <link port="Uniform.output" relation="relation"/>
                <link port="Uniform.trigger" relation="relation2"/>
            </entity>
            <entity name="Emit" class="ptolemy.domains.fsm.modal.Refinement">
                <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
                    <property name="startTime" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                    <property name="stopTime" class="ptolemy.data.expr.Parameter" value="1.7976931348623E308">
                    </property>
                    <property name="stopWhenQueueIsEmpty" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="synchronizeToRealTime" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="isCQAdaptive" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="minBinCount" class="ptolemy.data.expr.Parameter" value="2">
                    </property>
                    <property name="binCountFactor" class="ptolemy.data.expr.Parameter" value="2">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="270.0, 85.0">
                    </property>
                </property>
                <port name="data" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="55.0, 305.0">
                    </property>
                </port>
                <port name="channelState" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="100.0, 150.0">
                    </property>
                </port>
                <port name="senseChannel" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="90.0, 60.0">
                    </property>
                </port>
                <port name="outMSG" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="40.0, 205.0">
                    </property>
                </port>
                <port name="randomWait" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="85.0, 275.0">
                    </property>
                </port>
                <port name="wakeUp" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="485.0, 210.0">
                    </property>
                </port>
                <entity name="Uniform" class="ptolemy.actor.lib.Uniform">
                    <property name="seed" class="ptolemy.data.expr.Parameter" value="10L">
                    </property>
                    <property name="lowerBound" class="ptolemy.data.expr.Parameter" value="MinTxTime">
                    </property>
                    <property name="upperBound" class="ptolemy.data.expr.Parameter" value="MaxTxTime">
                    </property>
                    <doc>Create a sequence of uniformly distributed random numbers</doc>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="190.0, 315.0">
                    </property>
                </entity>
                <entity name="VariableDelay" class="ptolemy.domains.de.lib.VariableDelay">
                    <property name="defaultDelay" class="ptolemy.data.expr.Parameter" value="1.0">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="290.0, 250.0">
                    </property>
                </entity>
                <relation name="relation" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                    <vertex name="vertex1" value="145.0, 240.0">
                    </vertex>
                </relation>
                <relation name="relation4" class="ptolemy.actor.TypedIORelation">
                </relation>
                <link port="randomWait" relation="relation2"/>
                <link port="wakeUp" relation="relation4"/>
                <link port="Uniform.output" relation="relation"/>
                <link port="Uniform.trigger" relation="relation2"/>
                <link port="VariableDelay.input" relation="relation2"/>
                <link port="VariableDelay.output" relation="relation4"/>
                <link port="VariableDelay.delay" relation="relation"/>
            </entity>
            <relation name="dataRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="channelStateRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="senseChannelRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="outMSGRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="randomWaitRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="wakeUpRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="data" relation="dataRelation"/>
            <link port="channelState" relation="channelStateRelation"/>
            <link port="senseChannel" relation="senseChannelRelation"/>
            <link port="outMSG" relation="outMSGRelation"/>
            <link port="randomWait" relation="randomWaitRelation"/>
            <link port="wakeUp" relation="wakeUpRelation"/>
            <link port="_Controller.data" relation="dataRelation"/>
            <link port="_Controller.channelState" relation="channelStateRelation"/>
            <link port="_Controller.senseChannel" relation="senseChannelRelation"/>
            <link port="_Controller.outMSG" relation="outMSGRelation"/>
            <link port="_Controller.randomWait" relation="randomWaitRelation"/>
            <link port="_Controller.wakeUp" relation="wakeUpRelation"/>
            <link port="randomWait.data" relation="dataRelation"/>
            <link port="randomWait.channelState" relation="channelStateRelation"/>
            <link port="randomWait.senseChannel" relation="senseChannelRelation"/>
            <link port="randomWait.outMSG" relation="outMSGRelation"/>
            <link port="randomWait.randomWait" relation="randomWaitRelation"/>
            <link port="randomWait.wakeUp" relation="wakeUpRelation"/>
            <link port="Emit.data" relation="dataRelation"/>
            <link port="Emit.channelState" relation="channelStateRelation"/>
            <link port="Emit.senseChannel" relation="senseChannelRelation"/>
            <link port="Emit.outMSG" relation="outMSGRelation"/>
            <link port="Emit.randomWait" relation="randomWaitRelation"/>
            <link port="Emit.wakeUp" relation="wakeUpRelation"/>
        </entity>
        <entity name="TimedDelay" class="ptolemy.domains.de.lib.TimedDelay">
            <property name="delay" class="ptolemy.data.expr.Parameter" value="1.0">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="505.0, 300.0">
            </property>
        </entity>
        <entity name="For analysis" class="ptolemy.actor.TypedCompositeActor">
            <property name="_location" class="ptolemy.kernel.util.Location" value="470.0, 65.0">
            </property>
            <port name="time1" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 130.0">
                </property>
            </port>
            <port name="time2" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 185.0">
                </property>
            </port>
            <port name="report" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="465.0, 150.0">
                </property>
            </port>
            <port name="collision" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="SOUTH">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 255.0">
                </property>
            </port>
            <port name="report2" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="SOUTH">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="440.0, 265.0">
                </property>
            </port>
            <entity name="WaitingTime" class="ptolemy.domains.de.lib.WaitingTime">
                <property name="_location" class="ptolemy.kernel.util.Location" value="210.0, 140.0">
                </property>
            </entity>
            <entity name="RecordAssembler" class="ptolemy.actor.lib.RecordAssembler">
                <property name="_location" class="ptolemy.kernel.util.Location" value="340.0, 110.0">
                </property>
                <port name="id" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
                <port name="time" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
            </entity>
            <entity name="Const" class="ptolemy.actor.lib.Const">
                <property name="value" class="ptolemy.data.expr.Parameter" value="id">
                </property>
                <doc>Create a constant sequence</doc>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="300.0, 85.0">
                </property>
            </entity>
            <entity name="CurrentTime" class="ptolemy.actor.lib.CurrentTime">
                <doc>Output the current time.</doc>
                <property name="_location" class="ptolemy.kernel.util.Location" value="165.0, 290.0">
                </property>
            </entity>
            <entity name="RecordAssembler2" class="ptolemy.actor.lib.RecordAssembler">
                <property name="_location" class="ptolemy.kernel.util.Location" value="300.0, 245.0">
                </property>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                    </property>
                </port>
                <port name="collisionId" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="detectTime" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
            </entity>
            <entity name="Const2" class="ptolemy.actor.lib.Const">
                <property name="value" class="ptolemy.data.expr.Parameter" value="id">
                </property>
                <doc>Create a constant sequence</doc>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="165.0, 220.0">
                </property>
            </entity>
            <relation name="relation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation2" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="270.0, 140.0">
                </vertex>
            </relation>
            <relation name="relation4" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation8" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="120.0, 255.0">
                </vertex>
            </relation>
            <relation name="relation7" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation10" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation5" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation6" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="time1" relation="relation"/>
            <link port="time2" relation="relation2"/>
            <link port="report" relation="relation6"/>
            <link port="collision" relation="relation8"/>
            <link port="report2" relation="relation5"/>
            <link port="WaitingTime.output" relation="relation3"/>
            <link port="WaitingTime.waiter" relation="relation"/>
            <link port="WaitingTime.waitee" relation="relation2"/>
            <link port="RecordAssembler.output" relation="relation6"/>
            <link port="RecordAssembler.id" relation="relation4"/>
            <link port="RecordAssembler.time" relation="relation3"/>
            <link port="Const.output" relation="relation4"/>
            <link port="Const.trigger" relation="relation3"/>
            <link port="CurrentTime.output" relation="relation7"/>
            <link port="CurrentTime.trigger" relation="relation8"/>
            <link port="RecordAssembler2.output" relation="relation5"/>
            <link port="RecordAssembler2.collisionId" relation="relation10"/>
            <link port="RecordAssembler2.detectTime" relation="relation7"/>
            <link port="Const2.output" relation="relation10"/>
            <link port="Const2.trigger" relation="relation8"/>
        </entity>
        <entity name="modal model2" class="ptolemy.domains.fsm.modal.ModalModel">
            <property name="_tableauFactory" class="ptolemy.vergil.fsm.modal.ModalTableauFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="145.0, 185.0">
            </property>
            <port name="inMSG" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="channelState" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
            </port>
            <port name="senseChannel" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="collision" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
            </port>
            <entity name="_Controller" class="ptolemy.domains.fsm.modal.ModalController">
                <property name="initialStateName" class="ptolemy.kernel.util.StringAttribute" value="idle">
                </property>
                <property name="_library" class="ptolemy.moml.LibraryAttribute">
                    <configure>
        <entity name="state library" class="ptolemy.kernel.CompositeEntity"><input source="ptolemy/configs/basicUtilities.xml"></input><entity name="state" class="ptolemy.domains.fsm.kernel.State"><property name="_centerName" class="ptolemy.kernel.util.Attribute"></property><property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory"></property></entity></entity>
      </configure>
                </property>
                <port name="inMSG" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="0.0, 0.0">
                    </property>
                </port>
                <port name="channelState" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="335.0, 90.0">
                    </property>
                </port>
                <port name="senseChannel" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="-5.0, 90.0">
                    </property>
                </port>
                <port name="collision" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="240.0, 25.0">
                    </property>
                </port>
                <entity name="idle" class="ptolemy.domains.fsm.kernel.State">
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="190.5, 187.28129322224544">
                    </property>
                </entity>
                <entity name="receive" class="ptolemy.domains.fsm.kernel.State">
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="425.0, 195.0">
                    </property>
                </entity>
                <relation name="relation" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="inMSG_isPresent &amp;&amp; inMSG == &quot;END&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.9564982454336546">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation2" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="inMSG_isPresent &amp;&amp; inMSG == &quot;MSG&quot;">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="collision = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="2.512139297546763">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-0.21451248805933695">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation3" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="senseChannel_isPresent &amp;&amp; ! inMSG_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="channelState = &quot;BUSY&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="2.356194490192345">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.0687929371738796">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation4" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="senseChannel_isPresent &amp;&amp; !inMSG_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="channelState = &quot;FREE&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="2.13592263986528">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="1.4616814519565946">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation5" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="inMSG_isPresent &amp;&amp; inMSG == &quot;MSG&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="0.11144946119379541">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <link port="idle.incomingPort" relation="relation"/>
                <link port="idle.incomingPort" relation="relation4"/>
                <link port="idle.outgoingPort" relation="relation5"/>
                <link port="idle.outgoingPort" relation="relation4"/>
                <link port="receive.incomingPort" relation="relation5"/>
                <link port="receive.incomingPort" relation="relation2"/>
                <link port="receive.incomingPort" relation="relation3"/>
                <link port="receive.outgoingPort" relation="relation"/>
                <link port="receive.outgoingPort" relation="relation2"/>
                <link port="receive.outgoingPort" relation="relation3"/>
            </entity>
            <relation name="inMSGRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="channelStateRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="senseChannelRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="collisionRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="inMSG" relation="inMSGRelation"/>
            <link port="channelState" relation="channelStateRelation"/>
            <link port="senseChannel" relation="senseChannelRelation"/>
            <link port="collision" relation="collisionRelation"/>
            <link port="_Controller.inMSG" relation="inMSGRelation"/>
            <link port="_Controller.channelState" relation="channelStateRelation"/>
            <link port="_Controller.senseChannel" relation="senseChannelRelation"/>
            <link port="_Controller.collision" relation="collisionRelation"/>
        </entity>
        <relation name="relation5" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation7" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation8" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="210.0, 55.0">
            </vertex>
        </relation>
        <relation name="relation2" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="405.0, 75.0">
            </vertex>
        </relation>
        <relation name="relation6" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="465.0, 195.0">
            </vertex>
        </relation>
        <relation name="relation9" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation10" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation4" class="ptolemy.actor.TypedIORelation">
        </relation>
        <link port="in" relation="relation10"/>
        <link port="out" relation="relation2"/>
        <link port="report" relation="relation7"/>
        <link port="report2" relation="relation9"/>
        <link port="PoissonClock.output" relation="relation8"/>
        <link port="modal model.data" relation="relation8"/>
        <link port="modal model.channelState" relation="relation4"/>
        <link port="modal model.senseChannel" relation="relation5"/>
        <link port="modal model.outMSG" relation="relation2"/>
        <link port="TimedDelay.input" relation="relation5"/>
        <link port="TimedDelay.output" relation="relation"/>
        <link port="For analysis.time1" relation="relation8"/>
        <link port="For analysis.time2" relation="relation2"/>
        <link port="For analysis.report" relation="relation7"/>
        <link port="For analysis.collision" relation="relation6"/>
        <link port="For analysis.report2" relation="relation9"/>
        <link port="modal model2.inMSG" relation="relation10"/>
        <link port="modal model2.channelState" relation="relation4"/>
        <link port="modal model2.senseChannel" relation="relation"/>
        <link port="modal model2.collision" relation="relation6"/>
    </entity>
    <entity name="node3" class="ptolemy.domains.wireless.kernel.WirelessComposite">
        <property name="_location" class="ptolemy.kernel.util.Location" value="270.0, 320.0">
        </property>
        <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
            <property name="startTime" class="ptolemy.data.expr.Parameter" value="0.0">
            </property>
            <property name="stopTime" class="ptolemy.data.expr.Parameter" value="1.7976931348623E308">
            </property>
            <property name="stopWhenQueueIsEmpty" class="ptolemy.data.expr.Parameter" value="true">
            </property>
            <property name="synchronizeToRealTime" class="ptolemy.data.expr.Parameter" value="false">
            </property>
            <property name="isCQAdaptive" class="ptolemy.data.expr.Parameter" value="true">
            </property>
            <property name="minBinCount" class="ptolemy.data.expr.Parameter" value="2">
            </property>
            <property name="binCountFactor" class="ptolemy.data.expr.Parameter" value="2">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 40.0">
            </property>
        </property>
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={106, 164, 815, 518}, maximized=false}">
        </property>
        <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[600, 400]">
        </property>
        <property name="id" class="ptolemy.data.expr.Parameter" value="13">
        </property>
        <property name="annotation" class="ptolemy.kernel.util.Attribute">
            <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
            <property name="_iconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure><svg><text x="20" y="20" style="font-size:14; font-family:SansSerif; fill:blue">The protocol assumes that propagation takes no time but transmission takes time
that depends on the package's size. When having data to send, it first sense 
whether the channel is free or busy. If free, send the data, if not, then wait
for a random time and try again. The detection inteface is provided by the senseAir 
component. </text></svg></configure>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-A-</text>
      </svg>
    </configure>
            </property>
            <property name="_controllerFactory" class="ptolemy.vergil.basic.NodeControllerFactory">
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.AnnotationEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="-50.0, 370.0">
            </property>
        </property>
        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <port name="in" class="ptolemy.domains.wireless.kernel.WirelessIOPort">
            <property name="input"/>
            <property name="outsideChannel" class="ptolemy.data.expr.StringParameter" value="LimitedRangeChannel">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="70.0, 175.0">
            </property>
            <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
        </port>
        <port name="out" class="ptolemy.domains.wireless.kernel.WirelessIOPort">
            <property name="output"/>
            <property name="outsideChannel" class="ptolemy.data.expr.StringParameter" value="LimitedRangeChannel">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="425.0, 145.0">
            </property>
            <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
        </port>
        <port name="report" class="ptolemy.domains.wireless.kernel.WirelessIOPort">
            <property name="output"/>
            <property name="outsideChannel" class="ptolemy.data.expr.StringParameter" value="DataCollectChannel">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="545.0, 65.0">
            </property>
            <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
        </port>
        <port name="report2" class="ptolemy.domains.wireless.kernel.WirelessIOPort">
            <property name="output"/>
            <property name="outsideChannel" class="ptolemy.data.expr.StringParameter" value="CollisionReportChannel">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="545.0, 105.0">
            </property>
            <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
        </port>
        <entity name="PoissonClock" class="ptolemy.actor.lib.PoissonClock">
            <property name="meanTime" class="ptolemy.data.expr.Parameter" value="TrafficDensity">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="85.0, 105.0">
            </property>
        </entity>
        <entity name="modal model" class="ptolemy.domains.fsm.modal.ModalModel">
            <property name="_tableauFactory" class="ptolemy.vergil.fsm.modal.ModalTableauFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="270.0, 115.0">
            </property>
            <port name="data" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="channelState" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="senseChannel" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
            </port>
            <port name="outMSG" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="NORTH">
                </property>
            </port>
            <port name="randomWait" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="output"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="wakeUp" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="output"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <entity name="_Controller" class="ptolemy.domains.fsm.modal.ModalController">
                <property name="initialStateName" class="ptolemy.kernel.util.StringAttribute" value="idle">
                </property>
                <property name="_library" class="ptolemy.moml.LibraryAttribute">
                    <configure><entity name="state library" class="ptolemy.kernel.CompositeEntity"><input source="ptolemy/configs/basicUtilities.xml"></input><entity name="state" class="ptolemy.domains.fsm.kernel.State"><property name="_centerName" class="ptolemy.kernel.util.Attribute"></property></entity></entity></configure>
                </property>
                <port name="data" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="40.0, 95.0">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="channelState" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="35.0, 185.0">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="senseChannel" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="535.0, 70.0">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="outMSG" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="535.0, 155.0">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="randomWait" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="30.0, 260.0">
                    </property>
                    <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                </port>
                <port name="wakeUp" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="30.0, 330.0">
                    </property>
                    <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                </port>
                <entity name="idle" class="ptolemy.domains.fsm.kernel.State">
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="115.0, 145.0">
                    </property>
                </entity>
                <entity name="senseAir" class="ptolemy.domains.fsm.kernel.State">
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="255.0, 120.0">
                    </property>
                </entity>
                <entity name="randomWait" class="ptolemy.domains.fsm.kernel.State">
                    <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="randomWait">
                    </property>
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="460.0, 125.0">
                    </property>
                </entity>
                <entity name="Emit" class="ptolemy.domains.fsm.kernel.State">
                    <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="Emit">
                    </property>
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="270.0, 355.0">
                    </property>
                </entity>
                <relation name="relation" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="data_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="senseChannel = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.7290251868073567">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-0.2479894981275352">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation2" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="channelState_isPresent &amp;&amp; channelState == &quot;BUSY&quot;">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="randomWait = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.8816266690949863">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="0.3014559376966855">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation3" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="wakeUp_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="senseChannel = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.7432607920971347">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.969499643808648">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation4" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="channelState_isPresent &amp;&amp; channelState == &quot;FREE&quot;">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="outMSG = &quot;MSG&quot;; randomWait = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.04481040911079372">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="1.5101165449404714">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation5" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="wakeUp_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="outMSG = &quot;END&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.28882718043739275">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.217615632874857">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <link port="idle.incomingPort" relation="relation5"/>
                <link port="idle.outgoingPort" relation="relation"/>
                <link port="senseAir.incomingPort" relation="relation"/>
                <link port="senseAir.incomingPort" relation="relation3"/>
                <link port="senseAir.outgoingPort" relation="relation2"/>
                <link port="senseAir.outgoingPort" relation="relation4"/>
                <link port="randomWait.incomingPort" relation="relation2"/>
                <link port="randomWait.outgoingPort" relation="relation3"/>
                <link port="Emit.incomingPort" relation="relation4"/>
                <link port="Emit.outgoingPort" relation="relation5"/>
            </entity>
            <entity name="randomWait" class="ptolemy.domains.fsm.modal.Refinement">
                <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
                    <property name="startTime" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                    <property name="stopTime" class="ptolemy.data.expr.Parameter" value="1.7976931348623E308">
                    </property>
                    <property name="stopWhenQueueIsEmpty" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="synchronizeToRealTime" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="isCQAdaptive" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="minBinCount" class="ptolemy.data.expr.Parameter" value="2">
                    </property>
                    <property name="binCountFactor" class="ptolemy.data.expr.Parameter" value="2">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 40.0">
                    </property>
                </property>
                <port name="data" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="45.0, 125.0">
                    </property>
                </port>
                <port name="channelState" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="55.0, 215.0">
                    </property>
                </port>
                <port name="senseChannel" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="415.0, 160.0">
                    </property>
                </port>
                <port name="outMSG" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="525.0, 325.0">
                    </property>
                </port>
                <port name="randomWait" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="70.0, 280.0">
                    </property>
                </port>
                <port name="wakeUp" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="420.0, 255.0">
                    </property>
                </port>
                <entity name="VariableDelay" class="ptolemy.domains.de.lib.VariableDelay">
                    <property name="defaultDelay" class="ptolemy.data.expr.Parameter" value="1.0">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="290.0, 250.0">
                    </property>
                </entity>
                <entity name="Uniform" class="ptolemy.actor.lib.Uniform">
                    <property name="seed" class="ptolemy.data.expr.Parameter" value="0L">
                    </property>
                    <property name="lowerBound" class="ptolemy.data.expr.Parameter" value="MinWaiting">
                    </property>
                    <property name="upperBound" class="ptolemy.data.expr.Parameter" value="MaxWaiting">
                    </property>
                    <doc>Create a sequence of uniformly distributed random numbers</doc>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="190.0, 315.0">
                    </property>
                </entity>
                <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                    <vertex name="vertex1" value="145.0, 240.0">
                    </vertex>
                </relation>
                <relation name="relation" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                </relation>
                <link port="randomWait" relation="relation2"/>
                <link port="wakeUp" relation="relation3"/>
                <link port="VariableDelay.input" relation="relation2"/>
                <link port="VariableDelay.output" relation="relation3"/>
                <link port="VariableDelay.delay" relation="relation"/>
                <link port="Uniform.output" relation="relation"/>
                <link port="Uniform.trigger" relation="relation2"/>
            </entity>
            <entity name="Emit" class="ptolemy.domains.fsm.modal.Refinement">
                <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
                    <property name="startTime" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                    <property name="stopTime" class="ptolemy.data.expr.Parameter" value="1.7976931348623E308">
                    </property>
                    <property name="stopWhenQueueIsEmpty" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="synchronizeToRealTime" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="isCQAdaptive" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="minBinCount" class="ptolemy.data.expr.Parameter" value="2">
                    </property>
                    <property name="binCountFactor" class="ptolemy.data.expr.Parameter" value="2">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="270.0, 85.0">
                    </property>
                </property>
                <port name="data" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="55.0, 305.0">
                    </property>
                </port>
                <port name="channelState" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="100.0, 150.0">
                    </property>
                </port>
                <port name="senseChannel" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="90.0, 60.0">
                    </property>
                </port>
                <port name="outMSG" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="40.0, 205.0">
                    </property>
                </port>
                <port name="randomWait" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="85.0, 275.0">
                    </property>
                </port>
                <port name="wakeUp" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="485.0, 210.0">
                    </property>
                </port>
                <entity name="Uniform" class="ptolemy.actor.lib.Uniform">
                    <property name="seed" class="ptolemy.data.expr.Parameter" value="10L">
                    </property>
                    <property name="lowerBound" class="ptolemy.data.expr.Parameter" value="MinTxTime">
                    </property>
                    <property name="upperBound" class="ptolemy.data.expr.Parameter" value="MaxTxTime">
                    </property>
                    <doc>Create a sequence of uniformly distributed random numbers</doc>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="190.0, 315.0">
                    </property>
                </entity>
                <entity name="VariableDelay" class="ptolemy.domains.de.lib.VariableDelay">
                    <property name="defaultDelay" class="ptolemy.data.expr.Parameter" value="1.0">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="290.0, 250.0">
                    </property>
                </entity>
                <relation name="relation" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                    <vertex name="vertex1" value="145.0, 240.0">
                    </vertex>
                </relation>
                <relation name="relation4" class="ptolemy.actor.TypedIORelation">
                </relation>
                <link port="randomWait" relation="relation2"/>
                <link port="wakeUp" relation="relation4"/>
                <link port="Uniform.output" relation="relation"/>
                <link port="Uniform.trigger" relation="relation2"/>
                <link port="VariableDelay.input" relation="relation2"/>
                <link port="VariableDelay.output" relation="relation4"/>
                <link port="VariableDelay.delay" relation="relation"/>
            </entity>
            <relation name="dataRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="channelStateRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="senseChannelRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="outMSGRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="randomWaitRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="wakeUpRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="data" relation="dataRelation"/>
            <link port="channelState" relation="channelStateRelation"/>
            <link port="senseChannel" relation="senseChannelRelation"/>
            <link port="outMSG" relation="outMSGRelation"/>
            <link port="randomWait" relation="randomWaitRelation"/>
            <link port="wakeUp" relation="wakeUpRelation"/>
            <link port="_Controller.data" relation="dataRelation"/>
            <link port="_Controller.channelState" relation="channelStateRelation"/>
            <link port="_Controller.senseChannel" relation="senseChannelRelation"/>
            <link port="_Controller.outMSG" relation="outMSGRelation"/>
            <link port="_Controller.randomWait" relation="randomWaitRelation"/>
            <link port="_Controller.wakeUp" relation="wakeUpRelation"/>
            <link port="randomWait.data" relation="dataRelation"/>
            <link port="randomWait.channelState" relation="channelStateRelation"/>
            <link port="randomWait.senseChannel" relation="senseChannelRelation"/>
            <link port="randomWait.outMSG" relation="outMSGRelation"/>
            <link port="randomWait.randomWait" relation="randomWaitRelation"/>
            <link port="randomWait.wakeUp" relation="wakeUpRelation"/>
            <link port="Emit.data" relation="dataRelation"/>
            <link port="Emit.channelState" relation="channelStateRelation"/>
            <link port="Emit.senseChannel" relation="senseChannelRelation"/>
            <link port="Emit.outMSG" relation="outMSGRelation"/>
            <link port="Emit.randomWait" relation="randomWaitRelation"/>
            <link port="Emit.wakeUp" relation="wakeUpRelation"/>
        </entity>
        <entity name="TimedDelay" class="ptolemy.domains.de.lib.TimedDelay">
            <property name="delay" class="ptolemy.data.expr.Parameter" value="1.0">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="505.0, 300.0">
            </property>
        </entity>
        <entity name="For analysis" class="ptolemy.actor.TypedCompositeActor">
            <property name="_location" class="ptolemy.kernel.util.Location" value="470.0, 65.0">
            </property>
            <port name="time1" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 130.0">
                </property>
            </port>
            <port name="time2" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 185.0">
                </property>
            </port>
            <port name="report" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="465.0, 150.0">
                </property>
            </port>
            <port name="collision" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="SOUTH">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 255.0">
                </property>
            </port>
            <port name="report2" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="SOUTH">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="440.0, 265.0">
                </property>
            </port>
            <entity name="WaitingTime" class="ptolemy.domains.de.lib.WaitingTime">
                <property name="_location" class="ptolemy.kernel.util.Location" value="210.0, 140.0">
                </property>
            </entity>
            <entity name="RecordAssembler" class="ptolemy.actor.lib.RecordAssembler">
                <property name="_location" class="ptolemy.kernel.util.Location" value="340.0, 110.0">
                </property>
                <port name="id" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
                <port name="time" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
            </entity>
            <entity name="Const" class="ptolemy.actor.lib.Const">
                <property name="value" class="ptolemy.data.expr.Parameter" value="id">
                </property>
                <doc>Create a constant sequence</doc>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="300.0, 85.0">
                </property>
            </entity>
            <entity name="CurrentTime" class="ptolemy.actor.lib.CurrentTime">
                <doc>Output the current time.</doc>
                <property name="_location" class="ptolemy.kernel.util.Location" value="165.0, 290.0">
                </property>
            </entity>
            <entity name="RecordAssembler2" class="ptolemy.actor.lib.RecordAssembler">
                <property name="_location" class="ptolemy.kernel.util.Location" value="300.0, 245.0">
                </property>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                    </property>
                </port>
                <port name="collisionId" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="detectTime" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
            </entity>
            <entity name="Const2" class="ptolemy.actor.lib.Const">
                <property name="value" class="ptolemy.data.expr.Parameter" value="id">
                </property>
                <doc>Create a constant sequence</doc>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="165.0, 220.0">
                </property>
            </entity>
            <relation name="relation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation2" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="270.0, 140.0">
                </vertex>
            </relation>
            <relation name="relation4" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation8" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="120.0, 255.0">
                </vertex>
            </relation>
            <relation name="relation7" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation10" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation5" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation6" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="time1" relation="relation"/>
            <link port="time2" relation="relation2"/>
            <link port="report" relation="relation6"/>
            <link port="collision" relation="relation8"/>
            <link port="report2" relation="relation5"/>
            <link port="WaitingTime.output" relation="relation3"/>
            <link port="WaitingTime.waiter" relation="relation"/>
            <link port="WaitingTime.waitee" relation="relation2"/>
            <link port="RecordAssembler.output" relation="relation6"/>
            <link port="RecordAssembler.id" relation="relation4"/>
            <link port="RecordAssembler.time" relation="relation3"/>
            <link port="Const.output" relation="relation4"/>
            <link port="Const.trigger" relation="relation3"/>
            <link port="CurrentTime.output" relation="relation7"/>
            <link port="CurrentTime.trigger" relation="relation8"/>
            <link port="RecordAssembler2.output" relation="relation5"/>
            <link port="RecordAssembler2.collisionId" relation="relation10"/>
            <link port="RecordAssembler2.detectTime" relation="relation7"/>
            <link port="Const2.output" relation="relation10"/>
            <link port="Const2.trigger" relation="relation8"/>
        </entity>
        <entity name="modal model2" class="ptolemy.domains.fsm.modal.ModalModel">
            <property name="_tableauFactory" class="ptolemy.vergil.fsm.modal.ModalTableauFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="145.0, 185.0">
            </property>
            <port name="inMSG" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="channelState" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
            </port>
            <port name="senseChannel" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="collision" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
            </port>
            <entity name="_Controller" class="ptolemy.domains.fsm.modal.ModalController">
                <property name="initialStateName" class="ptolemy.kernel.util.StringAttribute" value="idle">
                </property>
                <property name="_library" class="ptolemy.moml.LibraryAttribute">
                    <configure>
        <entity name="state library" class="ptolemy.kernel.CompositeEntity"><input source="ptolemy/configs/basicUtilities.xml"></input><entity name="state" class="ptolemy.domains.fsm.kernel.State"><property name="_centerName" class="ptolemy.kernel.util.Attribute"></property><property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory"></property></entity></entity>
      </configure>
                </property>
                <port name="inMSG" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="0.0, 0.0">
                    </property>
                </port>
                <port name="channelState" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="335.0, 90.0">
                    </property>
                </port>
                <port name="senseChannel" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="-5.0, 90.0">
                    </property>
                </port>
                <port name="collision" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="240.0, 25.0">
                    </property>
                </port>
                <entity name="idle" class="ptolemy.domains.fsm.kernel.State">
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="190.5, 187.28129322224544">
                    </property>
                </entity>
                <entity name="receive" class="ptolemy.domains.fsm.kernel.State">
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="425.0, 195.0">
                    </property>
                </entity>
                <relation name="relation" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="inMSG_isPresent &amp;&amp; inMSG == &quot;END&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.9564982454336546">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation2" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="inMSG_isPresent &amp;&amp; inMSG == &quot;MSG&quot;">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="collision = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="2.512139297546763">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-0.21451248805933695">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation3" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="senseChannel_isPresent &amp;&amp; ! inMSG_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="channelState = &quot;BUSY&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="2.356194490192345">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.0687929371738796">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation4" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="senseChannel_isPresent &amp;&amp; !inMSG_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="channelState = &quot;FREE&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="2.13592263986528">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="1.4616814519565946">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation5" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="inMSG_isPresent &amp;&amp; inMSG == &quot;MSG&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="0.11144946119379541">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <link port="idle.incomingPort" relation="relation"/>
                <link port="idle.incomingPort" relation="relation4"/>
                <link port="idle.outgoingPort" relation="relation5"/>
                <link port="idle.outgoingPort" relation="relation4"/>
                <link port="receive.incomingPort" relation="relation5"/>
                <link port="receive.incomingPort" relation="relation2"/>
                <link port="receive.incomingPort" relation="relation3"/>
                <link port="receive.outgoingPort" relation="relation"/>
                <link port="receive.outgoingPort" relation="relation2"/>
                <link port="receive.outgoingPort" relation="relation3"/>
            </entity>
            <relation name="inMSGRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="channelStateRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="senseChannelRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="collisionRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="inMSG" relation="inMSGRelation"/>
            <link port="channelState" relation="channelStateRelation"/>
            <link port="senseChannel" relation="senseChannelRelation"/>
            <link port="collision" relation="collisionRelation"/>
            <link port="_Controller.inMSG" relation="inMSGRelation"/>
            <link port="_Controller.channelState" relation="channelStateRelation"/>
            <link port="_Controller.senseChannel" relation="senseChannelRelation"/>
            <link port="_Controller.collision" relation="collisionRelation"/>
        </entity>
        <relation name="relation5" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation7" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation8" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="210.0, 55.0">
            </vertex>
        </relation>
        <relation name="relation2" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="405.0, 75.0">
            </vertex>
        </relation>
        <relation name="relation6" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="465.0, 195.0">
            </vertex>
        </relation>
        <relation name="relation9" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation10" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation4" class="ptolemy.actor.TypedIORelation">
        </relation>
        <link port="in" relation="relation10"/>
        <link port="out" relation="relation2"/>
        <link port="report" relation="relation7"/>
        <link port="report2" relation="relation9"/>
        <link port="PoissonClock.output" relation="relation8"/>
        <link port="modal model.data" relation="relation8"/>
        <link port="modal model.channelState" relation="relation4"/>
        <link port="modal model.senseChannel" relation="relation5"/>
        <link port="modal model.outMSG" relation="relation2"/>
        <link port="TimedDelay.input" relation="relation5"/>
        <link port="TimedDelay.output" relation="relation"/>
        <link port="For analysis.time1" relation="relation8"/>
        <link port="For analysis.time2" relation="relation2"/>
        <link port="For analysis.report" relation="relation7"/>
        <link port="For analysis.collision" relation="relation6"/>
        <link port="For analysis.report2" relation="relation9"/>
        <link port="modal model2.inMSG" relation="relation10"/>
        <link port="modal model2.channelState" relation="relation4"/>
        <link port="modal model2.senseChannel" relation="relation"/>
        <link port="modal model2.collision" relation="relation6"/>
    </entity>
    <entity name="node4" class="ptolemy.domains.wireless.kernel.WirelessComposite">
        <property name="_location" class="ptolemy.kernel.util.Location" value="480.0, 320.0">
        </property>
        <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
            <property name="startTime" class="ptolemy.data.expr.Parameter" value="0.0">
            </property>
            <property name="stopTime" class="ptolemy.data.expr.Parameter" value="1.7976931348623E308">
            </property>
            <property name="stopWhenQueueIsEmpty" class="ptolemy.data.expr.Parameter" value="true">
            </property>
            <property name="synchronizeToRealTime" class="ptolemy.data.expr.Parameter" value="false">
            </property>
            <property name="isCQAdaptive" class="ptolemy.data.expr.Parameter" value="true">
            </property>
            <property name="minBinCount" class="ptolemy.data.expr.Parameter" value="2">
            </property>
            <property name="binCountFactor" class="ptolemy.data.expr.Parameter" value="2">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 40.0">
            </property>
        </property>
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={106, 164, 815, 518}, maximized=false}">
        </property>
        <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[600, 400]">
        </property>
        <property name="id" class="ptolemy.data.expr.Parameter" value="15">
        </property>
        <property name="annotation" class="ptolemy.kernel.util.Attribute">
            <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
            <property name="_iconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure><svg><text x="20" y="20" style="font-size:14; font-family:SansSerif; fill:blue">The protocol assumes that propagation takes no time but transmission takes time
that depends on the package's size. When having data to send, it first sense 
whether the channel is free or busy. If free, send the data, if not, then wait
for a random time and try again. The detection inteface is provided by the senseAir 
component. </text></svg></configure>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-A-</text>
      </svg>
    </configure>
            </property>
            <property name="_controllerFactory" class="ptolemy.vergil.basic.NodeControllerFactory">
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.AnnotationEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="-50.0, 370.0">
            </property>
        </property>
        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <port name="in" class="ptolemy.domains.wireless.kernel.WirelessIOPort">
            <property name="input"/>
            <property name="outsideChannel" class="ptolemy.data.expr.StringParameter" value="LimitedRangeChannel">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="70.0, 175.0">
            </property>
            <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
        </port>
        <port name="out" class="ptolemy.domains.wireless.kernel.WirelessIOPort">
            <property name="output"/>
            <property name="outsideChannel" class="ptolemy.data.expr.StringParameter" value="LimitedRangeChannel">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="425.0, 145.0">
            </property>
            <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
        </port>
        <port name="report" class="ptolemy.domains.wireless.kernel.WirelessIOPort">
            <property name="output"/>
            <property name="outsideChannel" class="ptolemy.data.expr.StringParameter" value="DataCollectChannel">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="545.0, 65.0">
            </property>
            <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
        </port>
        <port name="report2" class="ptolemy.domains.wireless.kernel.WirelessIOPort">
            <property name="output"/>
            <property name="outsideChannel" class="ptolemy.data.expr.StringParameter" value="CollisionReportChannel">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="545.0, 105.0">
            </property>
            <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
        </port>
        <entity name="PoissonClock" class="ptolemy.actor.lib.PoissonClock">
            <property name="meanTime" class="ptolemy.data.expr.Parameter" value="TrafficDensity">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="85.0, 105.0">
            </property>
        </entity>
        <entity name="modal model" class="ptolemy.domains.fsm.modal.ModalModel">
            <property name="_tableauFactory" class="ptolemy.vergil.fsm.modal.ModalTableauFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="270.0, 115.0">
            </property>
            <port name="data" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="channelState" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="senseChannel" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
            </port>
            <port name="outMSG" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="NORTH">
                </property>
            </port>
            <port name="randomWait" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="output"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="wakeUp" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="output"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <entity name="_Controller" class="ptolemy.domains.fsm.modal.ModalController">
                <property name="initialStateName" class="ptolemy.kernel.util.StringAttribute" value="idle">
                </property>
                <property name="_library" class="ptolemy.moml.LibraryAttribute">
                    <configure><entity name="state library" class="ptolemy.kernel.CompositeEntity"><input source="ptolemy/configs/basicUtilities.xml"></input><entity name="state" class="ptolemy.domains.fsm.kernel.State"><property name="_centerName" class="ptolemy.kernel.util.Attribute"></property></entity></entity></configure>
                </property>
                <port name="data" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="40.0, 95.0">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="channelState" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="35.0, 185.0">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="senseChannel" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="535.0, 70.0">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="outMSG" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="535.0, 155.0">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="randomWait" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="30.0, 260.0">
                    </property>
                    <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                </port>
                <port name="wakeUp" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="30.0, 330.0">
                    </property>
                    <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                </port>
                <entity name="idle" class="ptolemy.domains.fsm.kernel.State">
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="115.0, 145.0">
                    </property>
                </entity>
                <entity name="senseAir" class="ptolemy.domains.fsm.kernel.State">
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="255.0, 120.0">
                    </property>
                </entity>
                <entity name="randomWait" class="ptolemy.domains.fsm.kernel.State">
                    <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="randomWait">
                    </property>
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="460.0, 125.0">
                    </property>
                </entity>
                <entity name="Emit" class="ptolemy.domains.fsm.kernel.State">
                    <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="Emit">
                    </property>
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="270.0, 355.0">
                    </property>
                </entity>
                <relation name="relation" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="data_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="senseChannel = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.7290251868073567">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-0.2479894981275352">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation2" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="channelState_isPresent &amp;&amp; channelState == &quot;BUSY&quot;">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="randomWait = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.8816266690949863">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="0.3014559376966855">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation3" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="wakeUp_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="senseChannel = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.7432607920971347">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.969499643808648">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation4" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="channelState_isPresent &amp;&amp; channelState == &quot;FREE&quot;">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="outMSG = &quot;MSG&quot;; randomWait = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.04481040911079372">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="1.5101165449404714">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation5" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="wakeUp_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="outMSG = &quot;END&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.28882718043739275">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.217615632874857">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <link port="idle.incomingPort" relation="relation5"/>
                <link port="idle.outgoingPort" relation="relation"/>
                <link port="senseAir.incomingPort" relation="relation"/>
                <link port="senseAir.incomingPort" relation="relation3"/>
                <link port="senseAir.outgoingPort" relation="relation2"/>
                <link port="senseAir.outgoingPort" relation="relation4"/>
                <link port="randomWait.incomingPort" relation="relation2"/>
                <link port="randomWait.outgoingPort" relation="relation3"/>
                <link port="Emit.incomingPort" relation="relation4"/>
                <link port="Emit.outgoingPort" relation="relation5"/>
            </entity>
            <entity name="randomWait" class="ptolemy.domains.fsm.modal.Refinement">
                <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
                    <property name="startTime" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                    <property name="stopTime" class="ptolemy.data.expr.Parameter" value="1.7976931348623E308">
                    </property>
                    <property name="stopWhenQueueIsEmpty" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="synchronizeToRealTime" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="isCQAdaptive" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="minBinCount" class="ptolemy.data.expr.Parameter" value="2">
                    </property>
                    <property name="binCountFactor" class="ptolemy.data.expr.Parameter" value="2">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 40.0">
                    </property>
                </property>
                <port name="data" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="45.0, 125.0">
                    </property>
                </port>
                <port name="channelState" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="55.0, 215.0">
                    </property>
                </port>
                <port name="senseChannel" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="415.0, 160.0">
                    </property>
                </port>
                <port name="outMSG" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="525.0, 325.0">
                    </property>
                </port>
                <port name="randomWait" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="70.0, 280.0">
                    </property>
                </port>
                <port name="wakeUp" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="420.0, 255.0">
                    </property>
                </port>
                <entity name="VariableDelay" class="ptolemy.domains.de.lib.VariableDelay">
                    <property name="defaultDelay" class="ptolemy.data.expr.Parameter" value="1.0">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="290.0, 250.0">
                    </property>
                </entity>
                <entity name="Uniform" class="ptolemy.actor.lib.Uniform">
                    <property name="seed" class="ptolemy.data.expr.Parameter" value="0L">
                    </property>
                    <property name="lowerBound" class="ptolemy.data.expr.Parameter" value="MinWaiting">
                    </property>
                    <property name="upperBound" class="ptolemy.data.expr.Parameter" value="MaxWaiting">
                    </property>
                    <doc>Create a sequence of uniformly distributed random numbers</doc>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="190.0, 315.0">
                    </property>
                </entity>
                <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                    <vertex name="vertex1" value="145.0, 240.0">
                    </vertex>
                </relation>
                <relation name="relation" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                </relation>
                <link port="randomWait" relation="relation2"/>
                <link port="wakeUp" relation="relation3"/>
                <link port="VariableDelay.input" relation="relation2"/>
                <link port="VariableDelay.output" relation="relation3"/>
                <link port="VariableDelay.delay" relation="relation"/>
                <link port="Uniform.output" relation="relation"/>
                <link port="Uniform.trigger" relation="relation2"/>
            </entity>
            <entity name="Emit" class="ptolemy.domains.fsm.modal.Refinement">
                <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
                    <property name="startTime" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                    <property name="stopTime" class="ptolemy.data.expr.Parameter" value="1.7976931348623E308">
                    </property>
                    <property name="stopWhenQueueIsEmpty" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="synchronizeToRealTime" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="isCQAdaptive" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="minBinCount" class="ptolemy.data.expr.Parameter" value="2">
                    </property>
                    <property name="binCountFactor" class="ptolemy.data.expr.Parameter" value="2">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="270.0, 85.0">
                    </property>
                </property>
                <port name="data" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="55.0, 305.0">
                    </property>
                </port>
                <port name="channelState" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="100.0, 150.0">
                    </property>
                </port>
                <port name="senseChannel" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="90.0, 60.0">
                    </property>
                </port>
                <port name="outMSG" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="40.0, 205.0">
                    </property>
                </port>
                <port name="randomWait" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="85.0, 275.0">
                    </property>
                </port>
                <port name="wakeUp" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="485.0, 210.0">
                    </property>
                </port>
                <entity name="Uniform" class="ptolemy.actor.lib.Uniform">
                    <property name="seed" class="ptolemy.data.expr.Parameter" value="10L">
                    </property>
                    <property name="lowerBound" class="ptolemy.data.expr.Parameter" value="MinTxTime">
                    </property>
                    <property name="upperBound" class="ptolemy.data.expr.Parameter" value="MaxTxTime">
                    </property>
                    <doc>Create a sequence of uniformly distributed random numbers</doc>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="190.0, 315.0">
                    </property>
                </entity>
                <entity name="VariableDelay" class="ptolemy.domains.de.lib.VariableDelay">
                    <property name="defaultDelay" class="ptolemy.data.expr.Parameter" value="1.0">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="290.0, 250.0">
                    </property>
                </entity>
                <relation name="relation" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                    <vertex name="vertex1" value="145.0, 240.0">
                    </vertex>
                </relation>
                <relation name="relation4" class="ptolemy.actor.TypedIORelation">
                </relation>
                <link port="randomWait" relation="relation2"/>
                <link port="wakeUp" relation="relation4"/>
                <link port="Uniform.output" relation="relation"/>
                <link port="Uniform.trigger" relation="relation2"/>
                <link port="VariableDelay.input" relation="relation2"/>
                <link port="VariableDelay.output" relation="relation4"/>
                <link port="VariableDelay.delay" relation="relation"/>
            </entity>
            <relation name="dataRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="channelStateRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="senseChannelRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="outMSGRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="randomWaitRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="wakeUpRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="data" relation="dataRelation"/>
            <link port="channelState" relation="channelStateRelation"/>
            <link port="senseChannel" relation="senseChannelRelation"/>
            <link port="outMSG" relation="outMSGRelation"/>
            <link port="randomWait" relation="randomWaitRelation"/>
            <link port="wakeUp" relation="wakeUpRelation"/>
            <link port="_Controller.data" relation="dataRelation"/>
            <link port="_Controller.channelState" relation="channelStateRelation"/>
            <link port="_Controller.senseChannel" relation="senseChannelRelation"/>
            <link port="_Controller.outMSG" relation="outMSGRelation"/>
            <link port="_Controller.randomWait" relation="randomWaitRelation"/>
            <link port="_Controller.wakeUp" relation="wakeUpRelation"/>
            <link port="randomWait.data" relation="dataRelation"/>
            <link port="randomWait.channelState" relation="channelStateRelation"/>
            <link port="randomWait.senseChannel" relation="senseChannelRelation"/>
            <link port="randomWait.outMSG" relation="outMSGRelation"/>
            <link port="randomWait.randomWait" relation="randomWaitRelation"/>
            <link port="randomWait.wakeUp" relation="wakeUpRelation"/>
            <link port="Emit.data" relation="dataRelation"/>
            <link port="Emit.channelState" relation="channelStateRelation"/>
            <link port="Emit.senseChannel" relation="senseChannelRelation"/>
            <link port="Emit.outMSG" relation="outMSGRelation"/>
            <link port="Emit.randomWait" relation="randomWaitRelation"/>
            <link port="Emit.wakeUp" relation="wakeUpRelation"/>
        </entity>
        <entity name="TimedDelay" class="ptolemy.domains.de.lib.TimedDelay">
            <property name="delay" class="ptolemy.data.expr.Parameter" value="1.0">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="505.0, 300.0">
            </property>
        </entity>
        <entity name="For analysis" class="ptolemy.actor.TypedCompositeActor">
            <property name="_location" class="ptolemy.kernel.util.Location" value="470.0, 65.0">
            </property>
            <port name="time1" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 130.0">
                </property>
            </port>
            <port name="time2" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 185.0">
                </property>
            </port>
            <port name="report" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="465.0, 150.0">
                </property>
            </port>
            <port name="collision" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="SOUTH">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 255.0">
                </property>
            </port>
            <port name="report2" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="SOUTH">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="440.0, 265.0">
                </property>
            </port>
            <entity name="WaitingTime" class="ptolemy.domains.de.lib.WaitingTime">
                <property name="_location" class="ptolemy.kernel.util.Location" value="210.0, 140.0">
                </property>
            </entity>
            <entity name="RecordAssembler" class="ptolemy.actor.lib.RecordAssembler">
                <property name="_location" class="ptolemy.kernel.util.Location" value="340.0, 110.0">
                </property>
                <port name="id" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
                <port name="time" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
            </entity>
            <entity name="Const" class="ptolemy.actor.lib.Const">
                <property name="value" class="ptolemy.data.expr.Parameter" value="id">
                </property>
                <doc>Create a constant sequence</doc>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="300.0, 85.0">
                </property>
            </entity>
            <entity name="CurrentTime" class="ptolemy.actor.lib.CurrentTime">
                <doc>Output the current time.</doc>
                <property name="_location" class="ptolemy.kernel.util.Location" value="165.0, 290.0">
                </property>
            </entity>
            <entity name="RecordAssembler2" class="ptolemy.actor.lib.RecordAssembler">
                <property name="_location" class="ptolemy.kernel.util.Location" value="300.0, 245.0">
                </property>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                    </property>
                </port>
                <port name="collisionId" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="detectTime" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
            </entity>
            <entity name="Const2" class="ptolemy.actor.lib.Const">
                <property name="value" class="ptolemy.data.expr.Parameter" value="id">
                </property>
                <doc>Create a constant sequence</doc>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="165.0, 220.0">
                </property>
            </entity>
            <relation name="relation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation2" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="270.0, 140.0">
                </vertex>
            </relation>
            <relation name="relation4" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation8" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="120.0, 255.0">
                </vertex>
            </relation>
            <relation name="relation7" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation10" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation5" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation6" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="time1" relation="relation"/>
            <link port="time2" relation="relation2"/>
            <link port="report" relation="relation6"/>
            <link port="collision" relation="relation8"/>
            <link port="report2" relation="relation5"/>
            <link port="WaitingTime.output" relation="relation3"/>
            <link port="WaitingTime.waiter" relation="relation"/>
            <link port="WaitingTime.waitee" relation="relation2"/>
            <link port="RecordAssembler.output" relation="relation6"/>
            <link port="RecordAssembler.id" relation="relation4"/>
            <link port="RecordAssembler.time" relation="relation3"/>
            <link port="Const.output" relation="relation4"/>
            <link port="Const.trigger" relation="relation3"/>
            <link port="CurrentTime.output" relation="relation7"/>
            <link port="CurrentTime.trigger" relation="relation8"/>
            <link port="RecordAssembler2.output" relation="relation5"/>
            <link port="RecordAssembler2.collisionId" relation="relation10"/>
            <link port="RecordAssembler2.detectTime" relation="relation7"/>
            <link port="Const2.output" relation="relation10"/>
            <link port="Const2.trigger" relation="relation8"/>
        </entity>
        <entity name="modal model2" class="ptolemy.domains.fsm.modal.ModalModel">
            <property name="_tableauFactory" class="ptolemy.vergil.fsm.modal.ModalTableauFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="145.0, 185.0">
            </property>
            <port name="inMSG" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="channelState" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
            </port>
            <port name="senseChannel" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="collision" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
            </port>
            <entity name="_Controller" class="ptolemy.domains.fsm.modal.ModalController">
                <property name="initialStateName" class="ptolemy.kernel.util.StringAttribute" value="idle">
                </property>
                <property name="_library" class="ptolemy.moml.LibraryAttribute">
                    <configure>
        <entity name="state library" class="ptolemy.kernel.CompositeEntity"><input source="ptolemy/configs/basicUtilities.xml"></input><entity name="state" class="ptolemy.domains.fsm.kernel.State"><property name="_centerName" class="ptolemy.kernel.util.Attribute"></property><property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory"></property></entity></entity>
      </configure>
                </property>
                <port name="inMSG" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="0.0, 0.0">
                    </property>
                </port>
                <port name="channelState" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="335.0, 90.0">
                    </property>
                </port>
                <port name="senseChannel" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="-5.0, 90.0">
                    </property>
                </port>
                <port name="collision" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="240.0, 25.0">
                    </property>
                </port>
                <entity name="idle" class="ptolemy.domains.fsm.kernel.State">
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="190.5, 187.28129322224544">
                    </property>
                </entity>
                <entity name="receive" class="ptolemy.domains.fsm.kernel.State">
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="425.0, 195.0">
                    </property>
                </entity>
                <relation name="relation" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="inMSG_isPresent &amp;&amp; inMSG == &quot;END&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.9564982454336546">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation2" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="inMSG_isPresent &amp;&amp; inMSG == &quot;MSG&quot;">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="collision = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="2.512139297546763">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-0.21451248805933695">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation3" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="senseChannel_isPresent &amp;&amp; ! inMSG_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="channelState = &quot;BUSY&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="2.356194490192345">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.0687929371738796">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation4" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="senseChannel_isPresent &amp;&amp; !inMSG_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="channelState = &quot;FREE&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="2.13592263986528">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="1.4616814519565946">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation5" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="inMSG_isPresent &amp;&amp; inMSG == &quot;MSG&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="0.11144946119379541">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <link port="idle.incomingPort" relation="relation"/>
                <link port="idle.incomingPort" relation="relation4"/>
                <link port="idle.outgoingPort" relation="relation5"/>
                <link port="idle.outgoingPort" relation="relation4"/>
                <link port="receive.incomingPort" relation="relation5"/>
                <link port="receive.incomingPort" relation="relation2"/>
                <link port="receive.incomingPort" relation="relation3"/>
                <link port="receive.outgoingPort" relation="relation"/>
                <link port="receive.outgoingPort" relation="relation2"/>
                <link port="receive.outgoingPort" relation="relation3"/>
            </entity>
            <relation name="inMSGRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="channelStateRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="senseChannelRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="collisionRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="inMSG" relation="inMSGRelation"/>
            <link port="channelState" relation="channelStateRelation"/>
            <link port="senseChannel" relation="senseChannelRelation"/>
            <link port="collision" relation="collisionRelation"/>
            <link port="_Controller.inMSG" relation="inMSGRelation"/>
            <link port="_Controller.channelState" relation="channelStateRelation"/>
            <link port="_Controller.senseChannel" relation="senseChannelRelation"/>
            <link port="_Controller.collision" relation="collisionRelation"/>
        </entity>
        <relation name="relation5" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation7" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation8" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="210.0, 55.0">
            </vertex>
        </relation>
        <relation name="relation2" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="405.0, 75.0">
            </vertex>
        </relation>
        <relation name="relation6" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="465.0, 195.0">
            </vertex>
        </relation>
        <relation name="relation9" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation10" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation4" class="ptolemy.actor.TypedIORelation">
        </relation>
        <link port="in" relation="relation10"/>
        <link port="out" relation="relation2"/>
        <link port="report" relation="relation7"/>
        <link port="report2" relation="relation9"/>
        <link port="PoissonClock.output" relation="relation8"/>
        <link port="modal model.data" relation="relation8"/>
        <link port="modal model.channelState" relation="relation4"/>
        <link port="modal model.senseChannel" relation="relation5"/>
        <link port="modal model.outMSG" relation="relation2"/>
        <link port="TimedDelay.input" relation="relation5"/>
        <link port="TimedDelay.output" relation="relation"/>
        <link port="For analysis.time1" relation="relation8"/>
        <link port="For analysis.time2" relation="relation2"/>
        <link port="For analysis.report" relation="relation7"/>
        <link port="For analysis.collision" relation="relation6"/>
        <link port="For analysis.report2" relation="relation9"/>
        <link port="modal model2.inMSG" relation="relation10"/>
        <link port="modal model2.channelState" relation="relation4"/>
        <link port="modal model2.senseChannel" relation="relation"/>
        <link port="modal model2.collision" relation="relation6"/>
    </entity>
    <entity name="node5" class="ptolemy.domains.wireless.kernel.WirelessComposite">
        <property name="_location" class="ptolemy.kernel.util.Location" value="480.0, 120.0">
        </property>
        <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
            <property name="startTime" class="ptolemy.data.expr.Parameter" value="0.0">
            </property>
            <property name="stopTime" class="ptolemy.data.expr.Parameter" value="1.7976931348623E308">
            </property>
            <property name="stopWhenQueueIsEmpty" class="ptolemy.data.expr.Parameter" value="true">
            </property>
            <property name="synchronizeToRealTime" class="ptolemy.data.expr.Parameter" value="false">
            </property>
            <property name="isCQAdaptive" class="ptolemy.data.expr.Parameter" value="true">
            </property>
            <property name="minBinCount" class="ptolemy.data.expr.Parameter" value="2">
            </property>
            <property name="binCountFactor" class="ptolemy.data.expr.Parameter" value="2">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 40.0">
            </property>
        </property>
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={106, 164, 815, 518}, maximized=false}">
        </property>
        <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[600, 400]">
        </property>
        <property name="id" class="ptolemy.data.expr.Parameter" value="5">
        </property>
        <property name="annotation" class="ptolemy.kernel.util.Attribute">
            <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
            <property name="_iconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure><svg><text x="20" y="20" style="font-size:14; font-family:SansSerif; fill:blue">The protocol assumes that propagation takes no time but transmission takes time
that depends on the package's size. When having data to send, it first sense 
whether the channel is free or busy. If free, send the data, if not, then wait
for a random time and try again. The detection inteface is provided by the senseAir 
component. </text></svg></configure>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-A-</text>
      </svg>
    </configure>
            </property>
            <property name="_controllerFactory" class="ptolemy.vergil.basic.NodeControllerFactory">
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.AnnotationEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="-50.0, 370.0">
            </property>
        </property>
        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <port name="in" class="ptolemy.domains.wireless.kernel.WirelessIOPort">
            <property name="input"/>
            <property name="outsideChannel" class="ptolemy.data.expr.StringParameter" value="LimitedRangeChannel">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="70.0, 175.0">
            </property>
            <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
        </port>
        <port name="out" class="ptolemy.domains.wireless.kernel.WirelessIOPort">
            <property name="output"/>
            <property name="outsideChannel" class="ptolemy.data.expr.StringParameter" value="LimitedRangeChannel">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="425.0, 145.0">
            </property>
            <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
        </port>
        <port name="report" class="ptolemy.domains.wireless.kernel.WirelessIOPort">
            <property name="output"/>
            <property name="outsideChannel" class="ptolemy.data.expr.StringParameter" value="DataCollectChannel">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="545.0, 65.0">
            </property>
            <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
        </port>
        <port name="report2" class="ptolemy.domains.wireless.kernel.WirelessIOPort">
            <property name="output"/>
            <property name="outsideChannel" class="ptolemy.data.expr.StringParameter" value="CollisionReportChannel">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="545.0, 105.0">
            </property>
            <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
        </port>
        <entity name="PoissonClock" class="ptolemy.actor.lib.PoissonClock">
            <property name="meanTime" class="ptolemy.data.expr.Parameter" value="TrafficDensity">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="85.0, 105.0">
            </property>
        </entity>
        <entity name="modal model" class="ptolemy.domains.fsm.modal.ModalModel">
            <property name="_tableauFactory" class="ptolemy.vergil.fsm.modal.ModalTableauFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="270.0, 115.0">
            </property>
            <port name="data" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="channelState" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="senseChannel" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
            </port>
            <port name="outMSG" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="NORTH">
                </property>
            </port>
            <port name="randomWait" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="output"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="wakeUp" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="output"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <entity name="_Controller" class="ptolemy.domains.fsm.modal.ModalController">
                <property name="initialStateName" class="ptolemy.kernel.util.StringAttribute" value="idle">
                </property>
                <property name="_library" class="ptolemy.moml.LibraryAttribute">
                    <configure><entity name="state library" class="ptolemy.kernel.CompositeEntity"><input source="ptolemy/configs/basicUtilities.xml"></input><entity name="state" class="ptolemy.domains.fsm.kernel.State"><property name="_centerName" class="ptolemy.kernel.util.Attribute"></property></entity></entity></configure>
                </property>
                <port name="data" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="40.0, 95.0">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="channelState" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="35.0, 185.0">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="senseChannel" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="535.0, 70.0">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="outMSG" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="535.0, 155.0">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="randomWait" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="30.0, 260.0">
                    </property>
                    <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                </port>
                <port name="wakeUp" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="30.0, 330.0">
                    </property>
                    <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                </port>
                <entity name="idle" class="ptolemy.domains.fsm.kernel.State">
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="115.0, 145.0">
                    </property>
                </entity>
                <entity name="senseAir" class="ptolemy.domains.fsm.kernel.State">
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="255.0, 120.0">
                    </property>
                </entity>
                <entity name="randomWait" class="ptolemy.domains.fsm.kernel.State">
                    <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="randomWait">
                    </property>
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="460.0, 125.0">
                    </property>
                </entity>
                <entity name="Emit" class="ptolemy.domains.fsm.kernel.State">
                    <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="Emit">
                    </property>
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="270.0, 355.0">
                    </property>
                </entity>
                <relation name="relation" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="data_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="senseChannel = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.7290251868073567">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-0.2479894981275352">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation2" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="channelState_isPresent &amp;&amp; channelState == &quot;BUSY&quot;">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="randomWait = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.8816266690949863">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="0.3014559376966855">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation3" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="wakeUp_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="senseChannel = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.7432607920971347">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.969499643808648">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation4" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="channelState_isPresent &amp;&amp; channelState == &quot;FREE&quot;">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="outMSG = &quot;MSG&quot;; randomWait = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.04481040911079372">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="1.5101165449404714">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation5" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="wakeUp_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="outMSG = &quot;END&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.28882718043739275">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.217615632874857">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <link port="idle.incomingPort" relation="relation5"/>
                <link port="idle.outgoingPort" relation="relation"/>
                <link port="senseAir.incomingPort" relation="relation"/>
                <link port="senseAir.incomingPort" relation="relation3"/>
                <link port="senseAir.outgoingPort" relation="relation2"/>
                <link port="senseAir.outgoingPort" relation="relation4"/>
                <link port="randomWait.incomingPort" relation="relation2"/>
                <link port="randomWait.outgoingPort" relation="relation3"/>
                <link port="Emit.incomingPort" relation="relation4"/>
                <link port="Emit.outgoingPort" relation="relation5"/>
            </entity>
            <entity name="randomWait" class="ptolemy.domains.fsm.modal.Refinement">
                <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
                    <property name="startTime" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                    <property name="stopTime" class="ptolemy.data.expr.Parameter" value="1.7976931348623E308">
                    </property>
                    <property name="stopWhenQueueIsEmpty" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="synchronizeToRealTime" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="isCQAdaptive" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="minBinCount" class="ptolemy.data.expr.Parameter" value="2">
                    </property>
                    <property name="binCountFactor" class="ptolemy.data.expr.Parameter" value="2">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 40.0">
                    </property>
                </property>
                <port name="data" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="45.0, 125.0">
                    </property>
                </port>
                <port name="channelState" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="55.0, 215.0">
                    </property>
                </port>
                <port name="senseChannel" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="415.0, 160.0">
                    </property>
                </port>
                <port name="outMSG" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="525.0, 325.0">
                    </property>
                </port>
                <port name="randomWait" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="70.0, 280.0">
                    </property>
                </port>
                <port name="wakeUp" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="420.0, 255.0">
                    </property>
                </port>
                <entity name="VariableDelay" class="ptolemy.domains.de.lib.VariableDelay">
                    <property name="defaultDelay" class="ptolemy.data.expr.Parameter" value="1.0">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="290.0, 250.0">
                    </property>
                </entity>
                <entity name="Uniform" class="ptolemy.actor.lib.Uniform">
                    <property name="seed" class="ptolemy.data.expr.Parameter" value="0L">
                    </property>
                    <property name="lowerBound" class="ptolemy.data.expr.Parameter" value="MinWaiting">
                    </property>
                    <property name="upperBound" class="ptolemy.data.expr.Parameter" value="MaxWaiting">
                    </property>
                    <doc>Create a sequence of uniformly distributed random numbers</doc>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="190.0, 315.0">
                    </property>
                </entity>
                <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                    <vertex name="vertex1" value="145.0, 240.0">
                    </vertex>
                </relation>
                <relation name="relation" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                </relation>
                <link port="randomWait" relation="relation2"/>
                <link port="wakeUp" relation="relation3"/>
                <link port="VariableDelay.input" relation="relation2"/>
                <link port="VariableDelay.output" relation="relation3"/>
                <link port="VariableDelay.delay" relation="relation"/>
                <link port="Uniform.output" relation="relation"/>
                <link port="Uniform.trigger" relation="relation2"/>
            </entity>
            <entity name="Emit" class="ptolemy.domains.fsm.modal.Refinement">
                <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
                    <property name="startTime" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                    <property name="stopTime" class="ptolemy.data.expr.Parameter" value="1.7976931348623E308">
                    </property>
                    <property name="stopWhenQueueIsEmpty" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="synchronizeToRealTime" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="isCQAdaptive" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="minBinCount" class="ptolemy.data.expr.Parameter" value="2">
                    </property>
                    <property name="binCountFactor" class="ptolemy.data.expr.Parameter" value="2">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="270.0, 85.0">
                    </property>
                </property>
                <port name="data" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="55.0, 305.0">
                    </property>
                </port>
                <port name="channelState" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="100.0, 150.0">
                    </property>
                </port>
                <port name="senseChannel" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="90.0, 60.0">
                    </property>
                </port>
                <port name="outMSG" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="40.0, 205.0">
                    </property>
                </port>
                <port name="randomWait" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="85.0, 275.0">
                    </property>
                </port>
                <port name="wakeUp" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="485.0, 210.0">
                    </property>
                </port>
                <entity name="Uniform" class="ptolemy.actor.lib.Uniform">
                    <property name="seed" class="ptolemy.data.expr.Parameter" value="10L">
                    </property>
                    <property name="lowerBound" class="ptolemy.data.expr.Parameter" value="MinTxTime">
                    </property>
                    <property name="upperBound" class="ptolemy.data.expr.Parameter" value="MaxTxTime">
                    </property>
                    <doc>Create a sequence of uniformly distributed random numbers</doc>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="190.0, 315.0">
                    </property>
                </entity>
                <entity name="VariableDelay" class="ptolemy.domains.de.lib.VariableDelay">
                    <property name="defaultDelay" class="ptolemy.data.expr.Parameter" value="1.0">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="290.0, 250.0">
                    </property>
                </entity>
                <relation name="relation" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                    <vertex name="vertex1" value="145.0, 240.0">
                    </vertex>
                </relation>
                <relation name="relation4" class="ptolemy.actor.TypedIORelation">
                </relation>
                <link port="randomWait" relation="relation2"/>
                <link port="wakeUp" relation="relation4"/>
                <link port="Uniform.output" relation="relation"/>
                <link port="Uniform.trigger" relation="relation2"/>
                <link port="VariableDelay.input" relation="relation2"/>
                <link port="VariableDelay.output" relation="relation4"/>
                <link port="VariableDelay.delay" relation="relation"/>
            </entity>
            <relation name="dataRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="channelStateRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="senseChannelRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="outMSGRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="randomWaitRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="wakeUpRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="data" relation="dataRelation"/>
            <link port="channelState" relation="channelStateRelation"/>
            <link port="senseChannel" relation="senseChannelRelation"/>
            <link port="outMSG" relation="outMSGRelation"/>
            <link port="randomWait" relation="randomWaitRelation"/>
            <link port="wakeUp" relation="wakeUpRelation"/>
            <link port="_Controller.data" relation="dataRelation"/>
            <link port="_Controller.channelState" relation="channelStateRelation"/>
            <link port="_Controller.senseChannel" relation="senseChannelRelation"/>
            <link port="_Controller.outMSG" relation="outMSGRelation"/>
            <link port="_Controller.randomWait" relation="randomWaitRelation"/>
            <link port="_Controller.wakeUp" relation="wakeUpRelation"/>
            <link port="randomWait.data" relation="dataRelation"/>
            <link port="randomWait.channelState" relation="channelStateRelation"/>
            <link port="randomWait.senseChannel" relation="senseChannelRelation"/>
            <link port="randomWait.outMSG" relation="outMSGRelation"/>
            <link port="randomWait.randomWait" relation="randomWaitRelation"/>
            <link port="randomWait.wakeUp" relation="wakeUpRelation"/>
            <link port="Emit.data" relation="dataRelation"/>
            <link port="Emit.channelState" relation="channelStateRelation"/>
            <link port="Emit.senseChannel" relation="senseChannelRelation"/>
            <link port="Emit.outMSG" relation="outMSGRelation"/>
            <link port="Emit.randomWait" relation="randomWaitRelation"/>
            <link port="Emit.wakeUp" relation="wakeUpRelation"/>
        </entity>
        <entity name="TimedDelay" class="ptolemy.domains.de.lib.TimedDelay">
            <property name="delay" class="ptolemy.data.expr.Parameter" value="1.0">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="505.0, 300.0">
            </property>
        </entity>
        <entity name="For analysis" class="ptolemy.actor.TypedCompositeActor">
            <property name="_location" class="ptolemy.kernel.util.Location" value="470.0, 65.0">
            </property>
            <port name="time1" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 130.0">
                </property>
            </port>
            <port name="time2" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 185.0">
                </property>
            </port>
            <port name="report" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="465.0, 150.0">
                </property>
            </port>
            <port name="collision" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="SOUTH">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 255.0">
                </property>
            </port>
            <port name="report2" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="SOUTH">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="440.0, 265.0">
                </property>
            </port>
            <entity name="WaitingTime" class="ptolemy.domains.de.lib.WaitingTime">
                <property name="_location" class="ptolemy.kernel.util.Location" value="210.0, 140.0">
                </property>
            </entity>
            <entity name="RecordAssembler" class="ptolemy.actor.lib.RecordAssembler">
                <property name="_location" class="ptolemy.kernel.util.Location" value="340.0, 110.0">
                </property>
                <port name="id" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
                <port name="time" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
            </entity>
            <entity name="Const" class="ptolemy.actor.lib.Const">
                <property name="value" class="ptolemy.data.expr.Parameter" value="id">
                </property>
                <doc>Create a constant sequence</doc>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="300.0, 85.0">
                </property>
            </entity>
            <entity name="CurrentTime" class="ptolemy.actor.lib.CurrentTime">
                <doc>Output the current time.</doc>
                <property name="_location" class="ptolemy.kernel.util.Location" value="165.0, 290.0">
                </property>
            </entity>
            <entity name="RecordAssembler2" class="ptolemy.actor.lib.RecordAssembler">
                <property name="_location" class="ptolemy.kernel.util.Location" value="300.0, 245.0">
                </property>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                    </property>
                </port>
                <port name="collisionId" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="detectTime" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
            </entity>
            <entity name="Const2" class="ptolemy.actor.lib.Const">
                <property name="value" class="ptolemy.data.expr.Parameter" value="id">
                </property>
                <doc>Create a constant sequence</doc>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="165.0, 220.0">
                </property>
            </entity>
            <relation name="relation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation2" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="270.0, 140.0">
                </vertex>
            </relation>
            <relation name="relation4" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation8" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="120.0, 255.0">
                </vertex>
            </relation>
            <relation name="relation7" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation10" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation5" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation6" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="time1" relation="relation"/>
            <link port="time2" relation="relation2"/>
            <link port="report" relation="relation6"/>
            <link port="collision" relation="relation8"/>
            <link port="report2" relation="relation5"/>
            <link port="WaitingTime.output" relation="relation3"/>
            <link port="WaitingTime.waiter" relation="relation"/>
            <link port="WaitingTime.waitee" relation="relation2"/>
            <link port="RecordAssembler.output" relation="relation6"/>
            <link port="RecordAssembler.id" relation="relation4"/>
            <link port="RecordAssembler.time" relation="relation3"/>
            <link port="Const.output" relation="relation4"/>
            <link port="Const.trigger" relation="relation3"/>
            <link port="CurrentTime.output" relation="relation7"/>
            <link port="CurrentTime.trigger" relation="relation8"/>
            <link port="RecordAssembler2.output" relation="relation5"/>
            <link port="RecordAssembler2.collisionId" relation="relation10"/>
            <link port="RecordAssembler2.detectTime" relation="relation7"/>
            <link port="Const2.output" relation="relation10"/>
            <link port="Const2.trigger" relation="relation8"/>
        </entity>
        <entity name="modal model2" class="ptolemy.domains.fsm.modal.ModalModel">
            <property name="_tableauFactory" class="ptolemy.vergil.fsm.modal.ModalTableauFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="145.0, 185.0">
            </property>
            <port name="inMSG" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="channelState" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
            </port>
            <port name="senseChannel" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="collision" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
            </port>
            <entity name="_Controller" class="ptolemy.domains.fsm.modal.ModalController">
                <property name="initialStateName" class="ptolemy.kernel.util.StringAttribute" value="idle">
                </property>
                <property name="_library" class="ptolemy.moml.LibraryAttribute">
                    <configure>
        <entity name="state library" class="ptolemy.kernel.CompositeEntity"><input source="ptolemy/configs/basicUtilities.xml"></input><entity name="state" class="ptolemy.domains.fsm.kernel.State"><property name="_centerName" class="ptolemy.kernel.util.Attribute"></property><property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory"></property></entity></entity>
      </configure>
                </property>
                <port name="inMSG" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="0.0, 0.0">
                    </property>
                </port>
                <port name="channelState" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="335.0, 90.0">
                    </property>
                </port>
                <port name="senseChannel" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="-5.0, 90.0">
                    </property>
                </port>
                <port name="collision" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="240.0, 25.0">
                    </property>
                </port>
                <entity name="idle" class="ptolemy.domains.fsm.kernel.State">
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="190.5, 187.28129322224544">
                    </property>
                </entity>
                <entity name="receive" class="ptolemy.domains.fsm.kernel.State">
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="425.0, 195.0">
                    </property>
                </entity>
                <relation name="relation" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="inMSG_isPresent &amp;&amp; inMSG == &quot;END&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.9564982454336546">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation2" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="inMSG_isPresent &amp;&amp; inMSG == &quot;MSG&quot;">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="collision = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="2.512139297546763">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-0.21451248805933695">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation3" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="senseChannel_isPresent &amp;&amp; ! inMSG_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="channelState = &quot;BUSY&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="2.356194490192345">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.0687929371738796">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation4" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="senseChannel_isPresent &amp;&amp; !inMSG_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="channelState = &quot;FREE&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="2.13592263986528">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="1.4616814519565946">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation5" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="inMSG_isPresent &amp;&amp; inMSG == &quot;MSG&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="0.11144946119379541">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <link port="idle.incomingPort" relation="relation"/>
                <link port="idle.incomingPort" relation="relation4"/>
                <link port="idle.outgoingPort" relation="relation5"/>
                <link port="idle.outgoingPort" relation="relation4"/>
                <link port="receive.incomingPort" relation="relation5"/>
                <link port="receive.incomingPort" relation="relation2"/>
                <link port="receive.incomingPort" relation="relation3"/>
                <link port="receive.outgoingPort" relation="relation"/>
                <link port="receive.outgoingPort" relation="relation2"/>
                <link port="receive.outgoingPort" relation="relation3"/>
            </entity>
            <relation name="inMSGRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="channelStateRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="senseChannelRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="collisionRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="inMSG" relation="inMSGRelation"/>
            <link port="channelState" relation="channelStateRelation"/>
            <link port="senseChannel" relation="senseChannelRelation"/>
            <link port="collision" relation="collisionRelation"/>
            <link port="_Controller.inMSG" relation="inMSGRelation"/>
            <link port="_Controller.channelState" relation="channelStateRelation"/>
            <link port="_Controller.senseChannel" relation="senseChannelRelation"/>
            <link port="_Controller.collision" relation="collisionRelation"/>
        </entity>
        <relation name="relation5" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation7" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation8" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="210.0, 55.0">
            </vertex>
        </relation>
        <relation name="relation2" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="405.0, 75.0">
            </vertex>
        </relation>
        <relation name="relation6" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="465.0, 195.0">
            </vertex>
        </relation>
        <relation name="relation9" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation10" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation4" class="ptolemy.actor.TypedIORelation">
        </relation>
        <link port="in" relation="relation10"/>
        <link port="out" relation="relation2"/>
        <link port="report" relation="relation7"/>
        <link port="report2" relation="relation9"/>
        <link port="PoissonClock.output" relation="relation8"/>
        <link port="modal model.data" relation="relation8"/>
        <link port="modal model.channelState" relation="relation4"/>
        <link port="modal model.senseChannel" relation="relation5"/>
        <link port="modal model.outMSG" relation="relation2"/>
        <link port="TimedDelay.input" relation="relation5"/>
        <link port="TimedDelay.output" relation="relation"/>
        <link port="For analysis.time1" relation="relation8"/>
        <link port="For analysis.time2" relation="relation2"/>
        <link port="For analysis.report" relation="relation7"/>
        <link port="For analysis.collision" relation="relation6"/>
        <link port="For analysis.report2" relation="relation9"/>
        <link port="modal model2.inMSG" relation="relation10"/>
        <link port="modal model2.channelState" relation="relation4"/>
        <link port="modal model2.senseChannel" relation="relation"/>
        <link port="modal model2.collision" relation="relation6"/>
    </entity>
    <entity name="node6" class="ptolemy.domains.wireless.kernel.WirelessComposite">
        <property name="_location" class="ptolemy.kernel.util.Location" value="270.0, 215.0">
        </property>
        <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
            <property name="startTime" class="ptolemy.data.expr.Parameter" value="0.0">
            </property>
            <property name="stopTime" class="ptolemy.data.expr.Parameter" value="1.7976931348623E308">
            </property>
            <property name="stopWhenQueueIsEmpty" class="ptolemy.data.expr.Parameter" value="true">
            </property>
            <property name="synchronizeToRealTime" class="ptolemy.data.expr.Parameter" value="false">
            </property>
            <property name="isCQAdaptive" class="ptolemy.data.expr.Parameter" value="true">
            </property>
            <property name="minBinCount" class="ptolemy.data.expr.Parameter" value="2">
            </property>
            <property name="binCountFactor" class="ptolemy.data.expr.Parameter" value="2">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 40.0">
            </property>
        </property>
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={106, 164, 815, 518}, maximized=false}">
        </property>
        <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[600, 400]">
        </property>
        <property name="id" class="ptolemy.data.expr.Parameter" value="8">
        </property>
        <property name="annotation" class="ptolemy.kernel.util.Attribute">
            <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
            <property name="_iconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure><svg><text x="20" y="20" style="font-size:14; font-family:SansSerif; fill:blue">The protocol assumes that propagation takes no time but transmission takes time
that depends on the package's size. When having data to send, it first sense 
whether the channel is free or busy. If free, send the data, if not, then wait
for a random time and try again. The detection inteface is provided by the senseAir 
component. </text></svg></configure>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-A-</text>
      </svg>
    </configure>
            </property>
            <property name="_controllerFactory" class="ptolemy.vergil.basic.NodeControllerFactory">
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.AnnotationEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="-50.0, 370.0">
            </property>
        </property>
        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <port name="in" class="ptolemy.domains.wireless.kernel.WirelessIOPort">
            <property name="input"/>
            <property name="outsideChannel" class="ptolemy.data.expr.StringParameter" value="LimitedRangeChannel">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="70.0, 175.0">
            </property>
            <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
        </port>
        <port name="out" class="ptolemy.domains.wireless.kernel.WirelessIOPort">
            <property name="output"/>
            <property name="outsideChannel" class="ptolemy.data.expr.StringParameter" value="LimitedRangeChannel">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="425.0, 145.0">
            </property>
            <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
        </port>
        <port name="report" class="ptolemy.domains.wireless.kernel.WirelessIOPort">
            <property name="output"/>
            <property name="outsideChannel" class="ptolemy.data.expr.StringParameter" value="DataCollectChannel">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="545.0, 65.0">
            </property>
            <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
        </port>
        <port name="report2" class="ptolemy.domains.wireless.kernel.WirelessIOPort">
            <property name="output"/>
            <property name="outsideChannel" class="ptolemy.data.expr.StringParameter" value="CollisionReportChannel">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="545.0, 105.0">
            </property>
            <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
        </port>
        <entity name="PoissonClock" class="ptolemy.actor.lib.PoissonClock">
            <property name="meanTime" class="ptolemy.data.expr.Parameter" value="TrafficDensity">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="85.0, 105.0">
            </property>
        </entity>
        <entity name="modal model" class="ptolemy.domains.fsm.modal.ModalModel">
            <property name="_tableauFactory" class="ptolemy.vergil.fsm.modal.ModalTableauFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="270.0, 115.0">
            </property>
            <port name="data" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="channelState" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="senseChannel" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
            </port>
            <port name="outMSG" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="NORTH">
                </property>
            </port>
            <port name="randomWait" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="output"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="wakeUp" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="output"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <entity name="_Controller" class="ptolemy.domains.fsm.modal.ModalController">
                <property name="initialStateName" class="ptolemy.kernel.util.StringAttribute" value="idle">
                </property>
                <property name="_library" class="ptolemy.moml.LibraryAttribute">
                    <configure><entity name="state library" class="ptolemy.kernel.CompositeEntity"><input source="ptolemy/configs/basicUtilities.xml"></input><entity name="state" class="ptolemy.domains.fsm.kernel.State"><property name="_centerName" class="ptolemy.kernel.util.Attribute"></property></entity></entity></configure>
                </property>
                <port name="data" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="40.0, 95.0">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="channelState" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="35.0, 185.0">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="senseChannel" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="535.0, 70.0">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="outMSG" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="535.0, 155.0">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="randomWait" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="30.0, 260.0">
                    </property>
                    <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                </port>
                <port name="wakeUp" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="30.0, 330.0">
                    </property>
                    <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                </port>
                <entity name="idle" class="ptolemy.domains.fsm.kernel.State">
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="115.0, 145.0">
                    </property>
                </entity>
                <entity name="senseAir" class="ptolemy.domains.fsm.kernel.State">
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="255.0, 120.0">
                    </property>
                </entity>
                <entity name="randomWait" class="ptolemy.domains.fsm.kernel.State">
                    <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="randomWait">
                    </property>
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="460.0, 125.0">
                    </property>
                </entity>
                <entity name="Emit" class="ptolemy.domains.fsm.kernel.State">
                    <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="Emit">
                    </property>
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="270.0, 355.0">
                    </property>
                </entity>
                <relation name="relation" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="data_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="senseChannel = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.7290251868073567">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-0.2479894981275352">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation2" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="channelState_isPresent &amp;&amp; channelState == &quot;BUSY&quot;">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="randomWait = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.8816266690949863">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="0.3014559376966855">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation3" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="wakeUp_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="senseChannel = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.7432607920971347">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.969499643808648">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation4" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="channelState_isPresent &amp;&amp; channelState == &quot;FREE&quot;">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="outMSG = &quot;MSG&quot;; randomWait = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.04481040911079372">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="1.5101165449404714">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation5" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="wakeUp_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="outMSG = &quot;END&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.28882718043739275">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.217615632874857">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <link port="idle.incomingPort" relation="relation5"/>
                <link port="idle.outgoingPort" relation="relation"/>
                <link port="senseAir.incomingPort" relation="relation"/>
                <link port="senseAir.incomingPort" relation="relation3"/>
                <link port="senseAir.outgoingPort" relation="relation2"/>
                <link port="senseAir.outgoingPort" relation="relation4"/>
                <link port="randomWait.incomingPort" relation="relation2"/>
                <link port="randomWait.outgoingPort" relation="relation3"/>
                <link port="Emit.incomingPort" relation="relation4"/>
                <link port="Emit.outgoingPort" relation="relation5"/>
            </entity>
            <entity name="randomWait" class="ptolemy.domains.fsm.modal.Refinement">
                <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
                    <property name="startTime" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                    <property name="stopTime" class="ptolemy.data.expr.Parameter" value="1.7976931348623E308">
                    </property>
                    <property name="stopWhenQueueIsEmpty" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="synchronizeToRealTime" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="isCQAdaptive" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="minBinCount" class="ptolemy.data.expr.Parameter" value="2">
                    </property>
                    <property name="binCountFactor" class="ptolemy.data.expr.Parameter" value="2">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 40.0">
                    </property>
                </property>
                <port name="data" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="45.0, 125.0">
                    </property>
                </port>
                <port name="channelState" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="55.0, 215.0">
                    </property>
                </port>
                <port name="senseChannel" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="415.0, 160.0">
                    </property>
                </port>
                <port name="outMSG" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="525.0, 325.0">
                    </property>
                </port>
                <port name="randomWait" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="70.0, 280.0">
                    </property>
                </port>
                <port name="wakeUp" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="420.0, 255.0">
                    </property>
                </port>
                <entity name="VariableDelay" class="ptolemy.domains.de.lib.VariableDelay">
                    <property name="defaultDelay" class="ptolemy.data.expr.Parameter" value="1.0">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="290.0, 250.0">
                    </property>
                </entity>
                <entity name="Uniform" class="ptolemy.actor.lib.Uniform">
                    <property name="seed" class="ptolemy.data.expr.Parameter" value="0L">
                    </property>
                    <property name="lowerBound" class="ptolemy.data.expr.Parameter" value="MinWaiting">
                    </property>
                    <property name="upperBound" class="ptolemy.data.expr.Parameter" value="MaxWaiting">
                    </property>
                    <doc>Create a sequence of uniformly distributed random numbers</doc>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="190.0, 315.0">
                    </property>
                </entity>
                <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                    <vertex name="vertex1" value="145.0, 240.0">
                    </vertex>
                </relation>
                <relation name="relation" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                </relation>
                <link port="randomWait" relation="relation2"/>
                <link port="wakeUp" relation="relation3"/>
                <link port="VariableDelay.input" relation="relation2"/>
                <link port="VariableDelay.output" relation="relation3"/>
                <link port="VariableDelay.delay" relation="relation"/>
                <link port="Uniform.output" relation="relation"/>
                <link port="Uniform.trigger" relation="relation2"/>
            </entity>
            <entity name="Emit" class="ptolemy.domains.fsm.modal.Refinement">
                <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
                    <property name="startTime" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                    <property name="stopTime" class="ptolemy.data.expr.Parameter" value="1.7976931348623E308">
                    </property>
                    <property name="stopWhenQueueIsEmpty" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="synchronizeToRealTime" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="isCQAdaptive" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="minBinCount" class="ptolemy.data.expr.Parameter" value="2">
                    </property>
                    <property name="binCountFactor" class="ptolemy.data.expr.Parameter" value="2">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="270.0, 85.0">
                    </property>
                </property>
                <port name="data" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="55.0, 305.0">
                    </property>
                </port>
                <port name="channelState" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="100.0, 150.0">
                    </property>
                </port>
                <port name="senseChannel" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="90.0, 60.0">
                    </property>
                </port>
                <port name="outMSG" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="40.0, 205.0">
                    </property>
                </port>
                <port name="randomWait" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="85.0, 275.0">
                    </property>
                </port>
                <port name="wakeUp" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="485.0, 210.0">
                    </property>
                </port>
                <entity name="Uniform" class="ptolemy.actor.lib.Uniform">
                    <property name="seed" class="ptolemy.data.expr.Parameter" value="10L">
                    </property>
                    <property name="lowerBound" class="ptolemy.data.expr.Parameter" value="MinTxTime">
                    </property>
                    <property name="upperBound" class="ptolemy.data.expr.Parameter" value="MaxTxTime">
                    </property>
                    <doc>Create a sequence of uniformly distributed random numbers</doc>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="190.0, 315.0">
                    </property>
                </entity>
                <entity name="VariableDelay" class="ptolemy.domains.de.lib.VariableDelay">
                    <property name="defaultDelay" class="ptolemy.data.expr.Parameter" value="1.0">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="290.0, 250.0">
                    </property>
                </entity>
                <relation name="relation" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                    <vertex name="vertex1" value="145.0, 240.0">
                    </vertex>
                </relation>
                <relation name="relation4" class="ptolemy.actor.TypedIORelation">
                </relation>
                <link port="randomWait" relation="relation2"/>
                <link port="wakeUp" relation="relation4"/>
                <link port="Uniform.output" relation="relation"/>
                <link port="Uniform.trigger" relation="relation2"/>
                <link port="VariableDelay.input" relation="relation2"/>
                <link port="VariableDelay.output" relation="relation4"/>
                <link port="VariableDelay.delay" relation="relation"/>
            </entity>
            <relation name="dataRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="channelStateRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="senseChannelRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="outMSGRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="randomWaitRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="wakeUpRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="data" relation="dataRelation"/>
            <link port="channelState" relation="channelStateRelation"/>
            <link port="senseChannel" relation="senseChannelRelation"/>
            <link port="outMSG" relation="outMSGRelation"/>
            <link port="randomWait" relation="randomWaitRelation"/>
            <link port="wakeUp" relation="wakeUpRelation"/>
            <link port="_Controller.data" relation="dataRelation"/>
            <link port="_Controller.channelState" relation="channelStateRelation"/>
            <link port="_Controller.senseChannel" relation="senseChannelRelation"/>
            <link port="_Controller.outMSG" relation="outMSGRelation"/>
            <link port="_Controller.randomWait" relation="randomWaitRelation"/>
            <link port="_Controller.wakeUp" relation="wakeUpRelation"/>
            <link port="randomWait.data" relation="dataRelation"/>
            <link port="randomWait.channelState" relation="channelStateRelation"/>
            <link port="randomWait.senseChannel" relation="senseChannelRelation"/>
            <link port="randomWait.outMSG" relation="outMSGRelation"/>
            <link port="randomWait.randomWait" relation="randomWaitRelation"/>
            <link port="randomWait.wakeUp" relation="wakeUpRelation"/>
            <link port="Emit.data" relation="dataRelation"/>
            <link port="Emit.channelState" relation="channelStateRelation"/>
            <link port="Emit.senseChannel" relation="senseChannelRelation"/>
            <link port="Emit.outMSG" relation="outMSGRelation"/>
            <link port="Emit.randomWait" relation="randomWaitRelation"/>
            <link port="Emit.wakeUp" relation="wakeUpRelation"/>
        </entity>
        <entity name="TimedDelay" class="ptolemy.domains.de.lib.TimedDelay">
            <property name="delay" class="ptolemy.data.expr.Parameter" value="1.0">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="505.0, 300.0">
            </property>
        </entity>
        <entity name="For analysis" class="ptolemy.actor.TypedCompositeActor">
            <property name="_location" class="ptolemy.kernel.util.Location" value="470.0, 65.0">
            </property>
            <port name="time1" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 130.0">
                </property>
            </port>
            <port name="time2" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 185.0">
                </property>
            </port>
            <port name="report" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="465.0, 150.0">
                </property>
            </port>
            <port name="collision" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="SOUTH">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 255.0">
                </property>
            </port>
            <port name="report2" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="SOUTH">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="440.0, 265.0">
                </property>
            </port>
            <entity name="WaitingTime" class="ptolemy.domains.de.lib.WaitingTime">
                <property name="_location" class="ptolemy.kernel.util.Location" value="210.0, 140.0">
                </property>
            </entity>
            <entity name="RecordAssembler" class="ptolemy.actor.lib.RecordAssembler">
                <property name="_location" class="ptolemy.kernel.util.Location" value="340.0, 110.0">
                </property>
                <port name="id" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
                <port name="time" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
            </entity>
            <entity name="Const" class="ptolemy.actor.lib.Const">
                <property name="value" class="ptolemy.data.expr.Parameter" value="id">
                </property>
                <doc>Create a constant sequence</doc>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="300.0, 85.0">
                </property>
            </entity>
            <entity name="CurrentTime" class="ptolemy.actor.lib.CurrentTime">
                <doc>Output the current time.</doc>
                <property name="_location" class="ptolemy.kernel.util.Location" value="165.0, 290.0">
                </property>
            </entity>
            <entity name="RecordAssembler2" class="ptolemy.actor.lib.RecordAssembler">
                <property name="_location" class="ptolemy.kernel.util.Location" value="300.0, 245.0">
                </property>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                    </property>
                </port>
                <port name="collisionId" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="detectTime" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
            </entity>
            <entity name="Const2" class="ptolemy.actor.lib.Const">
                <property name="value" class="ptolemy.data.expr.Parameter" value="id">
                </property>
                <doc>Create a constant sequence</doc>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="165.0, 220.0">
                </property>
            </entity>
            <relation name="relation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation2" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="270.0, 140.0">
                </vertex>
            </relation>
            <relation name="relation4" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation8" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="120.0, 255.0">
                </vertex>
            </relation>
            <relation name="relation7" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation10" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation5" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation6" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="time1" relation="relation"/>
            <link port="time2" relation="relation2"/>
            <link port="report" relation="relation6"/>
            <link port="collision" relation="relation8"/>
            <link port="report2" relation="relation5"/>
            <link port="WaitingTime.output" relation="relation3"/>
            <link port="WaitingTime.waiter" relation="relation"/>
            <link port="WaitingTime.waitee" relation="relation2"/>
            <link port="RecordAssembler.output" relation="relation6"/>
            <link port="RecordAssembler.id" relation="relation4"/>
            <link port="RecordAssembler.time" relation="relation3"/>
            <link port="Const.output" relation="relation4"/>
            <link port="Const.trigger" relation="relation3"/>
            <link port="CurrentTime.output" relation="relation7"/>
            <link port="CurrentTime.trigger" relation="relation8"/>
            <link port="RecordAssembler2.output" relation="relation5"/>
            <link port="RecordAssembler2.collisionId" relation="relation10"/>
            <link port="RecordAssembler2.detectTime" relation="relation7"/>
            <link port="Const2.output" relation="relation10"/>
            <link port="Const2.trigger" relation="relation8"/>
        </entity>
        <entity name="modal model2" class="ptolemy.domains.fsm.modal.ModalModel">
            <property name="_tableauFactory" class="ptolemy.vergil.fsm.modal.ModalTableauFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="145.0, 185.0">
            </property>
            <port name="inMSG" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="channelState" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
            </port>
            <port name="senseChannel" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="collision" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
            </port>
            <entity name="_Controller" class="ptolemy.domains.fsm.modal.ModalController">
                <property name="initialStateName" class="ptolemy.kernel.util.StringAttribute" value="idle">
                </property>
                <property name="_library" class="ptolemy.moml.LibraryAttribute">
                    <configure>
        <entity name="state library" class="ptolemy.kernel.CompositeEntity"><input source="ptolemy/configs/basicUtilities.xml"></input><entity name="state" class="ptolemy.domains.fsm.kernel.State"><property name="_centerName" class="ptolemy.kernel.util.Attribute"></property><property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory"></property></entity></entity>
      </configure>
                </property>
                <port name="inMSG" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="0.0, 0.0">
                    </property>
                </port>
                <port name="channelState" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="335.0, 90.0">
                    </property>
                </port>
                <port name="senseChannel" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="-5.0, 90.0">
                    </property>
                </port>
                <port name="collision" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="240.0, 25.0">
                    </property>
                </port>
                <entity name="idle" class="ptolemy.domains.fsm.kernel.State">
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="190.5, 187.28129322224544">
                    </property>
                </entity>
                <entity name="receive" class="ptolemy.domains.fsm.kernel.State">
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="425.0, 195.0">
                    </property>
                </entity>
                <relation name="relation" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="inMSG_isPresent &amp;&amp; inMSG == &quot;END&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.9564982454336546">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation2" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="inMSG_isPresent &amp;&amp; inMSG == &quot;MSG&quot;">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="collision = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="2.512139297546763">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-0.21451248805933695">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation3" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="senseChannel_isPresent &amp;&amp; ! inMSG_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="channelState = &quot;BUSY&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="2.356194490192345">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.0687929371738796">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation4" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="senseChannel_isPresent &amp;&amp; !inMSG_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="channelState = &quot;FREE&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="2.13592263986528">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="1.4616814519565946">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation5" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="inMSG_isPresent &amp;&amp; inMSG == &quot;MSG&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="0.11144946119379541">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <link port="idle.incomingPort" relation="relation"/>
                <link port="idle.incomingPort" relation="relation4"/>
                <link port="idle.outgoingPort" relation="relation5"/>
                <link port="idle.outgoingPort" relation="relation4"/>
                <link port="receive.incomingPort" relation="relation5"/>
                <link port="receive.incomingPort" relation="relation2"/>
                <link port="receive.incomingPort" relation="relation3"/>
                <link port="receive.outgoingPort" relation="relation"/>
                <link port="receive.outgoingPort" relation="relation2"/>
                <link port="receive.outgoingPort" relation="relation3"/>
            </entity>
            <relation name="inMSGRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="channelStateRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="senseChannelRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="collisionRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="inMSG" relation="inMSGRelation"/>
            <link port="channelState" relation="channelStateRelation"/>
            <link port="senseChannel" relation="senseChannelRelation"/>
            <link port="collision" relation="collisionRelation"/>
            <link port="_Controller.inMSG" relation="inMSGRelation"/>
            <link port="_Controller.channelState" relation="channelStateRelation"/>
            <link port="_Controller.senseChannel" relation="senseChannelRelation"/>
            <link port="_Controller.collision" relation="collisionRelation"/>
        </entity>
        <relation name="relation5" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation7" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation8" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="210.0, 55.0">
            </vertex>
        </relation>
        <relation name="relation2" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="405.0, 75.0">
            </vertex>
        </relation>
        <relation name="relation6" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="465.0, 195.0">
            </vertex>
        </relation>
        <relation name="relation9" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation10" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation4" class="ptolemy.actor.TypedIORelation">
        </relation>
        <link port="in" relation="relation10"/>
        <link port="out" relation="relation2"/>
        <link port="report" relation="relation7"/>
        <link port="report2" relation="relation9"/>
        <link port="PoissonClock.output" relation="relation8"/>
        <link port="modal model.data" relation="relation8"/>
        <link port="modal model.channelState" relation="relation4"/>
        <link port="modal model.senseChannel" relation="relation5"/>
        <link port="modal model.outMSG" relation="relation2"/>
        <link port="TimedDelay.input" relation="relation5"/>
        <link port="TimedDelay.output" relation="relation"/>
        <link port="For analysis.time1" relation="relation8"/>
        <link port="For analysis.time2" relation="relation2"/>
        <link port="For analysis.report" relation="relation7"/>
        <link port="For analysis.collision" relation="relation6"/>
        <link port="For analysis.report2" relation="relation9"/>
        <link port="modal model2.inMSG" relation="relation10"/>
        <link port="modal model2.channelState" relation="relation4"/>
        <link port="modal model2.senseChannel" relation="relation"/>
        <link port="modal model2.collision" relation="relation6"/>
    </entity>
    <entity name="node7" class="ptolemy.domains.wireless.kernel.WirelessComposite">
        <property name="_location" class="ptolemy.kernel.util.Location" value="480.0, 215.0">
        </property>
        <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
            <property name="startTime" class="ptolemy.data.expr.Parameter" value="0.0">
            </property>
            <property name="stopTime" class="ptolemy.data.expr.Parameter" value="1.7976931348623E308">
            </property>
            <property name="stopWhenQueueIsEmpty" class="ptolemy.data.expr.Parameter" value="true">
            </property>
            <property name="synchronizeToRealTime" class="ptolemy.data.expr.Parameter" value="false">
            </property>
            <property name="isCQAdaptive" class="ptolemy.data.expr.Parameter" value="true">
            </property>
            <property name="minBinCount" class="ptolemy.data.expr.Parameter" value="2">
            </property>
            <property name="binCountFactor" class="ptolemy.data.expr.Parameter" value="2">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 40.0">
            </property>
        </property>
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={106, 164, 815, 518}, maximized=false}">
        </property>
        <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[600, 400]">
        </property>
        <property name="id" class="ptolemy.data.expr.Parameter" value="10">
        </property>
        <property name="annotation" class="ptolemy.kernel.util.Attribute">
            <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
            <property name="_iconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure><svg><text x="20" y="20" style="font-size:14; font-family:SansSerif; fill:blue">The protocol assumes that propagation takes no time but transmission takes time
that depends on the package's size. When having data to send, it first sense 
whether the channel is free or busy. If free, send the data, if not, then wait
for a random time and try again. The detection inteface is provided by the senseAir 
component. </text></svg></configure>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-A-</text>
      </svg>
    </configure>
            </property>
            <property name="_controllerFactory" class="ptolemy.vergil.basic.NodeControllerFactory">
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.AnnotationEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="-50.0, 370.0">
            </property>
        </property>
        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <port name="in" class="ptolemy.domains.wireless.kernel.WirelessIOPort">
            <property name="input"/>
            <property name="outsideChannel" class="ptolemy.data.expr.StringParameter" value="LimitedRangeChannel">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="70.0, 175.0">
            </property>
            <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
        </port>
        <port name="out" class="ptolemy.domains.wireless.kernel.WirelessIOPort">
            <property name="output"/>
            <property name="outsideChannel" class="ptolemy.data.expr.StringParameter" value="LimitedRangeChannel">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="425.0, 145.0">
            </property>
            <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
        </port>
        <port name="report" class="ptolemy.domains.wireless.kernel.WirelessIOPort">
            <property name="output"/>
            <property name="outsideChannel" class="ptolemy.data.expr.StringParameter" value="DataCollectChannel">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="545.0, 65.0">
            </property>
            <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
        </port>
        <port name="report2" class="ptolemy.domains.wireless.kernel.WirelessIOPort">
            <property name="output"/>
            <property name="outsideChannel" class="ptolemy.data.expr.StringParameter" value="CollisionReportChannel">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="545.0, 105.0">
            </property>
            <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
        </port>
        <entity name="PoissonClock" class="ptolemy.actor.lib.PoissonClock">
            <property name="meanTime" class="ptolemy.data.expr.Parameter" value="TrafficDensity">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="85.0, 105.0">
            </property>
        </entity>
        <entity name="modal model" class="ptolemy.domains.fsm.modal.ModalModel">
            <property name="_tableauFactory" class="ptolemy.vergil.fsm.modal.ModalTableauFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="270.0, 115.0">
            </property>
            <port name="data" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="channelState" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="senseChannel" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
            </port>
            <port name="outMSG" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="NORTH">
                </property>
            </port>
            <port name="randomWait" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="output"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="wakeUp" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="output"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <entity name="_Controller" class="ptolemy.domains.fsm.modal.ModalController">
                <property name="initialStateName" class="ptolemy.kernel.util.StringAttribute" value="idle">
                </property>
                <property name="_library" class="ptolemy.moml.LibraryAttribute">
                    <configure><entity name="state library" class="ptolemy.kernel.CompositeEntity"><input source="ptolemy/configs/basicUtilities.xml"></input><entity name="state" class="ptolemy.domains.fsm.kernel.State"><property name="_centerName" class="ptolemy.kernel.util.Attribute"></property></entity></entity></configure>
                </property>
                <port name="data" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="40.0, 95.0">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="channelState" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="35.0, 185.0">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="senseChannel" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="535.0, 70.0">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="outMSG" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="535.0, 155.0">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="randomWait" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="30.0, 260.0">
                    </property>
                    <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                </port>
                <port name="wakeUp" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="30.0, 330.0">
                    </property>
                    <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                </port>
                <entity name="idle" class="ptolemy.domains.fsm.kernel.State">
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="115.0, 145.0">
                    </property>
                </entity>
                <entity name="senseAir" class="ptolemy.domains.fsm.kernel.State">
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="255.0, 120.0">
                    </property>
                </entity>
                <entity name="randomWait" class="ptolemy.domains.fsm.kernel.State">
                    <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="randomWait">
                    </property>
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="460.0, 125.0">
                    </property>
                </entity>
                <entity name="Emit" class="ptolemy.domains.fsm.kernel.State">
                    <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="Emit">
                    </property>
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="270.0, 355.0">
                    </property>
                </entity>
                <relation name="relation" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="data_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="senseChannel = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.7290251868073567">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-0.2479894981275352">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation2" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="channelState_isPresent &amp;&amp; channelState == &quot;BUSY&quot;">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="randomWait = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.8816266690949863">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="0.3014559376966855">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation3" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="wakeUp_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="senseChannel = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.7432607920971347">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.969499643808648">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation4" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="channelState_isPresent &amp;&amp; channelState == &quot;FREE&quot;">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="outMSG = &quot;MSG&quot;; randomWait = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.04481040911079372">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="1.5101165449404714">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation5" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="wakeUp_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="outMSG = &quot;END&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.28882718043739275">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.217615632874857">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <link port="idle.incomingPort" relation="relation5"/>
                <link port="idle.outgoingPort" relation="relation"/>
                <link port="senseAir.incomingPort" relation="relation"/>
                <link port="senseAir.incomingPort" relation="relation3"/>
                <link port="senseAir.outgoingPort" relation="relation2"/>
                <link port="senseAir.outgoingPort" relation="relation4"/>
                <link port="randomWait.incomingPort" relation="relation2"/>
                <link port="randomWait.outgoingPort" relation="relation3"/>
                <link port="Emit.incomingPort" relation="relation4"/>
                <link port="Emit.outgoingPort" relation="relation5"/>
            </entity>
            <entity name="randomWait" class="ptolemy.domains.fsm.modal.Refinement">
                <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
                    <property name="startTime" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                    <property name="stopTime" class="ptolemy.data.expr.Parameter" value="1.7976931348623E308">
                    </property>
                    <property name="stopWhenQueueIsEmpty" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="synchronizeToRealTime" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="isCQAdaptive" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="minBinCount" class="ptolemy.data.expr.Parameter" value="2">
                    </property>
                    <property name="binCountFactor" class="ptolemy.data.expr.Parameter" value="2">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 40.0">
                    </property>
                </property>
                <port name="data" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="45.0, 125.0">
                    </property>
                </port>
                <port name="channelState" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="55.0, 215.0">
                    </property>
                </port>
                <port name="senseChannel" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="415.0, 160.0">
                    </property>
                </port>
                <port name="outMSG" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="525.0, 325.0">
                    </property>
                </port>
                <port name="randomWait" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="70.0, 280.0">
                    </property>
                </port>
                <port name="wakeUp" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="420.0, 255.0">
                    </property>
                </port>
                <entity name="VariableDelay" class="ptolemy.domains.de.lib.VariableDelay">
                    <property name="defaultDelay" class="ptolemy.data.expr.Parameter" value="1.0">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="290.0, 250.0">
                    </property>
                </entity>
                <entity name="Uniform" class="ptolemy.actor.lib.Uniform">
                    <property name="seed" class="ptolemy.data.expr.Parameter" value="0L">
                    </property>
                    <property name="lowerBound" class="ptolemy.data.expr.Parameter" value="MinWaiting">
                    </property>
                    <property name="upperBound" class="ptolemy.data.expr.Parameter" value="MaxWaiting">
                    </property>
                    <doc>Create a sequence of uniformly distributed random numbers</doc>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="190.0, 315.0">
                    </property>
                </entity>
                <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                    <vertex name="vertex1" value="145.0, 240.0">
                    </vertex>
                </relation>
                <relation name="relation" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                </relation>
                <link port="randomWait" relation="relation2"/>
                <link port="wakeUp" relation="relation3"/>
                <link port="VariableDelay.input" relation="relation2"/>
                <link port="VariableDelay.output" relation="relation3"/>
                <link port="VariableDelay.delay" relation="relation"/>
                <link port="Uniform.output" relation="relation"/>
                <link port="Uniform.trigger" relation="relation2"/>
            </entity>
            <entity name="Emit" class="ptolemy.domains.fsm.modal.Refinement">
                <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
                    <property name="startTime" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                    <property name="stopTime" class="ptolemy.data.expr.Parameter" value="1.7976931348623E308">
                    </property>
                    <property name="stopWhenQueueIsEmpty" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="synchronizeToRealTime" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="isCQAdaptive" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="minBinCount" class="ptolemy.data.expr.Parameter" value="2">
                    </property>
                    <property name="binCountFactor" class="ptolemy.data.expr.Parameter" value="2">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="270.0, 85.0">
                    </property>
                </property>
                <port name="data" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="55.0, 305.0">
                    </property>
                </port>
                <port name="channelState" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="100.0, 150.0">
                    </property>
                </port>
                <port name="senseChannel" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="90.0, 60.0">
                    </property>
                </port>
                <port name="outMSG" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="40.0, 205.0">
                    </property>
                </port>
                <port name="randomWait" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="85.0, 275.0">
                    </property>
                </port>
                <port name="wakeUp" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="485.0, 210.0">
                    </property>
                </port>
                <entity name="Uniform" class="ptolemy.actor.lib.Uniform">
                    <property name="seed" class="ptolemy.data.expr.Parameter" value="10L">
                    </property>
                    <property name="lowerBound" class="ptolemy.data.expr.Parameter" value="MinTxTime">
                    </property>
                    <property name="upperBound" class="ptolemy.data.expr.Parameter" value="MaxTxTime">
                    </property>
                    <doc>Create a sequence of uniformly distributed random numbers</doc>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="190.0, 315.0">
                    </property>
                </entity>
                <entity name="VariableDelay" class="ptolemy.domains.de.lib.VariableDelay">
                    <property name="defaultDelay" class="ptolemy.data.expr.Parameter" value="1.0">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="290.0, 250.0">
                    </property>
                </entity>
                <relation name="relation" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                    <vertex name="vertex1" value="145.0, 240.0">
                    </vertex>
                </relation>
                <relation name="relation4" class="ptolemy.actor.TypedIORelation">
                </relation>
                <link port="randomWait" relation="relation2"/>
                <link port="wakeUp" relation="relation4"/>
                <link port="Uniform.output" relation="relation"/>
                <link port="Uniform.trigger" relation="relation2"/>
                <link port="VariableDelay.input" relation="relation2"/>
                <link port="VariableDelay.output" relation="relation4"/>
                <link port="VariableDelay.delay" relation="relation"/>
            </entity>
            <relation name="dataRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="channelStateRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="senseChannelRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="outMSGRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="randomWaitRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="wakeUpRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="data" relation="dataRelation"/>
            <link port="channelState" relation="channelStateRelation"/>
            <link port="senseChannel" relation="senseChannelRelation"/>
            <link port="outMSG" relation="outMSGRelation"/>
            <link port="randomWait" relation="randomWaitRelation"/>
            <link port="wakeUp" relation="wakeUpRelation"/>
            <link port="_Controller.data" relation="dataRelation"/>
            <link port="_Controller.channelState" relation="channelStateRelation"/>
            <link port="_Controller.senseChannel" relation="senseChannelRelation"/>
            <link port="_Controller.outMSG" relation="outMSGRelation"/>
            <link port="_Controller.randomWait" relation="randomWaitRelation"/>
            <link port="_Controller.wakeUp" relation="wakeUpRelation"/>
            <link port="randomWait.data" relation="dataRelation"/>
            <link port="randomWait.channelState" relation="channelStateRelation"/>
            <link port="randomWait.senseChannel" relation="senseChannelRelation"/>
            <link port="randomWait.outMSG" relation="outMSGRelation"/>
            <link port="randomWait.randomWait" relation="randomWaitRelation"/>
            <link port="randomWait.wakeUp" relation="wakeUpRelation"/>
            <link port="Emit.data" relation="dataRelation"/>
            <link port="Emit.channelState" relation="channelStateRelation"/>
            <link port="Emit.senseChannel" relation="senseChannelRelation"/>
            <link port="Emit.outMSG" relation="outMSGRelation"/>
            <link port="Emit.randomWait" relation="randomWaitRelation"/>
            <link port="Emit.wakeUp" relation="wakeUpRelation"/>
        </entity>
        <entity name="TimedDelay" class="ptolemy.domains.de.lib.TimedDelay">
            <property name="delay" class="ptolemy.data.expr.Parameter" value="1.0">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="505.0, 300.0">
            </property>
        </entity>
        <entity name="For analysis" class="ptolemy.actor.TypedCompositeActor">
            <property name="_location" class="ptolemy.kernel.util.Location" value="470.0, 65.0">
            </property>
            <port name="time1" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 130.0">
                </property>
            </port>
            <port name="time2" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 185.0">
                </property>
            </port>
            <port name="report" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="465.0, 150.0">
                </property>
            </port>
            <port name="collision" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="SOUTH">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 255.0">
                </property>
            </port>
            <port name="report2" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="SOUTH">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="440.0, 265.0">
                </property>
            </port>
            <entity name="WaitingTime" class="ptolemy.domains.de.lib.WaitingTime">
                <property name="_location" class="ptolemy.kernel.util.Location" value="210.0, 140.0">
                </property>
            </entity>
            <entity name="RecordAssembler" class="ptolemy.actor.lib.RecordAssembler">
                <property name="_location" class="ptolemy.kernel.util.Location" value="340.0, 110.0">
                </property>
                <port name="id" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
                <port name="time" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
            </entity>
            <entity name="Const" class="ptolemy.actor.lib.Const">
                <property name="value" class="ptolemy.data.expr.Parameter" value="id">
                </property>
                <doc>Create a constant sequence</doc>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="300.0, 85.0">
                </property>
            </entity>
            <entity name="CurrentTime" class="ptolemy.actor.lib.CurrentTime">
                <doc>Output the current time.</doc>
                <property name="_location" class="ptolemy.kernel.util.Location" value="165.0, 290.0">
                </property>
            </entity>
            <entity name="RecordAssembler2" class="ptolemy.actor.lib.RecordAssembler">
                <property name="_location" class="ptolemy.kernel.util.Location" value="300.0, 245.0">
                </property>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                    </property>
                </port>
                <port name="collisionId" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="detectTime" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
            </entity>
            <entity name="Const2" class="ptolemy.actor.lib.Const">
                <property name="value" class="ptolemy.data.expr.Parameter" value="id">
                </property>
                <doc>Create a constant sequence</doc>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="165.0, 220.0">
                </property>
            </entity>
            <relation name="relation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation2" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="270.0, 140.0">
                </vertex>
            </relation>
            <relation name="relation4" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation8" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="120.0, 255.0">
                </vertex>
            </relation>
            <relation name="relation7" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation10" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation5" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation6" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="time1" relation="relation"/>
            <link port="time2" relation="relation2"/>
            <link port="report" relation="relation6"/>
            <link port="collision" relation="relation8"/>
            <link port="report2" relation="relation5"/>
            <link port="WaitingTime.output" relation="relation3"/>
            <link port="WaitingTime.waiter" relation="relation"/>
            <link port="WaitingTime.waitee" relation="relation2"/>
            <link port="RecordAssembler.output" relation="relation6"/>
            <link port="RecordAssembler.id" relation="relation4"/>
            <link port="RecordAssembler.time" relation="relation3"/>
            <link port="Const.output" relation="relation4"/>
            <link port="Const.trigger" relation="relation3"/>
            <link port="CurrentTime.output" relation="relation7"/>
            <link port="CurrentTime.trigger" relation="relation8"/>
            <link port="RecordAssembler2.output" relation="relation5"/>
            <link port="RecordAssembler2.collisionId" relation="relation10"/>
            <link port="RecordAssembler2.detectTime" relation="relation7"/>
            <link port="Const2.output" relation="relation10"/>
            <link port="Const2.trigger" relation="relation8"/>
        </entity>
        <entity name="modal model2" class="ptolemy.domains.fsm.modal.ModalModel">
            <property name="_tableauFactory" class="ptolemy.vergil.fsm.modal.ModalTableauFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="145.0, 185.0">
            </property>
            <port name="inMSG" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="channelState" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
            </port>
            <port name="senseChannel" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="collision" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
            </port>
            <entity name="_Controller" class="ptolemy.domains.fsm.modal.ModalController">
                <property name="initialStateName" class="ptolemy.kernel.util.StringAttribute" value="idle">
                </property>
                <property name="_library" class="ptolemy.moml.LibraryAttribute">
                    <configure>
        <entity name="state library" class="ptolemy.kernel.CompositeEntity"><input source="ptolemy/configs/basicUtilities.xml"></input><entity name="state" class="ptolemy.domains.fsm.kernel.State"><property name="_centerName" class="ptolemy.kernel.util.Attribute"></property><property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory"></property></entity></entity>
      </configure>
                </property>
                <port name="inMSG" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="0.0, 0.0">
                    </property>
                </port>
                <port name="channelState" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="335.0, 90.0">
                    </property>
                </port>
                <port name="senseChannel" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="-5.0, 90.0">
                    </property>
                </port>
                <port name="collision" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="240.0, 25.0">
                    </property>
                </port>
                <entity name="idle" class="ptolemy.domains.fsm.kernel.State">
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="190.5, 187.28129322224544">
                    </property>
                </entity>
                <entity name="receive" class="ptolemy.domains.fsm.kernel.State">
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="425.0, 195.0">
                    </property>
                </entity>
                <relation name="relation" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="inMSG_isPresent &amp;&amp; inMSG == &quot;END&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.9564982454336546">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation2" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="inMSG_isPresent &amp;&amp; inMSG == &quot;MSG&quot;">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="collision = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="2.512139297546763">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-0.21451248805933695">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation3" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="senseChannel_isPresent &amp;&amp; ! inMSG_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="channelState = &quot;BUSY&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="2.356194490192345">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.0687929371738796">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation4" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="senseChannel_isPresent &amp;&amp; !inMSG_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="channelState = &quot;FREE&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="2.13592263986528">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="1.4616814519565946">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation5" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="inMSG_isPresent &amp;&amp; inMSG == &quot;MSG&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="0.11144946119379541">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <link port="idle.incomingPort" relation="relation"/>
                <link port="idle.incomingPort" relation="relation4"/>
                <link port="idle.outgoingPort" relation="relation5"/>
                <link port="idle.outgoingPort" relation="relation4"/>
                <link port="receive.incomingPort" relation="relation5"/>
                <link port="receive.incomingPort" relation="relation2"/>
                <link port="receive.incomingPort" relation="relation3"/>
                <link port="receive.outgoingPort" relation="relation"/>
                <link port="receive.outgoingPort" relation="relation2"/>
                <link port="receive.outgoingPort" relation="relation3"/>
            </entity>
            <relation name="inMSGRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="channelStateRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="senseChannelRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="collisionRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="inMSG" relation="inMSGRelation"/>
            <link port="channelState" relation="channelStateRelation"/>
            <link port="senseChannel" relation="senseChannelRelation"/>
            <link port="collision" relation="collisionRelation"/>
            <link port="_Controller.inMSG" relation="inMSGRelation"/>
            <link port="_Controller.channelState" relation="channelStateRelation"/>
            <link port="_Controller.senseChannel" relation="senseChannelRelation"/>
            <link port="_Controller.collision" relation="collisionRelation"/>
        </entity>
        <relation name="relation5" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation7" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation8" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="210.0, 55.0">
            </vertex>
        </relation>
        <relation name="relation2" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="405.0, 75.0">
            </vertex>
        </relation>
        <relation name="relation6" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="465.0, 195.0">
            </vertex>
        </relation>
        <relation name="relation9" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation10" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation4" class="ptolemy.actor.TypedIORelation">
        </relation>
        <link port="in" relation="relation10"/>
        <link port="out" relation="relation2"/>
        <link port="report" relation="relation7"/>
        <link port="report2" relation="relation9"/>
        <link port="PoissonClock.output" relation="relation8"/>
        <link port="modal model.data" relation="relation8"/>
        <link port="modal model.channelState" relation="relation4"/>
        <link port="modal model.senseChannel" relation="relation5"/>
        <link port="modal model.outMSG" relation="relation2"/>
        <link port="TimedDelay.input" relation="relation5"/>
        <link port="TimedDelay.output" relation="relation"/>
        <link port="For analysis.time1" relation="relation8"/>
        <link port="For analysis.time2" relation="relation2"/>
        <link port="For analysis.report" relation="relation7"/>
        <link port="For analysis.collision" relation="relation6"/>
        <link port="For analysis.report2" relation="relation9"/>
        <link port="modal model2.inMSG" relation="relation10"/>
        <link port="modal model2.channelState" relation="relation4"/>
        <link port="modal model2.senseChannel" relation="relation"/>
        <link port="modal model2.collision" relation="relation6"/>
    </entity>
    <entity name="node8" class="ptolemy.domains.wireless.kernel.WirelessComposite">
        <property name="_location" class="ptolemy.kernel.util.Location" value="270.0, 120.0">
        </property>
        <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
            <property name="startTime" class="ptolemy.data.expr.Parameter" value="0.0">
            </property>
            <property name="stopTime" class="ptolemy.data.expr.Parameter" value="1.7976931348623E308">
            </property>
            <property name="stopWhenQueueIsEmpty" class="ptolemy.data.expr.Parameter" value="true">
            </property>
            <property name="synchronizeToRealTime" class="ptolemy.data.expr.Parameter" value="false">
            </property>
            <property name="isCQAdaptive" class="ptolemy.data.expr.Parameter" value="true">
            </property>
            <property name="minBinCount" class="ptolemy.data.expr.Parameter" value="2">
            </property>
            <property name="binCountFactor" class="ptolemy.data.expr.Parameter" value="2">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 40.0">
            </property>
        </property>
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={106, 164, 815, 518}, maximized=false}">
        </property>
        <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[600, 400]">
        </property>
        <property name="id" class="ptolemy.data.expr.Parameter" value="3">
        </property>
        <property name="annotation" class="ptolemy.kernel.util.Attribute">
            <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
            <property name="_iconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure><svg><text x="20" y="20" style="font-size:14; font-family:SansSerif; fill:blue">The protocol assumes that propagation takes no time but transmission takes time
that depends on the package's size. When having data to send, it first sense 
whether the channel is free or busy. If free, send the data, if not, then wait
for a random time and try again. The detection inteface is provided by the senseAir 
component. </text></svg></configure>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-A-</text>
      </svg>
    </configure>
            </property>
            <property name="_controllerFactory" class="ptolemy.vergil.basic.NodeControllerFactory">
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.AnnotationEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="-50.0, 370.0">
            </property>
        </property>
        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <port name="in" class="ptolemy.domains.wireless.kernel.WirelessIOPort">
            <property name="input"/>
            <property name="outsideChannel" class="ptolemy.data.expr.StringParameter" value="LimitedRangeChannel">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="70.0, 175.0">
            </property>
            <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
        </port>
        <port name="out" class="ptolemy.domains.wireless.kernel.WirelessIOPort">
            <property name="output"/>
            <property name="outsideChannel" class="ptolemy.data.expr.StringParameter" value="LimitedRangeChannel">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="425.0, 145.0">
            </property>
            <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
        </port>
        <port name="report" class="ptolemy.domains.wireless.kernel.WirelessIOPort">
            <property name="output"/>
            <property name="outsideChannel" class="ptolemy.data.expr.StringParameter" value="DataCollectChannel">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="545.0, 65.0">
            </property>
            <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
        </port>
        <port name="report2" class="ptolemy.domains.wireless.kernel.WirelessIOPort">
            <property name="output"/>
            <property name="outsideChannel" class="ptolemy.data.expr.StringParameter" value="CollisionReportChannel">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="545.0, 105.0">
            </property>
            <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
        </port>
        <entity name="PoissonClock" class="ptolemy.actor.lib.PoissonClock">
            <property name="meanTime" class="ptolemy.data.expr.Parameter" value="TrafficDensity">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="85.0, 105.0">
            </property>
        </entity>
        <entity name="modal model" class="ptolemy.domains.fsm.modal.ModalModel">
            <property name="_tableauFactory" class="ptolemy.vergil.fsm.modal.ModalTableauFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="270.0, 115.0">
            </property>
            <port name="data" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="channelState" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="senseChannel" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
            </port>
            <port name="outMSG" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="NORTH">
                </property>
            </port>
            <port name="randomWait" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="output"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="wakeUp" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="output"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <entity name="_Controller" class="ptolemy.domains.fsm.modal.ModalController">
                <property name="initialStateName" class="ptolemy.kernel.util.StringAttribute" value="idle">
                </property>
                <property name="_library" class="ptolemy.moml.LibraryAttribute">
                    <configure><entity name="state library" class="ptolemy.kernel.CompositeEntity"><input source="ptolemy/configs/basicUtilities.xml"></input><entity name="state" class="ptolemy.domains.fsm.kernel.State"><property name="_centerName" class="ptolemy.kernel.util.Attribute"></property></entity></entity></configure>
                </property>
                <port name="data" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="40.0, 95.0">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="channelState" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="35.0, 185.0">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="senseChannel" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="535.0, 70.0">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="outMSG" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="535.0, 155.0">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="randomWait" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="30.0, 260.0">
                    </property>
                    <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                </port>
                <port name="wakeUp" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="30.0, 330.0">
                    </property>
                    <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                </port>
                <entity name="idle" class="ptolemy.domains.fsm.kernel.State">
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="115.0, 145.0">
                    </property>
                </entity>
                <entity name="senseAir" class="ptolemy.domains.fsm.kernel.State">
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="255.0, 120.0">
                    </property>
                </entity>
                <entity name="randomWait" class="ptolemy.domains.fsm.kernel.State">
                    <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="randomWait">
                    </property>
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="460.0, 125.0">
                    </property>
                </entity>
                <entity name="Emit" class="ptolemy.domains.fsm.kernel.State">
                    <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="Emit">
                    </property>
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="270.0, 355.0">
                    </property>
                </entity>
                <relation name="relation" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="data_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="senseChannel = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.7290251868073567">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-0.2479894981275352">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation2" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="channelState_isPresent &amp;&amp; channelState == &quot;BUSY&quot;">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="randomWait = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.8816266690949863">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="0.3014559376966855">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation3" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="wakeUp_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="senseChannel = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.7432607920971347">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.969499643808648">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation4" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="channelState_isPresent &amp;&amp; channelState == &quot;FREE&quot;">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="outMSG = &quot;MSG&quot;; randomWait = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.04481040911079372">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="1.5101165449404714">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation5" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="wakeUp_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="outMSG = &quot;END&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.28882718043739275">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.217615632874857">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <link port="idle.incomingPort" relation="relation5"/>
                <link port="idle.outgoingPort" relation="relation"/>
                <link port="senseAir.incomingPort" relation="relation"/>
                <link port="senseAir.incomingPort" relation="relation3"/>
                <link port="senseAir.outgoingPort" relation="relation2"/>
                <link port="senseAir.outgoingPort" relation="relation4"/>
                <link port="randomWait.incomingPort" relation="relation2"/>
                <link port="randomWait.outgoingPort" relation="relation3"/>
                <link port="Emit.incomingPort" relation="relation4"/>
                <link port="Emit.outgoingPort" relation="relation5"/>
            </entity>
            <entity name="randomWait" class="ptolemy.domains.fsm.modal.Refinement">
                <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
                    <property name="startTime" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                    <property name="stopTime" class="ptolemy.data.expr.Parameter" value="1.7976931348623E308">
                    </property>
                    <property name="stopWhenQueueIsEmpty" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="synchronizeToRealTime" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="isCQAdaptive" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="minBinCount" class="ptolemy.data.expr.Parameter" value="2">
                    </property>
                    <property name="binCountFactor" class="ptolemy.data.expr.Parameter" value="2">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 40.0">
                    </property>
                </property>
                <port name="data" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="45.0, 125.0">
                    </property>
                </port>
                <port name="channelState" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="55.0, 215.0">
                    </property>
                </port>
                <port name="senseChannel" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="415.0, 160.0">
                    </property>
                </port>
                <port name="outMSG" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="525.0, 325.0">
                    </property>
                </port>
                <port name="randomWait" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="70.0, 280.0">
                    </property>
                </port>
                <port name="wakeUp" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="420.0, 255.0">
                    </property>
                </port>
                <entity name="VariableDelay" class="ptolemy.domains.de.lib.VariableDelay">
                    <property name="defaultDelay" class="ptolemy.data.expr.Parameter" value="1.0">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="290.0, 250.0">
                    </property>
                </entity>
                <entity name="Uniform" class="ptolemy.actor.lib.Uniform">
                    <property name="seed" class="ptolemy.data.expr.Parameter" value="0L">
                    </property>
                    <property name="lowerBound" class="ptolemy.data.expr.Parameter" value="MinWaiting">
                    </property>
                    <property name="upperBound" class="ptolemy.data.expr.Parameter" value="MaxWaiting">
                    </property>
                    <doc>Create a sequence of uniformly distributed random numbers</doc>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="190.0, 315.0">
                    </property>
                </entity>
                <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                    <vertex name="vertex1" value="145.0, 240.0">
                    </vertex>
                </relation>
                <relation name="relation" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                </relation>
                <link port="randomWait" relation="relation2"/>
                <link port="wakeUp" relation="relation3"/>
                <link port="VariableDelay.input" relation="relation2"/>
                <link port="VariableDelay.output" relation="relation3"/>
                <link port="VariableDelay.delay" relation="relation"/>
                <link port="Uniform.output" relation="relation"/>
                <link port="Uniform.trigger" relation="relation2"/>
            </entity>
            <entity name="Emit" class="ptolemy.domains.fsm.modal.Refinement">
                <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
                    <property name="startTime" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                    <property name="stopTime" class="ptolemy.data.expr.Parameter" value="1.7976931348623E308">
                    </property>
                    <property name="stopWhenQueueIsEmpty" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="synchronizeToRealTime" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="isCQAdaptive" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="minBinCount" class="ptolemy.data.expr.Parameter" value="2">
                    </property>
                    <property name="binCountFactor" class="ptolemy.data.expr.Parameter" value="2">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="270.0, 85.0">
                    </property>
                </property>
                <port name="data" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="55.0, 305.0">
                    </property>
                </port>
                <port name="channelState" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="100.0, 150.0">
                    </property>
                </port>
                <port name="senseChannel" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="90.0, 60.0">
                    </property>
                </port>
                <port name="outMSG" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="40.0, 205.0">
                    </property>
                </port>
                <port name="randomWait" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="85.0, 275.0">
                    </property>
                </port>
                <port name="wakeUp" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="485.0, 210.0">
                    </property>
                </port>
                <entity name="Uniform" class="ptolemy.actor.lib.Uniform">
                    <property name="seed" class="ptolemy.data.expr.Parameter" value="10L">
                    </property>
                    <property name="lowerBound" class="ptolemy.data.expr.Parameter" value="MinTxTime">
                    </property>
                    <property name="upperBound" class="ptolemy.data.expr.Parameter" value="MaxTxTime">
                    </property>
                    <doc>Create a sequence of uniformly distributed random numbers</doc>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="190.0, 315.0">
                    </property>
                </entity>
                <entity name="VariableDelay" class="ptolemy.domains.de.lib.VariableDelay">
                    <property name="defaultDelay" class="ptolemy.data.expr.Parameter" value="1.0">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="290.0, 250.0">
                    </property>
                </entity>
                <relation name="relation" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                    <vertex name="vertex1" value="145.0, 240.0">
                    </vertex>
                </relation>
                <relation name="relation4" class="ptolemy.actor.TypedIORelation">
                </relation>
                <link port="randomWait" relation="relation2"/>
                <link port="wakeUp" relation="relation4"/>
                <link port="Uniform.output" relation="relation"/>
                <link port="Uniform.trigger" relation="relation2"/>
                <link port="VariableDelay.input" relation="relation2"/>
                <link port="VariableDelay.output" relation="relation4"/>
                <link port="VariableDelay.delay" relation="relation"/>
            </entity>
            <relation name="dataRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="channelStateRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="senseChannelRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="outMSGRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="randomWaitRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="wakeUpRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="data" relation="dataRelation"/>
            <link port="channelState" relation="channelStateRelation"/>
            <link port="senseChannel" relation="senseChannelRelation"/>
            <link port="outMSG" relation="outMSGRelation"/>
            <link port="randomWait" relation="randomWaitRelation"/>
            <link port="wakeUp" relation="wakeUpRelation"/>
            <link port="_Controller.data" relation="dataRelation"/>
            <link port="_Controller.channelState" relation="channelStateRelation"/>
            <link port="_Controller.senseChannel" relation="senseChannelRelation"/>
            <link port="_Controller.outMSG" relation="outMSGRelation"/>
            <link port="_Controller.randomWait" relation="randomWaitRelation"/>
            <link port="_Controller.wakeUp" relation="wakeUpRelation"/>
            <link port="randomWait.data" relation="dataRelation"/>
            <link port="randomWait.channelState" relation="channelStateRelation"/>
            <link port="randomWait.senseChannel" relation="senseChannelRelation"/>
            <link port="randomWait.outMSG" relation="outMSGRelation"/>
            <link port="randomWait.randomWait" relation="randomWaitRelation"/>
            <link port="randomWait.wakeUp" relation="wakeUpRelation"/>
            <link port="Emit.data" relation="dataRelation"/>
            <link port="Emit.channelState" relation="channelStateRelation"/>
            <link port="Emit.senseChannel" relation="senseChannelRelation"/>
            <link port="Emit.outMSG" relation="outMSGRelation"/>
            <link port="Emit.randomWait" relation="randomWaitRelation"/>
            <link port="Emit.wakeUp" relation="wakeUpRelation"/>
        </entity>
        <entity name="TimedDelay" class="ptolemy.domains.de.lib.TimedDelay">
            <property name="delay" class="ptolemy.data.expr.Parameter" value="1.0">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="505.0, 300.0">
            </property>
        </entity>
        <entity name="For analysis" class="ptolemy.actor.TypedCompositeActor">
            <property name="_location" class="ptolemy.kernel.util.Location" value="470.0, 65.0">
            </property>
            <port name="time1" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 130.0">
                </property>
            </port>
            <port name="time2" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 185.0">
                </property>
            </port>
            <port name="report" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="465.0, 150.0">
                </property>
            </port>
            <port name="collision" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="SOUTH">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 255.0">
                </property>
            </port>
            <port name="report2" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="SOUTH">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="440.0, 265.0">
                </property>
            </port>
            <entity name="WaitingTime" class="ptolemy.domains.de.lib.WaitingTime">
                <property name="_location" class="ptolemy.kernel.util.Location" value="210.0, 140.0">
                </property>
            </entity>
            <entity name="RecordAssembler" class="ptolemy.actor.lib.RecordAssembler">
                <property name="_location" class="ptolemy.kernel.util.Location" value="340.0, 110.0">
                </property>
                <port name="id" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
                <port name="time" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
            </entity>
            <entity name="Const" class="ptolemy.actor.lib.Const">
                <property name="value" class="ptolemy.data.expr.Parameter" value="id">
                </property>
                <doc>Create a constant sequence</doc>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="300.0, 85.0">
                </property>
            </entity>
            <entity name="CurrentTime" class="ptolemy.actor.lib.CurrentTime">
                <doc>Output the current time.</doc>
                <property name="_location" class="ptolemy.kernel.util.Location" value="165.0, 290.0">
                </property>
            </entity>
            <entity name="RecordAssembler2" class="ptolemy.actor.lib.RecordAssembler">
                <property name="_location" class="ptolemy.kernel.util.Location" value="300.0, 245.0">
                </property>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                    </property>
                </port>
                <port name="collisionId" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="detectTime" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
            </entity>
            <entity name="Const2" class="ptolemy.actor.lib.Const">
                <property name="value" class="ptolemy.data.expr.Parameter" value="id">
                </property>
                <doc>Create a constant sequence</doc>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="165.0, 220.0">
                </property>
            </entity>
            <relation name="relation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation2" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="270.0, 140.0">
                </vertex>
            </relation>
            <relation name="relation4" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation8" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="120.0, 255.0">
                </vertex>
            </relation>
            <relation name="relation7" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation10" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation5" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation6" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="time1" relation="relation"/>
            <link port="time2" relation="relation2"/>
            <link port="report" relation="relation6"/>
            <link port="collision" relation="relation8"/>
            <link port="report2" relation="relation5"/>
            <link port="WaitingTime.output" relation="relation3"/>
            <link port="WaitingTime.waiter" relation="relation"/>
            <link port="WaitingTime.waitee" relation="relation2"/>
            <link port="RecordAssembler.output" relation="relation6"/>
            <link port="RecordAssembler.id" relation="relation4"/>
            <link port="RecordAssembler.time" relation="relation3"/>
            <link port="Const.output" relation="relation4"/>
            <link port="Const.trigger" relation="relation3"/>
            <link port="CurrentTime.output" relation="relation7"/>
            <link port="CurrentTime.trigger" relation="relation8"/>
            <link port="RecordAssembler2.output" relation="relation5"/>
            <link port="RecordAssembler2.collisionId" relation="relation10"/>
            <link port="RecordAssembler2.detectTime" relation="relation7"/>
            <link port="Const2.output" relation="relation10"/>
            <link port="Const2.trigger" relation="relation8"/>
        </entity>
        <entity name="modal model2" class="ptolemy.domains.fsm.modal.ModalModel">
            <property name="_tableauFactory" class="ptolemy.vergil.fsm.modal.ModalTableauFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="145.0, 185.0">
            </property>
            <port name="inMSG" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="channelState" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
            </port>
            <port name="senseChannel" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="collision" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
            </port>
            <entity name="_Controller" class="ptolemy.domains.fsm.modal.ModalController">
                <property name="initialStateName" class="ptolemy.kernel.util.StringAttribute" value="idle">
                </property>
                <property name="_library" class="ptolemy.moml.LibraryAttribute">
                    <configure>
        <entity name="state library" class="ptolemy.kernel.CompositeEntity"><input source="ptolemy/configs/basicUtilities.xml"></input><entity name="state" class="ptolemy.domains.fsm.kernel.State"><property name="_centerName" class="ptolemy.kernel.util.Attribute"></property><property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory"></property></entity></entity>
      </configure>
                </property>
                <port name="inMSG" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="0.0, 0.0">
                    </property>
                </port>
                <port name="channelState" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="335.0, 90.0">
                    </property>
                </port>
                <port name="senseChannel" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="-5.0, 90.0">
                    </property>
                </port>
                <port name="collision" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="240.0, 25.0">
                    </property>
                </port>
                <entity name="idle" class="ptolemy.domains.fsm.kernel.State">
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="190.5, 187.28129322224544">
                    </property>
                </entity>
                <entity name="receive" class="ptolemy.domains.fsm.kernel.State">
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="425.0, 195.0">
                    </property>
                </entity>
                <relation name="relation" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="inMSG_isPresent &amp;&amp; inMSG == &quot;END&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.9564982454336546">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation2" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="inMSG_isPresent &amp;&amp; inMSG == &quot;MSG&quot;">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="collision = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="2.512139297546763">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-0.21451248805933695">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation3" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="senseChannel_isPresent &amp;&amp; ! inMSG_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="channelState = &quot;BUSY&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="2.356194490192345">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.0687929371738796">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation4" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="senseChannel_isPresent &amp;&amp; !inMSG_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="channelState = &quot;FREE&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="2.13592263986528">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="1.4616814519565946">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation5" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="inMSG_isPresent &amp;&amp; inMSG == &quot;MSG&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="0.11144946119379541">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <link port="idle.incomingPort" relation="relation"/>
                <link port="idle.incomingPort" relation="relation4"/>
                <link port="idle.outgoingPort" relation="relation5"/>
                <link port="idle.outgoingPort" relation="relation4"/>
                <link port="receive.incomingPort" relation="relation5"/>
                <link port="receive.incomingPort" relation="relation2"/>
                <link port="receive.incomingPort" relation="relation3"/>
                <link port="receive.outgoingPort" relation="relation"/>
                <link port="receive.outgoingPort" relation="relation2"/>
                <link port="receive.outgoingPort" relation="relation3"/>
            </entity>
            <relation name="inMSGRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="channelStateRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="senseChannelRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="collisionRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="inMSG" relation="inMSGRelation"/>
            <link port="channelState" relation="channelStateRelation"/>
            <link port="senseChannel" relation="senseChannelRelation"/>
            <link port="collision" relation="collisionRelation"/>
            <link port="_Controller.inMSG" relation="inMSGRelation"/>
            <link port="_Controller.channelState" relation="channelStateRelation"/>
            <link port="_Controller.senseChannel" relation="senseChannelRelation"/>
            <link port="_Controller.collision" relation="collisionRelation"/>
        </entity>
        <relation name="relation5" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation7" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation8" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="210.0, 55.0">
            </vertex>
        </relation>
        <relation name="relation2" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="405.0, 75.0">
            </vertex>
        </relation>
        <relation name="relation6" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="465.0, 195.0">
            </vertex>
        </relation>
        <relation name="relation9" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation10" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation4" class="ptolemy.actor.TypedIORelation">
        </relation>
        <link port="in" relation="relation10"/>
        <link port="out" relation="relation2"/>
        <link port="report" relation="relation7"/>
        <link port="report2" relation="relation9"/>
        <link port="PoissonClock.output" relation="relation8"/>
        <link port="modal model.data" relation="relation8"/>
        <link port="modal model.channelState" relation="relation4"/>
        <link port="modal model.senseChannel" relation="relation5"/>
        <link port="modal model.outMSG" relation="relation2"/>
        <link port="TimedDelay.input" relation="relation5"/>
        <link port="TimedDelay.output" relation="relation"/>
        <link port="For analysis.time1" relation="relation8"/>
        <link port="For analysis.time2" relation="relation2"/>
        <link port="For analysis.report" relation="relation7"/>
        <link port="For analysis.collision" relation="relation6"/>
        <link port="For analysis.report2" relation="relation9"/>
        <link port="modal model2.inMSG" relation="relation10"/>
        <link port="modal model2.channelState" relation="relation4"/>
        <link port="modal model2.senseChannel" relation="relation"/>
        <link port="modal model2.collision" relation="relation6"/>
    </entity>
    <entity name="node9" class="ptolemy.domains.wireless.kernel.WirelessComposite">
        <property name="_location" class="ptolemy.kernel.util.Location" value="270.0, 415.0">
        </property>
        <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
            <property name="startTime" class="ptolemy.data.expr.Parameter" value="0.0">
            </property>
            <property name="stopTime" class="ptolemy.data.expr.Parameter" value="1.7976931348623E308">
            </property>
            <property name="stopWhenQueueIsEmpty" class="ptolemy.data.expr.Parameter" value="true">
            </property>
            <property name="synchronizeToRealTime" class="ptolemy.data.expr.Parameter" value="false">
            </property>
            <property name="isCQAdaptive" class="ptolemy.data.expr.Parameter" value="true">
            </property>
            <property name="minBinCount" class="ptolemy.data.expr.Parameter" value="2">
            </property>
            <property name="binCountFactor" class="ptolemy.data.expr.Parameter" value="2">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 40.0">
            </property>
        </property>
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={106, 164, 815, 518}, maximized=false}">
        </property>
        <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[600, 400]">
        </property>
        <property name="id" class="ptolemy.data.expr.Parameter" value="18">
        </property>
        <property name="annotation" class="ptolemy.kernel.util.Attribute">
            <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
            <property name="_iconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure><svg><text x="20" y="20" style="font-size:14; font-family:SansSerif; fill:blue">The protocol assumes that propagation takes no time but transmission takes time
that depends on the package's size. When having data to send, it first sense 
whether the channel is free or busy. If free, send the data, if not, then wait
for a random time and try again. The detection inteface is provided by the senseAir 
component. </text></svg></configure>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-A-</text>
      </svg>
    </configure>
            </property>
            <property name="_controllerFactory" class="ptolemy.vergil.basic.NodeControllerFactory">
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.AnnotationEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="-50.0, 370.0">
            </property>
        </property>
        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <port name="in" class="ptolemy.domains.wireless.kernel.WirelessIOPort">
            <property name="input"/>
            <property name="outsideChannel" class="ptolemy.data.expr.StringParameter" value="LimitedRangeChannel">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="70.0, 175.0">
            </property>
            <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
        </port>
        <port name="out" class="ptolemy.domains.wireless.kernel.WirelessIOPort">
            <property name="output"/>
            <property name="outsideChannel" class="ptolemy.data.expr.StringParameter" value="LimitedRangeChannel">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="425.0, 145.0">
            </property>
            <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
        </port>
        <port name="report" class="ptolemy.domains.wireless.kernel.WirelessIOPort">
            <property name="output"/>
            <property name="outsideChannel" class="ptolemy.data.expr.StringParameter" value="DataCollectChannel">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="545.0, 65.0">
            </property>
            <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
        </port>
        <port name="report2" class="ptolemy.domains.wireless.kernel.WirelessIOPort">
            <property name="output"/>
            <property name="outsideChannel" class="ptolemy.data.expr.StringParameter" value="CollisionReportChannel">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="545.0, 105.0">
            </property>
            <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
        </port>
        <entity name="PoissonClock" class="ptolemy.actor.lib.PoissonClock">
            <property name="meanTime" class="ptolemy.data.expr.Parameter" value="TrafficDensity">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="85.0, 105.0">
            </property>
        </entity>
        <entity name="modal model" class="ptolemy.domains.fsm.modal.ModalModel">
            <property name="_tableauFactory" class="ptolemy.vergil.fsm.modal.ModalTableauFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="270.0, 115.0">
            </property>
            <port name="data" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="channelState" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="senseChannel" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
            </port>
            <port name="outMSG" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="NORTH">
                </property>
            </port>
            <port name="randomWait" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="output"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="wakeUp" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="output"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <entity name="_Controller" class="ptolemy.domains.fsm.modal.ModalController">
                <property name="initialStateName" class="ptolemy.kernel.util.StringAttribute" value="idle">
                </property>
                <property name="_library" class="ptolemy.moml.LibraryAttribute">
                    <configure><entity name="state library" class="ptolemy.kernel.CompositeEntity"><input source="ptolemy/configs/basicUtilities.xml"></input><entity name="state" class="ptolemy.domains.fsm.kernel.State"><property name="_centerName" class="ptolemy.kernel.util.Attribute"></property></entity></entity></configure>
                </property>
                <port name="data" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="40.0, 95.0">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="channelState" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="35.0, 185.0">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="senseChannel" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="535.0, 70.0">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="outMSG" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="535.0, 155.0">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="randomWait" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="30.0, 260.0">
                    </property>
                    <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                </port>
                <port name="wakeUp" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="30.0, 330.0">
                    </property>
                    <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                </port>
                <entity name="idle" class="ptolemy.domains.fsm.kernel.State">
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="115.0, 145.0">
                    </property>
                </entity>
                <entity name="senseAir" class="ptolemy.domains.fsm.kernel.State">
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="255.0, 120.0">
                    </property>
                </entity>
                <entity name="randomWait" class="ptolemy.domains.fsm.kernel.State">
                    <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="randomWait">
                    </property>
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="460.0, 125.0">
                    </property>
                </entity>
                <entity name="Emit" class="ptolemy.domains.fsm.kernel.State">
                    <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="Emit">
                    </property>
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="270.0, 355.0">
                    </property>
                </entity>
                <relation name="relation" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="data_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="senseChannel = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.7290251868073567">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-0.2479894981275352">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation2" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="channelState_isPresent &amp;&amp; channelState == &quot;BUSY&quot;">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="randomWait = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.8816266690949863">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="0.3014559376966855">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation3" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="wakeUp_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="senseChannel = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.7432607920971347">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.969499643808648">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation4" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="channelState_isPresent &amp;&amp; channelState == &quot;FREE&quot;">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="outMSG = &quot;MSG&quot;; randomWait = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.04481040911079372">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="1.5101165449404714">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation5" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="wakeUp_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="outMSG = &quot;END&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.28882718043739275">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.217615632874857">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <link port="idle.incomingPort" relation="relation5"/>
                <link port="idle.outgoingPort" relation="relation"/>
                <link port="senseAir.incomingPort" relation="relation"/>
                <link port="senseAir.incomingPort" relation="relation3"/>
                <link port="senseAir.outgoingPort" relation="relation2"/>
                <link port="senseAir.outgoingPort" relation="relation4"/>
                <link port="randomWait.incomingPort" relation="relation2"/>
                <link port="randomWait.outgoingPort" relation="relation3"/>
                <link port="Emit.incomingPort" relation="relation4"/>
                <link port="Emit.outgoingPort" relation="relation5"/>
            </entity>
            <entity name="randomWait" class="ptolemy.domains.fsm.modal.Refinement">
                <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
                    <property name="startTime" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                    <property name="stopTime" class="ptolemy.data.expr.Parameter" value="1.7976931348623E308">
                    </property>
                    <property name="stopWhenQueueIsEmpty" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="synchronizeToRealTime" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="isCQAdaptive" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="minBinCount" class="ptolemy.data.expr.Parameter" value="2">
                    </property>
                    <property name="binCountFactor" class="ptolemy.data.expr.Parameter" value="2">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 40.0">
                    </property>
                </property>
                <port name="data" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="45.0, 125.0">
                    </property>
                </port>
                <port name="channelState" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="55.0, 215.0">
                    </property>
                </port>
                <port name="senseChannel" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="415.0, 160.0">
                    </property>
                </port>
                <port name="outMSG" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="525.0, 325.0">
                    </property>
                </port>
                <port name="randomWait" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="70.0, 280.0">
                    </property>
                </port>
                <port name="wakeUp" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="420.0, 255.0">
                    </property>
                </port>
                <entity name="VariableDelay" class="ptolemy.domains.de.lib.VariableDelay">
                    <property name="defaultDelay" class="ptolemy.data.expr.Parameter" value="1.0">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="290.0, 250.0">
                    </property>
                </entity>
                <entity name="Uniform" class="ptolemy.actor.lib.Uniform">
                    <property name="seed" class="ptolemy.data.expr.Parameter" value="0L">
                    </property>
                    <property name="lowerBound" class="ptolemy.data.expr.Parameter" value="MinWaiting">
                    </property>
                    <property name="upperBound" class="ptolemy.data.expr.Parameter" value="MaxWaiting">
                    </property>
                    <doc>Create a sequence of uniformly distributed random numbers</doc>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="190.0, 315.0">
                    </property>
                </entity>
                <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                    <vertex name="vertex1" value="145.0, 240.0">
                    </vertex>
                </relation>
                <relation name="relation" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                </relation>
                <link port="randomWait" relation="relation2"/>
                <link port="wakeUp" relation="relation3"/>
                <link port="VariableDelay.input" relation="relation2"/>
                <link port="VariableDelay.output" relation="relation3"/>
                <link port="VariableDelay.delay" relation="relation"/>
                <link port="Uniform.output" relation="relation"/>
                <link port="Uniform.trigger" relation="relation2"/>
            </entity>
            <entity name="Emit" class="ptolemy.domains.fsm.modal.Refinement">
                <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
                    <property name="startTime" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                    <property name="stopTime" class="ptolemy.data.expr.Parameter" value="1.7976931348623E308">
                    </property>
                    <property name="stopWhenQueueIsEmpty" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="synchronizeToRealTime" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="isCQAdaptive" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="minBinCount" class="ptolemy.data.expr.Parameter" value="2">
                    </property>
                    <property name="binCountFactor" class="ptolemy.data.expr.Parameter" value="2">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="270.0, 85.0">
                    </property>
                </property>
                <port name="data" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="55.0, 305.0">
                    </property>
                </port>
                <port name="channelState" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="100.0, 150.0">
                    </property>
                </port>
                <port name="senseChannel" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="90.0, 60.0">
                    </property>
                </port>
                <port name="outMSG" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="40.0, 205.0">
                    </property>
                </port>
                <port name="randomWait" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="85.0, 275.0">
                    </property>
                </port>
                <port name="wakeUp" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="485.0, 210.0">
                    </property>
                </port>
                <entity name="Uniform" class="ptolemy.actor.lib.Uniform">
                    <property name="seed" class="ptolemy.data.expr.Parameter" value="10L">
                    </property>
                    <property name="lowerBound" class="ptolemy.data.expr.Parameter" value="MinTxTime">
                    </property>
                    <property name="upperBound" class="ptolemy.data.expr.Parameter" value="MaxTxTime">
                    </property>
                    <doc>Create a sequence of uniformly distributed random numbers</doc>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="190.0, 315.0">
                    </property>
                </entity>
                <entity name="VariableDelay" class="ptolemy.domains.de.lib.VariableDelay">
                    <property name="defaultDelay" class="ptolemy.data.expr.Parameter" value="1.0">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="290.0, 250.0">
                    </property>
                </entity>
                <relation name="relation" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                    <vertex name="vertex1" value="145.0, 240.0">
                    </vertex>
                </relation>
                <relation name="relation4" class="ptolemy.actor.TypedIORelation">
                </relation>
                <link port="randomWait" relation="relation2"/>
                <link port="wakeUp" relation="relation4"/>
                <link port="Uniform.output" relation="relation"/>
                <link port="Uniform.trigger" relation="relation2"/>
                <link port="VariableDelay.input" relation="relation2"/>
                <link port="VariableDelay.output" relation="relation4"/>
                <link port="VariableDelay.delay" relation="relation"/>
            </entity>
            <relation name="dataRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="channelStateRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="senseChannelRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="outMSGRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="randomWaitRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="wakeUpRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="data" relation="dataRelation"/>
            <link port="channelState" relation="channelStateRelation"/>
            <link port="senseChannel" relation="senseChannelRelation"/>
            <link port="outMSG" relation="outMSGRelation"/>
            <link port="randomWait" relation="randomWaitRelation"/>
            <link port="wakeUp" relation="wakeUpRelation"/>
            <link port="_Controller.data" relation="dataRelation"/>
            <link port="_Controller.channelState" relation="channelStateRelation"/>
            <link port="_Controller.senseChannel" relation="senseChannelRelation"/>
            <link port="_Controller.outMSG" relation="outMSGRelation"/>
            <link port="_Controller.randomWait" relation="randomWaitRelation"/>
            <link port="_Controller.wakeUp" relation="wakeUpRelation"/>
            <link port="randomWait.data" relation="dataRelation"/>
            <link port="randomWait.channelState" relation="channelStateRelation"/>
            <link port="randomWait.senseChannel" relation="senseChannelRelation"/>
            <link port="randomWait.outMSG" relation="outMSGRelation"/>
            <link port="randomWait.randomWait" relation="randomWaitRelation"/>
            <link port="randomWait.wakeUp" relation="wakeUpRelation"/>
            <link port="Emit.data" relation="dataRelation"/>
            <link port="Emit.channelState" relation="channelStateRelation"/>
            <link port="Emit.senseChannel" relation="senseChannelRelation"/>
            <link port="Emit.outMSG" relation="outMSGRelation"/>
            <link port="Emit.randomWait" relation="randomWaitRelation"/>
            <link port="Emit.wakeUp" relation="wakeUpRelation"/>
        </entity>
        <entity name="TimedDelay" class="ptolemy.domains.de.lib.TimedDelay">
            <property name="delay" class="ptolemy.data.expr.Parameter" value="1.0">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="505.0, 300.0">
            </property>
        </entity>
        <entity name="For analysis" class="ptolemy.actor.TypedCompositeActor">
            <property name="_location" class="ptolemy.kernel.util.Location" value="470.0, 65.0">
            </property>
            <port name="time1" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 130.0">
                </property>
            </port>
            <port name="time2" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 185.0">
                </property>
            </port>
            <port name="report" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="465.0, 150.0">
                </property>
            </port>
            <port name="collision" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="SOUTH">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 255.0">
                </property>
            </port>
            <port name="report2" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="SOUTH">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="440.0, 265.0">
                </property>
            </port>
            <entity name="WaitingTime" class="ptolemy.domains.de.lib.WaitingTime">
                <property name="_location" class="ptolemy.kernel.util.Location" value="210.0, 140.0">
                </property>
            </entity>
            <entity name="RecordAssembler" class="ptolemy.actor.lib.RecordAssembler">
                <property name="_location" class="ptolemy.kernel.util.Location" value="340.0, 110.0">
                </property>
                <port name="id" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
                <port name="time" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
            </entity>
            <entity name="Const" class="ptolemy.actor.lib.Const">
                <property name="value" class="ptolemy.data.expr.Parameter" value="id">
                </property>
                <doc>Create a constant sequence</doc>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="300.0, 85.0">
                </property>
            </entity>
            <entity name="CurrentTime" class="ptolemy.actor.lib.CurrentTime">
                <doc>Output the current time.</doc>
                <property name="_location" class="ptolemy.kernel.util.Location" value="165.0, 290.0">
                </property>
            </entity>
            <entity name="RecordAssembler2" class="ptolemy.actor.lib.RecordAssembler">
                <property name="_location" class="ptolemy.kernel.util.Location" value="300.0, 245.0">
                </property>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                    </property>
                </port>
                <port name="collisionId" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="detectTime" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
            </entity>
            <entity name="Const2" class="ptolemy.actor.lib.Const">
                <property name="value" class="ptolemy.data.expr.Parameter" value="id">
                </property>
                <doc>Create a constant sequence</doc>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="165.0, 220.0">
                </property>
            </entity>
            <relation name="relation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation2" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="270.0, 140.0">
                </vertex>
            </relation>
            <relation name="relation4" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation8" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="120.0, 255.0">
                </vertex>
            </relation>
            <relation name="relation7" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation10" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation5" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation6" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="time1" relation="relation"/>
            <link port="time2" relation="relation2"/>
            <link port="report" relation="relation6"/>
            <link port="collision" relation="relation8"/>
            <link port="report2" relation="relation5"/>
            <link port="WaitingTime.output" relation="relation3"/>
            <link port="WaitingTime.waiter" relation="relation"/>
            <link port="WaitingTime.waitee" relation="relation2"/>
            <link port="RecordAssembler.output" relation="relation6"/>
            <link port="RecordAssembler.id" relation="relation4"/>
            <link port="RecordAssembler.time" relation="relation3"/>
            <link port="Const.output" relation="relation4"/>
            <link port="Const.trigger" relation="relation3"/>
            <link port="CurrentTime.output" relation="relation7"/>
            <link port="CurrentTime.trigger" relation="relation8"/>
            <link port="RecordAssembler2.output" relation="relation5"/>
            <link port="RecordAssembler2.collisionId" relation="relation10"/>
            <link port="RecordAssembler2.detectTime" relation="relation7"/>
            <link port="Const2.output" relation="relation10"/>
            <link port="Const2.trigger" relation="relation8"/>
        </entity>
        <entity name="modal model2" class="ptolemy.domains.fsm.modal.ModalModel">
            <property name="_tableauFactory" class="ptolemy.vergil.fsm.modal.ModalTableauFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="145.0, 185.0">
            </property>
            <port name="inMSG" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="channelState" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
            </port>
            <port name="senseChannel" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="collision" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
            </port>
            <entity name="_Controller" class="ptolemy.domains.fsm.modal.ModalController">
                <property name="initialStateName" class="ptolemy.kernel.util.StringAttribute" value="idle">
                </property>
                <property name="_library" class="ptolemy.moml.LibraryAttribute">
                    <configure>
        <entity name="state library" class="ptolemy.kernel.CompositeEntity"><input source="ptolemy/configs/basicUtilities.xml"></input><entity name="state" class="ptolemy.domains.fsm.kernel.State"><property name="_centerName" class="ptolemy.kernel.util.Attribute"></property><property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory"></property></entity></entity>
      </configure>
                </property>
                <port name="inMSG" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="0.0, 0.0">
                    </property>
                </port>
                <port name="channelState" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="335.0, 90.0">
                    </property>
                </port>
                <port name="senseChannel" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="-5.0, 90.0">
                    </property>
                </port>
                <port name="collision" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="240.0, 25.0">
                    </property>
                </port>
                <entity name="idle" class="ptolemy.domains.fsm.kernel.State">
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="190.5, 187.28129322224544">
                    </property>
                </entity>
                <entity name="receive" class="ptolemy.domains.fsm.kernel.State">
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="425.0, 195.0">
                    </property>
                </entity>
                <relation name="relation" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="inMSG_isPresent &amp;&amp; inMSG == &quot;END&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.9564982454336546">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation2" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="inMSG_isPresent &amp;&amp; inMSG == &quot;MSG&quot;">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="collision = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="2.512139297546763">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-0.21451248805933695">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation3" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="senseChannel_isPresent &amp;&amp; ! inMSG_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="channelState = &quot;BUSY&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="2.356194490192345">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.0687929371738796">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation4" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="senseChannel_isPresent &amp;&amp; !inMSG_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="channelState = &quot;FREE&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="2.13592263986528">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="1.4616814519565946">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation5" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="inMSG_isPresent &amp;&amp; inMSG == &quot;MSG&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="0.11144946119379541">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <link port="idle.incomingPort" relation="relation"/>
                <link port="idle.incomingPort" relation="relation4"/>
                <link port="idle.outgoingPort" relation="relation5"/>
                <link port="idle.outgoingPort" relation="relation4"/>
                <link port="receive.incomingPort" relation="relation5"/>
                <link port="receive.incomingPort" relation="relation2"/>
                <link port="receive.incomingPort" relation="relation3"/>
                <link port="receive.outgoingPort" relation="relation"/>
                <link port="receive.outgoingPort" relation="relation2"/>
                <link port="receive.outgoingPort" relation="relation3"/>
            </entity>
            <relation name="inMSGRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="channelStateRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="senseChannelRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="collisionRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="inMSG" relation="inMSGRelation"/>
            <link port="channelState" relation="channelStateRelation"/>
            <link port="senseChannel" relation="senseChannelRelation"/>
            <link port="collision" relation="collisionRelation"/>
            <link port="_Controller.inMSG" relation="inMSGRelation"/>
            <link port="_Controller.channelState" relation="channelStateRelation"/>
            <link port="_Controller.senseChannel" relation="senseChannelRelation"/>
            <link port="_Controller.collision" relation="collisionRelation"/>
        </entity>
        <relation name="relation5" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation7" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation8" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="210.0, 55.0">
            </vertex>
        </relation>
        <relation name="relation2" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="405.0, 75.0">
            </vertex>
        </relation>
        <relation name="relation6" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="465.0, 195.0">
            </vertex>
        </relation>
        <relation name="relation9" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation10" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation4" class="ptolemy.actor.TypedIORelation">
        </relation>
        <link port="in" relation="relation10"/>
        <link port="out" relation="relation2"/>
        <link port="report" relation="relation7"/>
        <link port="report2" relation="relation9"/>
        <link port="PoissonClock.output" relation="relation8"/>
        <link port="modal model.data" relation="relation8"/>
        <link port="modal model.channelState" relation="relation4"/>
        <link port="modal model.senseChannel" relation="relation5"/>
        <link port="modal model.outMSG" relation="relation2"/>
        <link port="TimedDelay.input" relation="relation5"/>
        <link port="TimedDelay.output" relation="relation"/>
        <link port="For analysis.time1" relation="relation8"/>
        <link port="For analysis.time2" relation="relation2"/>
        <link port="For analysis.report" relation="relation7"/>
        <link port="For analysis.collision" relation="relation6"/>
        <link port="For analysis.report2" relation="relation9"/>
        <link port="modal model2.inMSG" relation="relation10"/>
        <link port="modal model2.channelState" relation="relation4"/>
        <link port="modal model2.senseChannel" relation="relation"/>
        <link port="modal model2.collision" relation="relation6"/>
    </entity>
    <entity name="node10" class="ptolemy.domains.wireless.kernel.WirelessComposite">
        <property name="_location" class="ptolemy.kernel.util.Location" value="480.0, 415.0">
        </property>
        <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
            <property name="startTime" class="ptolemy.data.expr.Parameter" value="0.0">
            </property>
            <property name="stopTime" class="ptolemy.data.expr.Parameter" value="1.7976931348623E308">
            </property>
            <property name="stopWhenQueueIsEmpty" class="ptolemy.data.expr.Parameter" value="true">
            </property>
            <property name="synchronizeToRealTime" class="ptolemy.data.expr.Parameter" value="false">
            </property>
            <property name="isCQAdaptive" class="ptolemy.data.expr.Parameter" value="true">
            </property>
            <property name="minBinCount" class="ptolemy.data.expr.Parameter" value="2">
            </property>
            <property name="binCountFactor" class="ptolemy.data.expr.Parameter" value="2">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 40.0">
            </property>
        </property>
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={106, 164, 815, 518}, maximized=false}">
        </property>
        <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[600, 400]">
        </property>
        <property name="id" class="ptolemy.data.expr.Parameter" value="20">
        </property>
        <property name="annotation" class="ptolemy.kernel.util.Attribute">
            <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
            <property name="_iconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure><svg><text x="20" y="20" style="font-size:14; font-family:SansSerif; fill:blue">The protocol assumes that propagation takes no time but transmission takes time
that depends on the package's size. When having data to send, it first sense 
whether the channel is free or busy. If free, send the data, if not, then wait
for a random time and try again. The detection inteface is provided by the senseAir 
component. </text></svg></configure>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-A-</text>
      </svg>
    </configure>
            </property>
            <property name="_controllerFactory" class="ptolemy.vergil.basic.NodeControllerFactory">
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.AnnotationEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="-50.0, 370.0">
            </property>
        </property>
        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <port name="in" class="ptolemy.domains.wireless.kernel.WirelessIOPort">
            <property name="input"/>
            <property name="outsideChannel" class="ptolemy.data.expr.StringParameter" value="LimitedRangeChannel">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="70.0, 175.0">
            </property>
            <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
        </port>
        <port name="out" class="ptolemy.domains.wireless.kernel.WirelessIOPort">
            <property name="output"/>
            <property name="outsideChannel" class="ptolemy.data.expr.StringParameter" value="LimitedRangeChannel">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="425.0, 145.0">
            </property>
            <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
        </port>
        <port name="report" class="ptolemy.domains.wireless.kernel.WirelessIOPort">
            <property name="output"/>
            <property name="outsideChannel" class="ptolemy.data.expr.StringParameter" value="DataCollectChannel">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="545.0, 65.0">
            </property>
            <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
        </port>
        <port name="report2" class="ptolemy.domains.wireless.kernel.WirelessIOPort">
            <property name="output"/>
            <property name="outsideChannel" class="ptolemy.data.expr.StringParameter" value="CollisionReportChannel">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="545.0, 105.0">
            </property>
            <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
        </port>
        <entity name="PoissonClock" class="ptolemy.actor.lib.PoissonClock">
            <property name="meanTime" class="ptolemy.data.expr.Parameter" value="TrafficDensity">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="85.0, 105.0">
            </property>
        </entity>
        <entity name="modal model" class="ptolemy.domains.fsm.modal.ModalModel">
            <property name="_tableauFactory" class="ptolemy.vergil.fsm.modal.ModalTableauFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="270.0, 115.0">
            </property>
            <port name="data" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="channelState" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="senseChannel" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
            </port>
            <port name="outMSG" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="NORTH">
                </property>
            </port>
            <port name="randomWait" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="output"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="wakeUp" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="output"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <entity name="_Controller" class="ptolemy.domains.fsm.modal.ModalController">
                <property name="initialStateName" class="ptolemy.kernel.util.StringAttribute" value="idle">
                </property>
                <property name="_library" class="ptolemy.moml.LibraryAttribute">
                    <configure><entity name="state library" class="ptolemy.kernel.CompositeEntity"><input source="ptolemy/configs/basicUtilities.xml"></input><entity name="state" class="ptolemy.domains.fsm.kernel.State"><property name="_centerName" class="ptolemy.kernel.util.Attribute"></property></entity></entity></configure>
                </property>
                <port name="data" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="40.0, 95.0">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="channelState" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="35.0, 185.0">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="senseChannel" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="535.0, 70.0">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="outMSG" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="535.0, 155.0">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="randomWait" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="30.0, 260.0">
                    </property>
                    <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                </port>
                <port name="wakeUp" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="30.0, 330.0">
                    </property>
                    <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                </port>
                <entity name="idle" class="ptolemy.domains.fsm.kernel.State">
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="115.0, 145.0">
                    </property>
                </entity>
                <entity name="senseAir" class="ptolemy.domains.fsm.kernel.State">
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="255.0, 120.0">
                    </property>
                </entity>
                <entity name="randomWait" class="ptolemy.domains.fsm.kernel.State">
                    <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="randomWait">
                    </property>
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="460.0, 125.0">
                    </property>
                </entity>
                <entity name="Emit" class="ptolemy.domains.fsm.kernel.State">
                    <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="Emit">
                    </property>
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="270.0, 355.0">
                    </property>
                </entity>
                <relation name="relation" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="data_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="senseChannel = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.7290251868073567">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-0.2479894981275352">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation2" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="channelState_isPresent &amp;&amp; channelState == &quot;BUSY&quot;">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="randomWait = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.8816266690949863">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="0.3014559376966855">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation3" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="wakeUp_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="senseChannel = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.7432607920971347">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.969499643808648">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation4" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="channelState_isPresent &amp;&amp; channelState == &quot;FREE&quot;">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="outMSG = &quot;MSG&quot;; randomWait = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.04481040911079372">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="1.5101165449404714">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation5" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="wakeUp_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="outMSG = &quot;END&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.28882718043739275">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.217615632874857">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <link port="idle.incomingPort" relation="relation5"/>
                <link port="idle.outgoingPort" relation="relation"/>
                <link port="senseAir.incomingPort" relation="relation"/>
                <link port="senseAir.incomingPort" relation="relation3"/>
                <link port="senseAir.outgoingPort" relation="relation2"/>
                <link port="senseAir.outgoingPort" relation="relation4"/>
                <link port="randomWait.incomingPort" relation="relation2"/>
                <link port="randomWait.outgoingPort" relation="relation3"/>
                <link port="Emit.incomingPort" relation="relation4"/>
                <link port="Emit.outgoingPort" relation="relation5"/>
            </entity>
            <entity name="randomWait" class="ptolemy.domains.fsm.modal.Refinement">
                <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
                    <property name="startTime" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                    <property name="stopTime" class="ptolemy.data.expr.Parameter" value="1.7976931348623E308">
                    </property>
                    <property name="stopWhenQueueIsEmpty" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="synchronizeToRealTime" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="isCQAdaptive" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="minBinCount" class="ptolemy.data.expr.Parameter" value="2">
                    </property>
                    <property name="binCountFactor" class="ptolemy.data.expr.Parameter" value="2">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 40.0">
                    </property>
                </property>
                <port name="data" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="45.0, 125.0">
                    </property>
                </port>
                <port name="channelState" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="55.0, 215.0">
                    </property>
                </port>
                <port name="senseChannel" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="415.0, 160.0">
                    </property>
                </port>
                <port name="outMSG" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="525.0, 325.0">
                    </property>
                </port>
                <port name="randomWait" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="70.0, 280.0">
                    </property>
                </port>
                <port name="wakeUp" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="420.0, 255.0">
                    </property>
                </port>
                <entity name="VariableDelay" class="ptolemy.domains.de.lib.VariableDelay">
                    <property name="defaultDelay" class="ptolemy.data.expr.Parameter" value="1.0">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="290.0, 250.0">
                    </property>
                </entity>
                <entity name="Uniform" class="ptolemy.actor.lib.Uniform">
                    <property name="seed" class="ptolemy.data.expr.Parameter" value="0L">
                    </property>
                    <property name="lowerBound" class="ptolemy.data.expr.Parameter" value="MinWaiting">
                    </property>
                    <property name="upperBound" class="ptolemy.data.expr.Parameter" value="MaxWaiting">
                    </property>
                    <doc>Create a sequence of uniformly distributed random numbers</doc>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="190.0, 315.0">
                    </property>
                </entity>
                <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                    <vertex name="vertex1" value="145.0, 240.0">
                    </vertex>
                </relation>
                <relation name="relation" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                </relation>
                <link port="randomWait" relation="relation2"/>
                <link port="wakeUp" relation="relation3"/>
                <link port="VariableDelay.input" relation="relation2"/>
                <link port="VariableDelay.output" relation="relation3"/>
                <link port="VariableDelay.delay" relation="relation"/>
                <link port="Uniform.output" relation="relation"/>
                <link port="Uniform.trigger" relation="relation2"/>
            </entity>
            <entity name="Emit" class="ptolemy.domains.fsm.modal.Refinement">
                <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
                    <property name="startTime" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                    <property name="stopTime" class="ptolemy.data.expr.Parameter" value="1.7976931348623E308">
                    </property>
                    <property name="stopWhenQueueIsEmpty" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="synchronizeToRealTime" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="isCQAdaptive" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="minBinCount" class="ptolemy.data.expr.Parameter" value="2">
                    </property>
                    <property name="binCountFactor" class="ptolemy.data.expr.Parameter" value="2">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="270.0, 85.0">
                    </property>
                </property>
                <port name="data" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="55.0, 305.0">
                    </property>
                </port>
                <port name="channelState" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="100.0, 150.0">
                    </property>
                </port>
                <port name="senseChannel" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="90.0, 60.0">
                    </property>
                </port>
                <port name="outMSG" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="40.0, 205.0">
                    </property>
                </port>
                <port name="randomWait" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="85.0, 275.0">
                    </property>
                </port>
                <port name="wakeUp" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="485.0, 210.0">
                    </property>
                </port>
                <entity name="Uniform" class="ptolemy.actor.lib.Uniform">
                    <property name="seed" class="ptolemy.data.expr.Parameter" value="10L">
                    </property>
                    <property name="lowerBound" class="ptolemy.data.expr.Parameter" value="MinTxTime">
                    </property>
                    <property name="upperBound" class="ptolemy.data.expr.Parameter" value="MaxTxTime">
                    </property>
                    <doc>Create a sequence of uniformly distributed random numbers</doc>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="190.0, 315.0">
                    </property>
                </entity>
                <entity name="VariableDelay" class="ptolemy.domains.de.lib.VariableDelay">
                    <property name="defaultDelay" class="ptolemy.data.expr.Parameter" value="1.0">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="290.0, 250.0">
                    </property>
                </entity>
                <relation name="relation" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                    <vertex name="vertex1" value="145.0, 240.0">
                    </vertex>
                </relation>
                <relation name="relation4" class="ptolemy.actor.TypedIORelation">
                </relation>
                <link port="randomWait" relation="relation2"/>
                <link port="wakeUp" relation="relation4"/>
                <link port="Uniform.output" relation="relation"/>
                <link port="Uniform.trigger" relation="relation2"/>
                <link port="VariableDelay.input" relation="relation2"/>
                <link port="VariableDelay.output" relation="relation4"/>
                <link port="VariableDelay.delay" relation="relation"/>
            </entity>
            <relation name="dataRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="channelStateRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="senseChannelRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="outMSGRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="randomWaitRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="wakeUpRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="data" relation="dataRelation"/>
            <link port="channelState" relation="channelStateRelation"/>
            <link port="senseChannel" relation="senseChannelRelation"/>
            <link port="outMSG" relation="outMSGRelation"/>
            <link port="randomWait" relation="randomWaitRelation"/>
            <link port="wakeUp" relation="wakeUpRelation"/>
            <link port="_Controller.data" relation="dataRelation"/>
            <link port="_Controller.channelState" relation="channelStateRelation"/>
            <link port="_Controller.senseChannel" relation="senseChannelRelation"/>
            <link port="_Controller.outMSG" relation="outMSGRelation"/>
            <link port="_Controller.randomWait" relation="randomWaitRelation"/>
            <link port="_Controller.wakeUp" relation="wakeUpRelation"/>
            <link port="randomWait.data" relation="dataRelation"/>
            <link port="randomWait.channelState" relation="channelStateRelation"/>
            <link port="randomWait.senseChannel" relation="senseChannelRelation"/>
            <link port="randomWait.outMSG" relation="outMSGRelation"/>
            <link port="randomWait.randomWait" relation="randomWaitRelation"/>
            <link port="randomWait.wakeUp" relation="wakeUpRelation"/>
            <link port="Emit.data" relation="dataRelation"/>
            <link port="Emit.channelState" relation="channelStateRelation"/>
            <link port="Emit.senseChannel" relation="senseChannelRelation"/>
            <link port="Emit.outMSG" relation="outMSGRelation"/>
            <link port="Emit.randomWait" relation="randomWaitRelation"/>
            <link port="Emit.wakeUp" relation="wakeUpRelation"/>
        </entity>
        <entity name="TimedDelay" class="ptolemy.domains.de.lib.TimedDelay">
            <property name="delay" class="ptolemy.data.expr.Parameter" value="1.0">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="505.0, 300.0">
            </property>
        </entity>
        <entity name="For analysis" class="ptolemy.actor.TypedCompositeActor">
            <property name="_location" class="ptolemy.kernel.util.Location" value="470.0, 65.0">
            </property>
            <port name="time1" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 130.0">
                </property>
            </port>
            <port name="time2" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 185.0">
                </property>
            </port>
            <port name="report" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="465.0, 150.0">
                </property>
            </port>
            <port name="collision" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="SOUTH">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 255.0">
                </property>
            </port>
            <port name="report2" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="SOUTH">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="440.0, 265.0">
                </property>
            </port>
            <entity name="WaitingTime" class="ptolemy.domains.de.lib.WaitingTime">
                <property name="_location" class="ptolemy.kernel.util.Location" value="210.0, 140.0">
                </property>
            </entity>
            <entity name="RecordAssembler" class="ptolemy.actor.lib.RecordAssembler">
                <property name="_location" class="ptolemy.kernel.util.Location" value="340.0, 110.0">
                </property>
                <port name="id" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
                <port name="time" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
            </entity>
            <entity name="Const" class="ptolemy.actor.lib.Const">
                <property name="value" class="ptolemy.data.expr.Parameter" value="id">
                </property>
                <doc>Create a constant sequence</doc>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="300.0, 85.0">
                </property>
            </entity>
            <entity name="CurrentTime" class="ptolemy.actor.lib.CurrentTime">
                <doc>Output the current time.</doc>
                <property name="_location" class="ptolemy.kernel.util.Location" value="165.0, 290.0">
                </property>
            </entity>
            <entity name="RecordAssembler2" class="ptolemy.actor.lib.RecordAssembler">
                <property name="_location" class="ptolemy.kernel.util.Location" value="300.0, 245.0">
                </property>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                    </property>
                </port>
                <port name="collisionId" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="detectTime" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
            </entity>
            <entity name="Const2" class="ptolemy.actor.lib.Const">
                <property name="value" class="ptolemy.data.expr.Parameter" value="id">
                </property>
                <doc>Create a constant sequence</doc>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="165.0, 220.0">
                </property>
            </entity>
            <relation name="relation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation2" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="270.0, 140.0">
                </vertex>
            </relation>
            <relation name="relation4" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation8" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="120.0, 255.0">
                </vertex>
            </relation>
            <relation name="relation7" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation10" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation5" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation6" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="time1" relation="relation"/>
            <link port="time2" relation="relation2"/>
            <link port="report" relation="relation6"/>
            <link port="collision" relation="relation8"/>
            <link port="report2" relation="relation5"/>
            <link port="WaitingTime.output" relation="relation3"/>
            <link port="WaitingTime.waiter" relation="relation"/>
            <link port="WaitingTime.waitee" relation="relation2"/>
            <link port="RecordAssembler.output" relation="relation6"/>
            <link port="RecordAssembler.id" relation="relation4"/>
            <link port="RecordAssembler.time" relation="relation3"/>
            <link port="Const.output" relation="relation4"/>
            <link port="Const.trigger" relation="relation3"/>
            <link port="CurrentTime.output" relation="relation7"/>
            <link port="CurrentTime.trigger" relation="relation8"/>
            <link port="RecordAssembler2.output" relation="relation5"/>
            <link port="RecordAssembler2.collisionId" relation="relation10"/>
            <link port="RecordAssembler2.detectTime" relation="relation7"/>
            <link port="Const2.output" relation="relation10"/>
            <link port="Const2.trigger" relation="relation8"/>
        </entity>
        <entity name="modal model2" class="ptolemy.domains.fsm.modal.ModalModel">
            <property name="_tableauFactory" class="ptolemy.vergil.fsm.modal.ModalTableauFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="145.0, 185.0">
            </property>
            <port name="inMSG" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="channelState" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
            </port>
            <port name="senseChannel" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="collision" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
            </port>
            <entity name="_Controller" class="ptolemy.domains.fsm.modal.ModalController">
                <property name="initialStateName" class="ptolemy.kernel.util.StringAttribute" value="idle">
                </property>
                <property name="_library" class="ptolemy.moml.LibraryAttribute">
                    <configure>
        <entity name="state library" class="ptolemy.kernel.CompositeEntity"><input source="ptolemy/configs/basicUtilities.xml"></input><entity name="state" class="ptolemy.domains.fsm.kernel.State"><property name="_centerName" class="ptolemy.kernel.util.Attribute"></property><property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory"></property></entity></entity>
      </configure>
                </property>
                <port name="inMSG" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="0.0, 0.0">
                    </property>
                </port>
                <port name="channelState" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="335.0, 90.0">
                    </property>
                </port>
                <port name="senseChannel" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="-5.0, 90.0">
                    </property>
                </port>
                <port name="collision" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="240.0, 25.0">
                    </property>
                </port>
                <entity name="idle" class="ptolemy.domains.fsm.kernel.State">
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="190.5, 187.28129322224544">
                    </property>
                </entity>
                <entity name="receive" class="ptolemy.domains.fsm.kernel.State">
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="425.0, 195.0">
                    </property>
                </entity>
                <relation name="relation" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="inMSG_isPresent &amp;&amp; inMSG == &quot;END&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.9564982454336546">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation2" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="inMSG_isPresent &amp;&amp; inMSG == &quot;MSG&quot;">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="collision = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="2.512139297546763">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-0.21451248805933695">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation3" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="senseChannel_isPresent &amp;&amp; ! inMSG_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="channelState = &quot;BUSY&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="2.356194490192345">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.0687929371738796">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation4" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="senseChannel_isPresent &amp;&amp; !inMSG_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="channelState = &quot;FREE&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="2.13592263986528">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="1.4616814519565946">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation5" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="inMSG_isPresent &amp;&amp; inMSG == &quot;MSG&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="0.11144946119379541">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <link port="idle.incomingPort" relation="relation"/>
                <link port="idle.incomingPort" relation="relation4"/>
                <link port="idle.outgoingPort" relation="relation5"/>
                <link port="idle.outgoingPort" relation="relation4"/>
                <link port="receive.incomingPort" relation="relation5"/>
                <link port="receive.incomingPort" relation="relation2"/>
                <link port="receive.incomingPort" relation="relation3"/>
                <link port="receive.outgoingPort" relation="relation"/>
                <link port="receive.outgoingPort" relation="relation2"/>
                <link port="receive.outgoingPort" relation="relation3"/>
            </entity>
            <relation name="inMSGRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="channelStateRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="senseChannelRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="collisionRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="inMSG" relation="inMSGRelation"/>
            <link port="channelState" relation="channelStateRelation"/>
            <link port="senseChannel" relation="senseChannelRelation"/>
            <link port="collision" relation="collisionRelation"/>
            <link port="_Controller.inMSG" relation="inMSGRelation"/>
            <link port="_Controller.channelState" relation="channelStateRelation"/>
            <link port="_Controller.senseChannel" relation="senseChannelRelation"/>
            <link port="_Controller.collision" relation="collisionRelation"/>
        </entity>
        <relation name="relation5" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation7" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation8" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="210.0, 55.0">
            </vertex>
        </relation>
        <relation name="relation2" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="405.0, 75.0">
            </vertex>
        </relation>
        <relation name="relation6" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="465.0, 195.0">
            </vertex>
        </relation>
        <relation name="relation9" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation10" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation4" class="ptolemy.actor.TypedIORelation">
        </relation>
        <link port="in" relation="relation10"/>
        <link port="out" relation="relation2"/>
        <link port="report" relation="relation7"/>
        <link port="report2" relation="relation9"/>
        <link port="PoissonClock.output" relation="relation8"/>
        <link port="modal model.data" relation="relation8"/>
        <link port="modal model.channelState" relation="relation4"/>
        <link port="modal model.senseChannel" relation="relation5"/>
        <link port="modal model.outMSG" relation="relation2"/>
        <link port="TimedDelay.input" relation="relation5"/>
        <link port="TimedDelay.output" relation="relation"/>
        <link port="For analysis.time1" relation="relation8"/>
        <link port="For analysis.time2" relation="relation2"/>
        <link port="For analysis.report" relation="relation7"/>
        <link port="For analysis.collision" relation="relation6"/>
        <link port="For analysis.report2" relation="relation9"/>
        <link port="modal model2.inMSG" relation="relation10"/>
        <link port="modal model2.channelState" relation="relation4"/>
        <link port="modal model2.senseChannel" relation="relation"/>
        <link port="modal model2.collision" relation="relation6"/>
    </entity>
    <entity name="node11" class="ptolemy.domains.wireless.kernel.WirelessComposite">
        <property name="_location" class="ptolemy.kernel.util.Location" value="50.0, 415.0">
        </property>
        <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
            <property name="startTime" class="ptolemy.data.expr.Parameter" value="0.0">
            </property>
            <property name="stopTime" class="ptolemy.data.expr.Parameter" value="1.7976931348623E308">
            </property>
            <property name="stopWhenQueueIsEmpty" class="ptolemy.data.expr.Parameter" value="true">
            </property>
            <property name="synchronizeToRealTime" class="ptolemy.data.expr.Parameter" value="false">
            </property>
            <property name="isCQAdaptive" class="ptolemy.data.expr.Parameter" value="true">
            </property>
            <property name="minBinCount" class="ptolemy.data.expr.Parameter" value="2">
            </property>
            <property name="binCountFactor" class="ptolemy.data.expr.Parameter" value="2">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 40.0">
            </property>
        </property>
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={106, 164, 815, 518}, maximized=false}">
        </property>
        <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[600, 400]">
        </property>
        <property name="id" class="ptolemy.data.expr.Parameter" value="16">
        </property>
        <property name="annotation" class="ptolemy.kernel.util.Attribute">
            <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
            <property name="_iconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure><svg><text x="20" y="20" style="font-size:14; font-family:SansSerif; fill:blue">The protocol assumes that propagation takes no time but transmission takes time
that depends on the package's size. When having data to send, it first sense 
whether the channel is free or busy. If free, send the data, if not, then wait
for a random time and try again. The detection inteface is provided by the senseAir 
component. </text></svg></configure>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-A-</text>
      </svg>
    </configure>
            </property>
            <property name="_controllerFactory" class="ptolemy.vergil.basic.NodeControllerFactory">
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.AnnotationEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="-50.0, 370.0">
            </property>
        </property>
        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <port name="in" class="ptolemy.domains.wireless.kernel.WirelessIOPort">
            <property name="input"/>
            <property name="outsideChannel" class="ptolemy.data.expr.StringParameter" value="LimitedRangeChannel">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="70.0, 175.0">
            </property>
            <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
        </port>
        <port name="out" class="ptolemy.domains.wireless.kernel.WirelessIOPort">
            <property name="output"/>
            <property name="outsideChannel" class="ptolemy.data.expr.StringParameter" value="LimitedRangeChannel">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="425.0, 145.0">
            </property>
            <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
        </port>
        <port name="report" class="ptolemy.domains.wireless.kernel.WirelessIOPort">
            <property name="output"/>
            <property name="outsideChannel" class="ptolemy.data.expr.StringParameter" value="DataCollectChannel">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="545.0, 65.0">
            </property>
            <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
        </port>
        <port name="report2" class="ptolemy.domains.wireless.kernel.WirelessIOPort">
            <property name="output"/>
            <property name="outsideChannel" class="ptolemy.data.expr.StringParameter" value="CollisionReportChannel">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="545.0, 105.0">
            </property>
            <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
        </port>
        <entity name="PoissonClock" class="ptolemy.actor.lib.PoissonClock">
            <property name="meanTime" class="ptolemy.data.expr.Parameter" value="TrafficDensity">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="85.0, 105.0">
            </property>
        </entity>
        <entity name="modal model" class="ptolemy.domains.fsm.modal.ModalModel">
            <property name="_tableauFactory" class="ptolemy.vergil.fsm.modal.ModalTableauFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="270.0, 115.0">
            </property>
            <port name="data" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="channelState" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="senseChannel" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
            </port>
            <port name="outMSG" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="NORTH">
                </property>
            </port>
            <port name="randomWait" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="output"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="wakeUp" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="output"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <entity name="_Controller" class="ptolemy.domains.fsm.modal.ModalController">
                <property name="initialStateName" class="ptolemy.kernel.util.StringAttribute" value="idle">
                </property>
                <property name="_library" class="ptolemy.moml.LibraryAttribute">
                    <configure><entity name="state library" class="ptolemy.kernel.CompositeEntity"><input source="ptolemy/configs/basicUtilities.xml"></input><entity name="state" class="ptolemy.domains.fsm.kernel.State"><property name="_centerName" class="ptolemy.kernel.util.Attribute"></property></entity></entity></configure>
                </property>
                <port name="data" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="40.0, 95.0">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="channelState" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="35.0, 185.0">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="senseChannel" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="535.0, 70.0">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="outMSG" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="535.0, 155.0">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="randomWait" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="30.0, 260.0">
                    </property>
                    <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                </port>
                <port name="wakeUp" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="30.0, 330.0">
                    </property>
                    <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                </port>
                <entity name="idle" class="ptolemy.domains.fsm.kernel.State">
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="115.0, 145.0">
                    </property>
                </entity>
                <entity name="senseAir" class="ptolemy.domains.fsm.kernel.State">
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="255.0, 120.0">
                    </property>
                </entity>
                <entity name="randomWait" class="ptolemy.domains.fsm.kernel.State">
                    <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="randomWait">
                    </property>
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="460.0, 125.0">
                    </property>
                </entity>
                <entity name="Emit" class="ptolemy.domains.fsm.kernel.State">
                    <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="Emit">
                    </property>
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="270.0, 355.0">
                    </property>
                </entity>
                <relation name="relation" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="data_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="senseChannel = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.7290251868073567">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-0.2479894981275352">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation2" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="channelState_isPresent &amp;&amp; channelState == &quot;BUSY&quot;">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="randomWait = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.8816266690949863">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="0.3014559376966855">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation3" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="wakeUp_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="senseChannel = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.7432607920971347">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.969499643808648">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation4" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="channelState_isPresent &amp;&amp; channelState == &quot;FREE&quot;">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="outMSG = &quot;MSG&quot;; randomWait = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.04481040911079372">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="1.5101165449404714">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation5" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="wakeUp_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="outMSG = &quot;END&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.28882718043739275">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.217615632874857">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <link port="idle.incomingPort" relation="relation5"/>
                <link port="idle.outgoingPort" relation="relation"/>
                <link port="senseAir.incomingPort" relation="relation"/>
                <link port="senseAir.incomingPort" relation="relation3"/>
                <link port="senseAir.outgoingPort" relation="relation2"/>
                <link port="senseAir.outgoingPort" relation="relation4"/>
                <link port="randomWait.incomingPort" relation="relation2"/>
                <link port="randomWait.outgoingPort" relation="relation3"/>
                <link port="Emit.incomingPort" relation="relation4"/>
                <link port="Emit.outgoingPort" relation="relation5"/>
            </entity>
            <entity name="randomWait" class="ptolemy.domains.fsm.modal.Refinement">
                <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
                    <property name="startTime" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                    <property name="stopTime" class="ptolemy.data.expr.Parameter" value="1.7976931348623E308">
                    </property>
                    <property name="stopWhenQueueIsEmpty" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="synchronizeToRealTime" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="isCQAdaptive" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="minBinCount" class="ptolemy.data.expr.Parameter" value="2">
                    </property>
                    <property name="binCountFactor" class="ptolemy.data.expr.Parameter" value="2">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 40.0">
                    </property>
                </property>
                <port name="data" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="45.0, 125.0">
                    </property>
                </port>
                <port name="channelState" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="55.0, 215.0">
                    </property>
                </port>
                <port name="senseChannel" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="415.0, 160.0">
                    </property>
                </port>
                <port name="outMSG" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="525.0, 325.0">
                    </property>
                </port>
                <port name="randomWait" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="70.0, 280.0">
                    </property>
                </port>
                <port name="wakeUp" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="420.0, 255.0">
                    </property>
                </port>
                <entity name="VariableDelay" class="ptolemy.domains.de.lib.VariableDelay">
                    <property name="defaultDelay" class="ptolemy.data.expr.Parameter" value="1.0">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="290.0, 250.0">
                    </property>
                </entity>
                <entity name="Uniform" class="ptolemy.actor.lib.Uniform">
                    <property name="seed" class="ptolemy.data.expr.Parameter" value="0L">
                    </property>
                    <property name="lowerBound" class="ptolemy.data.expr.Parameter" value="MinWaiting">
                    </property>
                    <property name="upperBound" class="ptolemy.data.expr.Parameter" value="MaxWaiting">
                    </property>
                    <doc>Create a sequence of uniformly distributed random numbers</doc>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="190.0, 315.0">
                    </property>
                </entity>
                <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                    <vertex name="vertex1" value="145.0, 240.0">
                    </vertex>
                </relation>
                <relation name="relation" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                </relation>
                <link port="randomWait" relation="relation2"/>
                <link port="wakeUp" relation="relation3"/>
                <link port="VariableDelay.input" relation="relation2"/>
                <link port="VariableDelay.output" relation="relation3"/>
                <link port="VariableDelay.delay" relation="relation"/>
                <link port="Uniform.output" relation="relation"/>
                <link port="Uniform.trigger" relation="relation2"/>
            </entity>
            <entity name="Emit" class="ptolemy.domains.fsm.modal.Refinement">
                <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
                    <property name="startTime" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                    <property name="stopTime" class="ptolemy.data.expr.Parameter" value="1.7976931348623E308">
                    </property>
                    <property name="stopWhenQueueIsEmpty" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="synchronizeToRealTime" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="isCQAdaptive" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="minBinCount" class="ptolemy.data.expr.Parameter" value="2">
                    </property>
                    <property name="binCountFactor" class="ptolemy.data.expr.Parameter" value="2">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="270.0, 85.0">
                    </property>
                </property>
                <port name="data" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="55.0, 305.0">
                    </property>
                </port>
                <port name="channelState" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="100.0, 150.0">
                    </property>
                </port>
                <port name="senseChannel" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="90.0, 60.0">
                    </property>
                </port>
                <port name="outMSG" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="40.0, 205.0">
                    </property>
                </port>
                <port name="randomWait" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="85.0, 275.0">
                    </property>
                </port>
                <port name="wakeUp" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="485.0, 210.0">
                    </property>
                </port>
                <entity name="Uniform" class="ptolemy.actor.lib.Uniform">
                    <property name="seed" class="ptolemy.data.expr.Parameter" value="10L">
                    </property>
                    <property name="lowerBound" class="ptolemy.data.expr.Parameter" value="MinTxTime">
                    </property>
                    <property name="upperBound" class="ptolemy.data.expr.Parameter" value="MaxTxTime">
                    </property>
                    <doc>Create a sequence of uniformly distributed random numbers</doc>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="190.0, 315.0">
                    </property>
                </entity>
                <entity name="VariableDelay" class="ptolemy.domains.de.lib.VariableDelay">
                    <property name="defaultDelay" class="ptolemy.data.expr.Parameter" value="1.0">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="290.0, 250.0">
                    </property>
                </entity>
                <relation name="relation" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                    <vertex name="vertex1" value="145.0, 240.0">
                    </vertex>
                </relation>
                <relation name="relation4" class="ptolemy.actor.TypedIORelation">
                </relation>
                <link port="randomWait" relation="relation2"/>
                <link port="wakeUp" relation="relation4"/>
                <link port="Uniform.output" relation="relation"/>
                <link port="Uniform.trigger" relation="relation2"/>
                <link port="VariableDelay.input" relation="relation2"/>
                <link port="VariableDelay.output" relation="relation4"/>
                <link port="VariableDelay.delay" relation="relation"/>
            </entity>
            <relation name="dataRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="channelStateRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="senseChannelRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="outMSGRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="randomWaitRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="wakeUpRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="data" relation="dataRelation"/>
            <link port="channelState" relation="channelStateRelation"/>
            <link port="senseChannel" relation="senseChannelRelation"/>
            <link port="outMSG" relation="outMSGRelation"/>
            <link port="randomWait" relation="randomWaitRelation"/>
            <link port="wakeUp" relation="wakeUpRelation"/>
            <link port="_Controller.data" relation="dataRelation"/>
            <link port="_Controller.channelState" relation="channelStateRelation"/>
            <link port="_Controller.senseChannel" relation="senseChannelRelation"/>
            <link port="_Controller.outMSG" relation="outMSGRelation"/>
            <link port="_Controller.randomWait" relation="randomWaitRelation"/>
            <link port="_Controller.wakeUp" relation="wakeUpRelation"/>
            <link port="randomWait.data" relation="dataRelation"/>
            <link port="randomWait.channelState" relation="channelStateRelation"/>
            <link port="randomWait.senseChannel" relation="senseChannelRelation"/>
            <link port="randomWait.outMSG" relation="outMSGRelation"/>
            <link port="randomWait.randomWait" relation="randomWaitRelation"/>
            <link port="randomWait.wakeUp" relation="wakeUpRelation"/>
            <link port="Emit.data" relation="dataRelation"/>
            <link port="Emit.channelState" relation="channelStateRelation"/>
            <link port="Emit.senseChannel" relation="senseChannelRelation"/>
            <link port="Emit.outMSG" relation="outMSGRelation"/>
            <link port="Emit.randomWait" relation="randomWaitRelation"/>
            <link port="Emit.wakeUp" relation="wakeUpRelation"/>
        </entity>
        <entity name="TimedDelay" class="ptolemy.domains.de.lib.TimedDelay">
            <property name="delay" class="ptolemy.data.expr.Parameter" value="1.0">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="505.0, 300.0">
            </property>
        </entity>
        <entity name="For analysis" class="ptolemy.actor.TypedCompositeActor">
            <property name="_location" class="ptolemy.kernel.util.Location" value="470.0, 65.0">
            </property>
            <port name="time1" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 130.0">
                </property>
            </port>
            <port name="time2" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 185.0">
                </property>
            </port>
            <port name="report" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="465.0, 150.0">
                </property>
            </port>
            <port name="collision" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="SOUTH">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 255.0">
                </property>
            </port>
            <port name="report2" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="SOUTH">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="440.0, 265.0">
                </property>
            </port>
            <entity name="WaitingTime" class="ptolemy.domains.de.lib.WaitingTime">
                <property name="_location" class="ptolemy.kernel.util.Location" value="210.0, 140.0">
                </property>
            </entity>
            <entity name="RecordAssembler" class="ptolemy.actor.lib.RecordAssembler">
                <property name="_location" class="ptolemy.kernel.util.Location" value="340.0, 110.0">
                </property>
                <port name="id" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
                <port name="time" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
            </entity>
            <entity name="Const" class="ptolemy.actor.lib.Const">
                <property name="value" class="ptolemy.data.expr.Parameter" value="id">
                </property>
                <doc>Create a constant sequence</doc>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="300.0, 85.0">
                </property>
            </entity>
            <entity name="CurrentTime" class="ptolemy.actor.lib.CurrentTime">
                <doc>Output the current time.</doc>
                <property name="_location" class="ptolemy.kernel.util.Location" value="165.0, 290.0">
                </property>
            </entity>
            <entity name="RecordAssembler2" class="ptolemy.actor.lib.RecordAssembler">
                <property name="_location" class="ptolemy.kernel.util.Location" value="300.0, 245.0">
                </property>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                    </property>
                </port>
                <port name="collisionId" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="detectTime" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
            </entity>
            <entity name="Const2" class="ptolemy.actor.lib.Const">
                <property name="value" class="ptolemy.data.expr.Parameter" value="id">
                </property>
                <doc>Create a constant sequence</doc>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="165.0, 220.0">
                </property>
            </entity>
            <relation name="relation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation2" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="270.0, 140.0">
                </vertex>
            </relation>
            <relation name="relation4" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation8" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="120.0, 255.0">
                </vertex>
            </relation>
            <relation name="relation7" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation10" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation5" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation6" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="time1" relation="relation"/>
            <link port="time2" relation="relation2"/>
            <link port="report" relation="relation6"/>
            <link port="collision" relation="relation8"/>
            <link port="report2" relation="relation5"/>
            <link port="WaitingTime.output" relation="relation3"/>
            <link port="WaitingTime.waiter" relation="relation"/>
            <link port="WaitingTime.waitee" relation="relation2"/>
            <link port="RecordAssembler.output" relation="relation6"/>
            <link port="RecordAssembler.id" relation="relation4"/>
            <link port="RecordAssembler.time" relation="relation3"/>
            <link port="Const.output" relation="relation4"/>
            <link port="Const.trigger" relation="relation3"/>
            <link port="CurrentTime.output" relation="relation7"/>
            <link port="CurrentTime.trigger" relation="relation8"/>
            <link port="RecordAssembler2.output" relation="relation5"/>
            <link port="RecordAssembler2.collisionId" relation="relation10"/>
            <link port="RecordAssembler2.detectTime" relation="relation7"/>
            <link port="Const2.output" relation="relation10"/>
            <link port="Const2.trigger" relation="relation8"/>
        </entity>
        <entity name="modal model2" class="ptolemy.domains.fsm.modal.ModalModel">
            <property name="_tableauFactory" class="ptolemy.vergil.fsm.modal.ModalTableauFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="145.0, 185.0">
            </property>
            <port name="inMSG" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="channelState" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
            </port>
            <port name="senseChannel" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="collision" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
            </port>
            <entity name="_Controller" class="ptolemy.domains.fsm.modal.ModalController">
                <property name="initialStateName" class="ptolemy.kernel.util.StringAttribute" value="idle">
                </property>
                <property name="_library" class="ptolemy.moml.LibraryAttribute">
                    <configure>
        <entity name="state library" class="ptolemy.kernel.CompositeEntity"><input source="ptolemy/configs/basicUtilities.xml"></input><entity name="state" class="ptolemy.domains.fsm.kernel.State"><property name="_centerName" class="ptolemy.kernel.util.Attribute"></property><property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory"></property></entity></entity>
      </configure>
                </property>
                <port name="inMSG" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="0.0, 0.0">
                    </property>
                </port>
                <port name="channelState" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="335.0, 90.0">
                    </property>
                </port>
                <port name="senseChannel" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="-5.0, 90.0">
                    </property>
                </port>
                <port name="collision" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="240.0, 25.0">
                    </property>
                </port>
                <entity name="idle" class="ptolemy.domains.fsm.kernel.State">
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="190.5, 187.28129322224544">
                    </property>
                </entity>
                <entity name="receive" class="ptolemy.domains.fsm.kernel.State">
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="425.0, 195.0">
                    </property>
                </entity>
                <relation name="relation" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="inMSG_isPresent &amp;&amp; inMSG == &quot;END&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.9564982454336546">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation2" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="inMSG_isPresent &amp;&amp; inMSG == &quot;MSG&quot;">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="collision = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="2.512139297546763">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-0.21451248805933695">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation3" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="senseChannel_isPresent &amp;&amp; ! inMSG_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="channelState = &quot;BUSY&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="2.356194490192345">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.0687929371738796">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation4" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="senseChannel_isPresent &amp;&amp; !inMSG_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="channelState = &quot;FREE&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="2.13592263986528">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="1.4616814519565946">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation5" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="inMSG_isPresent &amp;&amp; inMSG == &quot;MSG&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="0.11144946119379541">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <link port="idle.incomingPort" relation="relation"/>
                <link port="idle.incomingPort" relation="relation4"/>
                <link port="idle.outgoingPort" relation="relation5"/>
                <link port="idle.outgoingPort" relation="relation4"/>
                <link port="receive.incomingPort" relation="relation5"/>
                <link port="receive.incomingPort" relation="relation2"/>
                <link port="receive.incomingPort" relation="relation3"/>
                <link port="receive.outgoingPort" relation="relation"/>
                <link port="receive.outgoingPort" relation="relation2"/>
                <link port="receive.outgoingPort" relation="relation3"/>
            </entity>
            <relation name="inMSGRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="channelStateRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="senseChannelRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="collisionRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="inMSG" relation="inMSGRelation"/>
            <link port="channelState" relation="channelStateRelation"/>
            <link port="senseChannel" relation="senseChannelRelation"/>
            <link port="collision" relation="collisionRelation"/>
            <link port="_Controller.inMSG" relation="inMSGRelation"/>
            <link port="_Controller.channelState" relation="channelStateRelation"/>
            <link port="_Controller.senseChannel" relation="senseChannelRelation"/>
            <link port="_Controller.collision" relation="collisionRelation"/>
        </entity>
        <relation name="relation5" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation7" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation8" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="210.0, 55.0">
            </vertex>
        </relation>
        <relation name="relation2" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="405.0, 75.0">
            </vertex>
        </relation>
        <relation name="relation6" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="465.0, 195.0">
            </vertex>
        </relation>
        <relation name="relation9" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation10" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation4" class="ptolemy.actor.TypedIORelation">
        </relation>
        <link port="in" relation="relation10"/>
        <link port="out" relation="relation2"/>
        <link port="report" relation="relation7"/>
        <link port="report2" relation="relation9"/>
        <link port="PoissonClock.output" relation="relation8"/>
        <link port="modal model.data" relation="relation8"/>
        <link port="modal model.channelState" relation="relation4"/>
        <link port="modal model.senseChannel" relation="relation5"/>
        <link port="modal model.outMSG" relation="relation2"/>
        <link port="TimedDelay.input" relation="relation5"/>
        <link port="TimedDelay.output" relation="relation"/>
        <link port="For analysis.time1" relation="relation8"/>
        <link port="For analysis.time2" relation="relation2"/>
        <link port="For analysis.report" relation="relation7"/>
        <link port="For analysis.collision" relation="relation6"/>
        <link port="For analysis.report2" relation="relation9"/>
        <link port="modal model2.inMSG" relation="relation10"/>
        <link port="modal model2.channelState" relation="relation4"/>
        <link port="modal model2.senseChannel" relation="relation"/>
        <link port="modal model2.collision" relation="relation6"/>
    </entity>
    <entity name="node12" class="ptolemy.domains.wireless.kernel.WirelessComposite">
        <property name="_location" class="ptolemy.kernel.util.Location" value="160.0, 320.0">
        </property>
        <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
            <property name="startTime" class="ptolemy.data.expr.Parameter" value="0.0">
            </property>
            <property name="stopTime" class="ptolemy.data.expr.Parameter" value="1.7976931348623E308">
            </property>
            <property name="stopWhenQueueIsEmpty" class="ptolemy.data.expr.Parameter" value="true">
            </property>
            <property name="synchronizeToRealTime" class="ptolemy.data.expr.Parameter" value="false">
            </property>
            <property name="isCQAdaptive" class="ptolemy.data.expr.Parameter" value="true">
            </property>
            <property name="minBinCount" class="ptolemy.data.expr.Parameter" value="2">
            </property>
            <property name="binCountFactor" class="ptolemy.data.expr.Parameter" value="2">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 40.0">
            </property>
        </property>
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={106, 164, 815, 518}, maximized=false}">
        </property>
        <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[600, 400]">
        </property>
        <property name="id" class="ptolemy.data.expr.Parameter" value="12">
        </property>
        <property name="annotation" class="ptolemy.kernel.util.Attribute">
            <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
            <property name="_iconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure><svg><text x="20" y="20" style="font-size:14; font-family:SansSerif; fill:blue">The protocol assumes that propagation takes no time but transmission takes time
that depends on the package's size. When having data to send, it first sense 
whether the channel is free or busy. If free, send the data, if not, then wait
for a random time and try again. The detection inteface is provided by the senseAir 
component. </text></svg></configure>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-A-</text>
      </svg>
    </configure>
            </property>
            <property name="_controllerFactory" class="ptolemy.vergil.basic.NodeControllerFactory">
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.AnnotationEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="-50.0, 370.0">
            </property>
        </property>
        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <port name="in" class="ptolemy.domains.wireless.kernel.WirelessIOPort">
            <property name="input"/>
            <property name="outsideChannel" class="ptolemy.data.expr.StringParameter" value="LimitedRangeChannel">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="70.0, 175.0">
            </property>
            <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
        </port>
        <port name="out" class="ptolemy.domains.wireless.kernel.WirelessIOPort">
            <property name="output"/>
            <property name="outsideChannel" class="ptolemy.data.expr.StringParameter" value="LimitedRangeChannel">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="425.0, 145.0">
            </property>
            <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
        </port>
        <port name="report" class="ptolemy.domains.wireless.kernel.WirelessIOPort">
            <property name="output"/>
            <property name="outsideChannel" class="ptolemy.data.expr.StringParameter" value="DataCollectChannel">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="545.0, 65.0">
            </property>
            <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
        </port>
        <port name="report2" class="ptolemy.domains.wireless.kernel.WirelessIOPort">
            <property name="output"/>
            <property name="outsideChannel" class="ptolemy.data.expr.StringParameter" value="CollisionReportChannel">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="545.0, 105.0">
            </property>
            <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
        </port>
        <entity name="PoissonClock" class="ptolemy.actor.lib.PoissonClock">
            <property name="meanTime" class="ptolemy.data.expr.Parameter" value="TrafficDensity">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="85.0, 105.0">
            </property>
        </entity>
        <entity name="modal model" class="ptolemy.domains.fsm.modal.ModalModel">
            <property name="_tableauFactory" class="ptolemy.vergil.fsm.modal.ModalTableauFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="270.0, 115.0">
            </property>
            <port name="data" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="channelState" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="senseChannel" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
            </port>
            <port name="outMSG" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="NORTH">
                </property>
            </port>
            <port name="randomWait" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="output"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="wakeUp" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="output"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <entity name="_Controller" class="ptolemy.domains.fsm.modal.ModalController">
                <property name="initialStateName" class="ptolemy.kernel.util.StringAttribute" value="idle">
                </property>
                <property name="_library" class="ptolemy.moml.LibraryAttribute">
                    <configure><entity name="state library" class="ptolemy.kernel.CompositeEntity"><input source="ptolemy/configs/basicUtilities.xml"></input><entity name="state" class="ptolemy.domains.fsm.kernel.State"><property name="_centerName" class="ptolemy.kernel.util.Attribute"></property></entity></entity></configure>
                </property>
                <port name="data" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="40.0, 95.0">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="channelState" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="35.0, 185.0">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="senseChannel" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="535.0, 70.0">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="outMSG" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="535.0, 155.0">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="randomWait" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="30.0, 260.0">
                    </property>
                    <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                </port>
                <port name="wakeUp" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="30.0, 330.0">
                    </property>
                    <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                </port>
                <entity name="idle" class="ptolemy.domains.fsm.kernel.State">
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="115.0, 145.0">
                    </property>
                </entity>
                <entity name="senseAir" class="ptolemy.domains.fsm.kernel.State">
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="255.0, 120.0">
                    </property>
                </entity>
                <entity name="randomWait" class="ptolemy.domains.fsm.kernel.State">
                    <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="randomWait">
                    </property>
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="460.0, 125.0">
                    </property>
                </entity>
                <entity name="Emit" class="ptolemy.domains.fsm.kernel.State">
                    <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="Emit">
                    </property>
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="270.0, 355.0">
                    </property>
                </entity>
                <relation name="relation" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="data_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="senseChannel = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.7290251868073567">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-0.2479894981275352">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation2" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="channelState_isPresent &amp;&amp; channelState == &quot;BUSY&quot;">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="randomWait = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.8816266690949863">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="0.3014559376966855">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation3" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="wakeUp_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="senseChannel = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.7432607920971347">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.969499643808648">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation4" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="channelState_isPresent &amp;&amp; channelState == &quot;FREE&quot;">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="outMSG = &quot;MSG&quot;; randomWait = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.04481040911079372">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="1.5101165449404714">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation5" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="wakeUp_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="outMSG = &quot;END&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.28882718043739275">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.217615632874857">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <link port="idle.incomingPort" relation="relation5"/>
                <link port="idle.outgoingPort" relation="relation"/>
                <link port="senseAir.incomingPort" relation="relation"/>
                <link port="senseAir.incomingPort" relation="relation3"/>
                <link port="senseAir.outgoingPort" relation="relation2"/>
                <link port="senseAir.outgoingPort" relation="relation4"/>
                <link port="randomWait.incomingPort" relation="relation2"/>
                <link port="randomWait.outgoingPort" relation="relation3"/>
                <link port="Emit.incomingPort" relation="relation4"/>
                <link port="Emit.outgoingPort" relation="relation5"/>
            </entity>
            <entity name="randomWait" class="ptolemy.domains.fsm.modal.Refinement">
                <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
                    <property name="startTime" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                    <property name="stopTime" class="ptolemy.data.expr.Parameter" value="1.7976931348623E308">
                    </property>
                    <property name="stopWhenQueueIsEmpty" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="synchronizeToRealTime" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="isCQAdaptive" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="minBinCount" class="ptolemy.data.expr.Parameter" value="2">
                    </property>
                    <property name="binCountFactor" class="ptolemy.data.expr.Parameter" value="2">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 40.0">
                    </property>
                </property>
                <port name="data" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="45.0, 125.0">
                    </property>
                </port>
                <port name="channelState" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="55.0, 215.0">
                    </property>
                </port>
                <port name="senseChannel" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="415.0, 160.0">
                    </property>
                </port>
                <port name="outMSG" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="525.0, 325.0">
                    </property>
                </port>
                <port name="randomWait" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="70.0, 280.0">
                    </property>
                </port>
                <port name="wakeUp" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="420.0, 255.0">
                    </property>
                </port>
                <entity name="VariableDelay" class="ptolemy.domains.de.lib.VariableDelay">
                    <property name="defaultDelay" class="ptolemy.data.expr.Parameter" value="1.0">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="290.0, 250.0">
                    </property>
                </entity>
                <entity name="Uniform" class="ptolemy.actor.lib.Uniform">
                    <property name="seed" class="ptolemy.data.expr.Parameter" value="0L">
                    </property>
                    <property name="lowerBound" class="ptolemy.data.expr.Parameter" value="MinWaiting">
                    </property>
                    <property name="upperBound" class="ptolemy.data.expr.Parameter" value="MaxWaiting">
                    </property>
                    <doc>Create a sequence of uniformly distributed random numbers</doc>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="190.0, 315.0">
                    </property>
                </entity>
                <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                    <vertex name="vertex1" value="145.0, 240.0">
                    </vertex>
                </relation>
                <relation name="relation" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                </relation>
                <link port="randomWait" relation="relation2"/>
                <link port="wakeUp" relation="relation3"/>
                <link port="VariableDelay.input" relation="relation2"/>
                <link port="VariableDelay.output" relation="relation3"/>
                <link port="VariableDelay.delay" relation="relation"/>
                <link port="Uniform.output" relation="relation"/>
                <link port="Uniform.trigger" relation="relation2"/>
            </entity>
            <entity name="Emit" class="ptolemy.domains.fsm.modal.Refinement">
                <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
                    <property name="startTime" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                    <property name="stopTime" class="ptolemy.data.expr.Parameter" value="1.7976931348623E308">
                    </property>
                    <property name="stopWhenQueueIsEmpty" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="synchronizeToRealTime" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="isCQAdaptive" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="minBinCount" class="ptolemy.data.expr.Parameter" value="2">
                    </property>
                    <property name="binCountFactor" class="ptolemy.data.expr.Parameter" value="2">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="270.0, 85.0">
                    </property>
                </property>
                <port name="data" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="55.0, 305.0">
                    </property>
                </port>
                <port name="channelState" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="100.0, 150.0">
                    </property>
                </port>
                <port name="senseChannel" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="90.0, 60.0">
                    </property>
                </port>
                <port name="outMSG" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="40.0, 205.0">
                    </property>
                </port>
                <port name="randomWait" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="85.0, 275.0">
                    </property>
                </port>
                <port name="wakeUp" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="485.0, 210.0">
                    </property>
                </port>
                <entity name="Uniform" class="ptolemy.actor.lib.Uniform">
                    <property name="seed" class="ptolemy.data.expr.Parameter" value="10L">
                    </property>
                    <property name="lowerBound" class="ptolemy.data.expr.Parameter" value="MinTxTime">
                    </property>
                    <property name="upperBound" class="ptolemy.data.expr.Parameter" value="MaxTxTime">
                    </property>
                    <doc>Create a sequence of uniformly distributed random numbers</doc>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="190.0, 315.0">
                    </property>
                </entity>
                <entity name="VariableDelay" class="ptolemy.domains.de.lib.VariableDelay">
                    <property name="defaultDelay" class="ptolemy.data.expr.Parameter" value="1.0">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="290.0, 250.0">
                    </property>
                </entity>
                <relation name="relation" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                    <vertex name="vertex1" value="145.0, 240.0">
                    </vertex>
                </relation>
                <relation name="relation4" class="ptolemy.actor.TypedIORelation">
                </relation>
                <link port="randomWait" relation="relation2"/>
                <link port="wakeUp" relation="relation4"/>
                <link port="Uniform.output" relation="relation"/>
                <link port="Uniform.trigger" relation="relation2"/>
                <link port="VariableDelay.input" relation="relation2"/>
                <link port="VariableDelay.output" relation="relation4"/>
                <link port="VariableDelay.delay" relation="relation"/>
            </entity>
            <relation name="dataRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="channelStateRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="senseChannelRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="outMSGRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="randomWaitRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="wakeUpRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="data" relation="dataRelation"/>
            <link port="channelState" relation="channelStateRelation"/>
            <link port="senseChannel" relation="senseChannelRelation"/>
            <link port="outMSG" relation="outMSGRelation"/>
            <link port="randomWait" relation="randomWaitRelation"/>
            <link port="wakeUp" relation="wakeUpRelation"/>
            <link port="_Controller.data" relation="dataRelation"/>
            <link port="_Controller.channelState" relation="channelStateRelation"/>
            <link port="_Controller.senseChannel" relation="senseChannelRelation"/>
            <link port="_Controller.outMSG" relation="outMSGRelation"/>
            <link port="_Controller.randomWait" relation="randomWaitRelation"/>
            <link port="_Controller.wakeUp" relation="wakeUpRelation"/>
            <link port="randomWait.data" relation="dataRelation"/>
            <link port="randomWait.channelState" relation="channelStateRelation"/>
            <link port="randomWait.senseChannel" relation="senseChannelRelation"/>
            <link port="randomWait.outMSG" relation="outMSGRelation"/>
            <link port="randomWait.randomWait" relation="randomWaitRelation"/>
            <link port="randomWait.wakeUp" relation="wakeUpRelation"/>
            <link port="Emit.data" relation="dataRelation"/>
            <link port="Emit.channelState" relation="channelStateRelation"/>
            <link port="Emit.senseChannel" relation="senseChannelRelation"/>
            <link port="Emit.outMSG" relation="outMSGRelation"/>
            <link port="Emit.randomWait" relation="randomWaitRelation"/>
            <link port="Emit.wakeUp" relation="wakeUpRelation"/>
        </entity>
        <entity name="TimedDelay" class="ptolemy.domains.de.lib.TimedDelay">
            <property name="delay" class="ptolemy.data.expr.Parameter" value="1.0">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="505.0, 300.0">
            </property>
        </entity>
        <entity name="For analysis" class="ptolemy.actor.TypedCompositeActor">
            <property name="_location" class="ptolemy.kernel.util.Location" value="470.0, 65.0">
            </property>
            <port name="time1" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 130.0">
                </property>
            </port>
            <port name="time2" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 185.0">
                </property>
            </port>
            <port name="report" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="465.0, 150.0">
                </property>
            </port>
            <port name="collision" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="SOUTH">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 255.0">
                </property>
            </port>
            <port name="report2" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="SOUTH">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="440.0, 265.0">
                </property>
            </port>
            <entity name="WaitingTime" class="ptolemy.domains.de.lib.WaitingTime">
                <property name="_location" class="ptolemy.kernel.util.Location" value="210.0, 140.0">
                </property>
            </entity>
            <entity name="RecordAssembler" class="ptolemy.actor.lib.RecordAssembler">
                <property name="_location" class="ptolemy.kernel.util.Location" value="340.0, 110.0">
                </property>
                <port name="id" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
                <port name="time" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
            </entity>
            <entity name="Const" class="ptolemy.actor.lib.Const">
                <property name="value" class="ptolemy.data.expr.Parameter" value="id">
                </property>
                <doc>Create a constant sequence</doc>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="300.0, 85.0">
                </property>
            </entity>
            <entity name="CurrentTime" class="ptolemy.actor.lib.CurrentTime">
                <doc>Output the current time.</doc>
                <property name="_location" class="ptolemy.kernel.util.Location" value="165.0, 290.0">
                </property>
            </entity>
            <entity name="RecordAssembler2" class="ptolemy.actor.lib.RecordAssembler">
                <property name="_location" class="ptolemy.kernel.util.Location" value="300.0, 245.0">
                </property>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                    </property>
                </port>
                <port name="collisionId" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="detectTime" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
            </entity>
            <entity name="Const2" class="ptolemy.actor.lib.Const">
                <property name="value" class="ptolemy.data.expr.Parameter" value="id">
                </property>
                <doc>Create a constant sequence</doc>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="165.0, 220.0">
                </property>
            </entity>
            <relation name="relation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation2" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="270.0, 140.0">
                </vertex>
            </relation>
            <relation name="relation4" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation8" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="120.0, 255.0">
                </vertex>
            </relation>
            <relation name="relation7" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation10" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation5" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation6" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="time1" relation="relation"/>
            <link port="time2" relation="relation2"/>
            <link port="report" relation="relation6"/>
            <link port="collision" relation="relation8"/>
            <link port="report2" relation="relation5"/>
            <link port="WaitingTime.output" relation="relation3"/>
            <link port="WaitingTime.waiter" relation="relation"/>
            <link port="WaitingTime.waitee" relation="relation2"/>
            <link port="RecordAssembler.output" relation="relation6"/>
            <link port="RecordAssembler.id" relation="relation4"/>
            <link port="RecordAssembler.time" relation="relation3"/>
            <link port="Const.output" relation="relation4"/>
            <link port="Const.trigger" relation="relation3"/>
            <link port="CurrentTime.output" relation="relation7"/>
            <link port="CurrentTime.trigger" relation="relation8"/>
            <link port="RecordAssembler2.output" relation="relation5"/>
            <link port="RecordAssembler2.collisionId" relation="relation10"/>
            <link port="RecordAssembler2.detectTime" relation="relation7"/>
            <link port="Const2.output" relation="relation10"/>
            <link port="Const2.trigger" relation="relation8"/>
        </entity>
        <entity name="modal model2" class="ptolemy.domains.fsm.modal.ModalModel">
            <property name="_tableauFactory" class="ptolemy.vergil.fsm.modal.ModalTableauFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="145.0, 185.0">
            </property>
            <port name="inMSG" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="channelState" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
            </port>
            <port name="senseChannel" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="collision" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
            </port>
            <entity name="_Controller" class="ptolemy.domains.fsm.modal.ModalController">
                <property name="initialStateName" class="ptolemy.kernel.util.StringAttribute" value="idle">
                </property>
                <property name="_library" class="ptolemy.moml.LibraryAttribute">
                    <configure>
        <entity name="state library" class="ptolemy.kernel.CompositeEntity"><input source="ptolemy/configs/basicUtilities.xml"></input><entity name="state" class="ptolemy.domains.fsm.kernel.State"><property name="_centerName" class="ptolemy.kernel.util.Attribute"></property><property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory"></property></entity></entity>
      </configure>
                </property>
                <port name="inMSG" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="0.0, 0.0">
                    </property>
                </port>
                <port name="channelState" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="335.0, 90.0">
                    </property>
                </port>
                <port name="senseChannel" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="-5.0, 90.0">
                    </property>
                </port>
                <port name="collision" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="240.0, 25.0">
                    </property>
                </port>
                <entity name="idle" class="ptolemy.domains.fsm.kernel.State">
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="190.5, 187.28129322224544">
                    </property>
                </entity>
                <entity name="receive" class="ptolemy.domains.fsm.kernel.State">
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="425.0, 195.0">
                    </property>
                </entity>
                <relation name="relation" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="inMSG_isPresent &amp;&amp; inMSG == &quot;END&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.9564982454336546">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation2" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="inMSG_isPresent &amp;&amp; inMSG == &quot;MSG&quot;">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="collision = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="2.512139297546763">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-0.21451248805933695">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation3" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="senseChannel_isPresent &amp;&amp; ! inMSG_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="channelState = &quot;BUSY&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="2.356194490192345">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.0687929371738796">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation4" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="senseChannel_isPresent &amp;&amp; !inMSG_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="channelState = &quot;FREE&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="2.13592263986528">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="1.4616814519565946">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation5" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="inMSG_isPresent &amp;&amp; inMSG == &quot;MSG&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="0.11144946119379541">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <link port="idle.incomingPort" relation="relation"/>
                <link port="idle.incomingPort" relation="relation4"/>
                <link port="idle.outgoingPort" relation="relation5"/>
                <link port="idle.outgoingPort" relation="relation4"/>
                <link port="receive.incomingPort" relation="relation5"/>
                <link port="receive.incomingPort" relation="relation2"/>
                <link port="receive.incomingPort" relation="relation3"/>
                <link port="receive.outgoingPort" relation="relation"/>
                <link port="receive.outgoingPort" relation="relation2"/>
                <link port="receive.outgoingPort" relation="relation3"/>
            </entity>
            <relation name="inMSGRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="channelStateRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="senseChannelRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="collisionRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="inMSG" relation="inMSGRelation"/>
            <link port="channelState" relation="channelStateRelation"/>
            <link port="senseChannel" relation="senseChannelRelation"/>
            <link port="collision" relation="collisionRelation"/>
            <link port="_Controller.inMSG" relation="inMSGRelation"/>
            <link port="_Controller.channelState" relation="channelStateRelation"/>
            <link port="_Controller.senseChannel" relation="senseChannelRelation"/>
            <link port="_Controller.collision" relation="collisionRelation"/>
        </entity>
        <relation name="relation5" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation7" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation8" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="210.0, 55.0">
            </vertex>
        </relation>
        <relation name="relation2" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="405.0, 75.0">
            </vertex>
        </relation>
        <relation name="relation6" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="465.0, 195.0">
            </vertex>
        </relation>
        <relation name="relation9" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation10" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation4" class="ptolemy.actor.TypedIORelation">
        </relation>
        <link port="in" relation="relation10"/>
        <link port="out" relation="relation2"/>
        <link port="report" relation="relation7"/>
        <link port="report2" relation="relation9"/>
        <link port="PoissonClock.output" relation="relation8"/>
        <link port="modal model.data" relation="relation8"/>
        <link port="modal model.channelState" relation="relation4"/>
        <link port="modal model.senseChannel" relation="relation5"/>
        <link port="modal model.outMSG" relation="relation2"/>
        <link port="TimedDelay.input" relation="relation5"/>
        <link port="TimedDelay.output" relation="relation"/>
        <link port="For analysis.time1" relation="relation8"/>
        <link port="For analysis.time2" relation="relation2"/>
        <link port="For analysis.report" relation="relation7"/>
        <link port="For analysis.collision" relation="relation6"/>
        <link port="For analysis.report2" relation="relation9"/>
        <link port="modal model2.inMSG" relation="relation10"/>
        <link port="modal model2.channelState" relation="relation4"/>
        <link port="modal model2.senseChannel" relation="relation"/>
        <link port="modal model2.collision" relation="relation6"/>
    </entity>
    <entity name="node13" class="ptolemy.domains.wireless.kernel.WirelessComposite">
        <property name="_location" class="ptolemy.kernel.util.Location" value="160.0, 215.0">
        </property>
        <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
            <property name="startTime" class="ptolemy.data.expr.Parameter" value="0.0">
            </property>
            <property name="stopTime" class="ptolemy.data.expr.Parameter" value="1.7976931348623E308">
            </property>
            <property name="stopWhenQueueIsEmpty" class="ptolemy.data.expr.Parameter" value="true">
            </property>
            <property name="synchronizeToRealTime" class="ptolemy.data.expr.Parameter" value="false">
            </property>
            <property name="isCQAdaptive" class="ptolemy.data.expr.Parameter" value="true">
            </property>
            <property name="minBinCount" class="ptolemy.data.expr.Parameter" value="2">
            </property>
            <property name="binCountFactor" class="ptolemy.data.expr.Parameter" value="2">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 40.0">
            </property>
        </property>
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={106, 164, 815, 518}, maximized=false}">
        </property>
        <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[600, 400]">
        </property>
        <property name="id" class="ptolemy.data.expr.Parameter" value="7">
        </property>
        <property name="annotation" class="ptolemy.kernel.util.Attribute">
            <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
            <property name="_iconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure><svg><text x="20" y="20" style="font-size:14; font-family:SansSerif; fill:blue">The protocol assumes that propagation takes no time but transmission takes time
that depends on the package's size. When having data to send, it first sense 
whether the channel is free or busy. If free, send the data, if not, then wait
for a random time and try again. The detection inteface is provided by the senseAir 
component. </text></svg></configure>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-A-</text>
      </svg>
    </configure>
            </property>
            <property name="_controllerFactory" class="ptolemy.vergil.basic.NodeControllerFactory">
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.AnnotationEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="-50.0, 370.0">
            </property>
        </property>
        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <port name="in" class="ptolemy.domains.wireless.kernel.WirelessIOPort">
            <property name="input"/>
            <property name="outsideChannel" class="ptolemy.data.expr.StringParameter" value="LimitedRangeChannel">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="70.0, 175.0">
            </property>
            <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
        </port>
        <port name="out" class="ptolemy.domains.wireless.kernel.WirelessIOPort">
            <property name="output"/>
            <property name="outsideChannel" class="ptolemy.data.expr.StringParameter" value="LimitedRangeChannel">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="425.0, 145.0">
            </property>
            <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
        </port>
        <port name="report" class="ptolemy.domains.wireless.kernel.WirelessIOPort">
            <property name="output"/>
            <property name="outsideChannel" class="ptolemy.data.expr.StringParameter" value="DataCollectChannel">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="545.0, 65.0">
            </property>
            <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
        </port>
        <port name="report2" class="ptolemy.domains.wireless.kernel.WirelessIOPort">
            <property name="output"/>
            <property name="outsideChannel" class="ptolemy.data.expr.StringParameter" value="CollisionReportChannel">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="545.0, 105.0">
            </property>
            <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
        </port>
        <entity name="PoissonClock" class="ptolemy.actor.lib.PoissonClock">
            <property name="meanTime" class="ptolemy.data.expr.Parameter" value="TrafficDensity">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="85.0, 105.0">
            </property>
        </entity>
        <entity name="modal model" class="ptolemy.domains.fsm.modal.ModalModel">
            <property name="_tableauFactory" class="ptolemy.vergil.fsm.modal.ModalTableauFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="270.0, 115.0">
            </property>
            <port name="data" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="channelState" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="senseChannel" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
            </port>
            <port name="outMSG" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="NORTH">
                </property>
            </port>
            <port name="randomWait" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="output"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="wakeUp" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="output"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <entity name="_Controller" class="ptolemy.domains.fsm.modal.ModalController">
                <property name="initialStateName" class="ptolemy.kernel.util.StringAttribute" value="idle">
                </property>
                <property name="_library" class="ptolemy.moml.LibraryAttribute">
                    <configure><entity name="state library" class="ptolemy.kernel.CompositeEntity"><input source="ptolemy/configs/basicUtilities.xml"></input><entity name="state" class="ptolemy.domains.fsm.kernel.State"><property name="_centerName" class="ptolemy.kernel.util.Attribute"></property></entity></entity></configure>
                </property>
                <port name="data" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="40.0, 95.0">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="channelState" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="35.0, 185.0">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="senseChannel" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="535.0, 70.0">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="outMSG" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="535.0, 155.0">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="randomWait" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="30.0, 260.0">
                    </property>
                    <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                </port>
                <port name="wakeUp" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="30.0, 330.0">
                    </property>
                    <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                </port>
                <entity name="idle" class="ptolemy.domains.fsm.kernel.State">
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="115.0, 145.0">
                    </property>
                </entity>
                <entity name="senseAir" class="ptolemy.domains.fsm.kernel.State">
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="255.0, 120.0">
                    </property>
                </entity>
                <entity name="randomWait" class="ptolemy.domains.fsm.kernel.State">
                    <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="randomWait">
                    </property>
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="460.0, 125.0">
                    </property>
                </entity>
                <entity name="Emit" class="ptolemy.domains.fsm.kernel.State">
                    <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="Emit">
                    </property>
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="270.0, 355.0">
                    </property>
                </entity>
                <relation name="relation" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="data_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="senseChannel = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.7290251868073567">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-0.2479894981275352">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation2" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="channelState_isPresent &amp;&amp; channelState == &quot;BUSY&quot;">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="randomWait = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.8816266690949863">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="0.3014559376966855">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation3" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="wakeUp_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="senseChannel = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.7432607920971347">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.969499643808648">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation4" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="channelState_isPresent &amp;&amp; channelState == &quot;FREE&quot;">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="outMSG = &quot;MSG&quot;; randomWait = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.04481040911079372">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="1.5101165449404714">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation5" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="wakeUp_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="outMSG = &quot;END&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.28882718043739275">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.217615632874857">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <link port="idle.incomingPort" relation="relation5"/>
                <link port="idle.outgoingPort" relation="relation"/>
                <link port="senseAir.incomingPort" relation="relation"/>
                <link port="senseAir.incomingPort" relation="relation3"/>
                <link port="senseAir.outgoingPort" relation="relation2"/>
                <link port="senseAir.outgoingPort" relation="relation4"/>
                <link port="randomWait.incomingPort" relation="relation2"/>
                <link port="randomWait.outgoingPort" relation="relation3"/>
                <link port="Emit.incomingPort" relation="relation4"/>
                <link port="Emit.outgoingPort" relation="relation5"/>
            </entity>
            <entity name="randomWait" class="ptolemy.domains.fsm.modal.Refinement">
                <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
                    <property name="startTime" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                    <property name="stopTime" class="ptolemy.data.expr.Parameter" value="1.7976931348623E308">
                    </property>
                    <property name="stopWhenQueueIsEmpty" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="synchronizeToRealTime" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="isCQAdaptive" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="minBinCount" class="ptolemy.data.expr.Parameter" value="2">
                    </property>
                    <property name="binCountFactor" class="ptolemy.data.expr.Parameter" value="2">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 40.0">
                    </property>
                </property>
                <port name="data" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="45.0, 125.0">
                    </property>
                </port>
                <port name="channelState" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="55.0, 215.0">
                    </property>
                </port>
                <port name="senseChannel" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="415.0, 160.0">
                    </property>
                </port>
                <port name="outMSG" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="525.0, 325.0">
                    </property>
                </port>
                <port name="randomWait" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="70.0, 280.0">
                    </property>
                </port>
                <port name="wakeUp" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="420.0, 255.0">
                    </property>
                </port>
                <entity name="VariableDelay" class="ptolemy.domains.de.lib.VariableDelay">
                    <property name="defaultDelay" class="ptolemy.data.expr.Parameter" value="1.0">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="290.0, 250.0">
                    </property>
                </entity>
                <entity name="Uniform" class="ptolemy.actor.lib.Uniform">
                    <property name="seed" class="ptolemy.data.expr.Parameter" value="0L">
                    </property>
                    <property name="lowerBound" class="ptolemy.data.expr.Parameter" value="MinWaiting">
                    </property>
                    <property name="upperBound" class="ptolemy.data.expr.Parameter" value="MaxWaiting">
                    </property>
                    <doc>Create a sequence of uniformly distributed random numbers</doc>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="190.0, 315.0">
                    </property>
                </entity>
                <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                    <vertex name="vertex1" value="145.0, 240.0">
                    </vertex>
                </relation>
                <relation name="relation" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                </relation>
                <link port="randomWait" relation="relation2"/>
                <link port="wakeUp" relation="relation3"/>
                <link port="VariableDelay.input" relation="relation2"/>
                <link port="VariableDelay.output" relation="relation3"/>
                <link port="VariableDelay.delay" relation="relation"/>
                <link port="Uniform.output" relation="relation"/>
                <link port="Uniform.trigger" relation="relation2"/>
            </entity>
            <entity name="Emit" class="ptolemy.domains.fsm.modal.Refinement">
                <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
                    <property name="startTime" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                    <property name="stopTime" class="ptolemy.data.expr.Parameter" value="1.7976931348623E308">
                    </property>
                    <property name="stopWhenQueueIsEmpty" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="synchronizeToRealTime" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="isCQAdaptive" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="minBinCount" class="ptolemy.data.expr.Parameter" value="2">
                    </property>
                    <property name="binCountFactor" class="ptolemy.data.expr.Parameter" value="2">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="270.0, 85.0">
                    </property>
                </property>
                <port name="data" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="55.0, 305.0">
                    </property>
                </port>
                <port name="channelState" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="100.0, 150.0">
                    </property>
                </port>
                <port name="senseChannel" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="90.0, 60.0">
                    </property>
                </port>
                <port name="outMSG" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="40.0, 205.0">
                    </property>
                </port>
                <port name="randomWait" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="85.0, 275.0">
                    </property>
                </port>
                <port name="wakeUp" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="485.0, 210.0">
                    </property>
                </port>
                <entity name="Uniform" class="ptolemy.actor.lib.Uniform">
                    <property name="seed" class="ptolemy.data.expr.Parameter" value="10L">
                    </property>
                    <property name="lowerBound" class="ptolemy.data.expr.Parameter" value="MinTxTime">
                    </property>
                    <property name="upperBound" class="ptolemy.data.expr.Parameter" value="MaxTxTime">
                    </property>
                    <doc>Create a sequence of uniformly distributed random numbers</doc>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="190.0, 315.0">
                    </property>
                </entity>
                <entity name="VariableDelay" class="ptolemy.domains.de.lib.VariableDelay">
                    <property name="defaultDelay" class="ptolemy.data.expr.Parameter" value="1.0">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="290.0, 250.0">
                    </property>
                </entity>
                <relation name="relation" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                    <vertex name="vertex1" value="145.0, 240.0">
                    </vertex>
                </relation>
                <relation name="relation4" class="ptolemy.actor.TypedIORelation">
                </relation>
                <link port="randomWait" relation="relation2"/>
                <link port="wakeUp" relation="relation4"/>
                <link port="Uniform.output" relation="relation"/>
                <link port="Uniform.trigger" relation="relation2"/>
                <link port="VariableDelay.input" relation="relation2"/>
                <link port="VariableDelay.output" relation="relation4"/>
                <link port="VariableDelay.delay" relation="relation"/>
            </entity>
            <relation name="dataRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="channelStateRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="senseChannelRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="outMSGRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="randomWaitRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="wakeUpRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="data" relation="dataRelation"/>
            <link port="channelState" relation="channelStateRelation"/>
            <link port="senseChannel" relation="senseChannelRelation"/>
            <link port="outMSG" relation="outMSGRelation"/>
            <link port="randomWait" relation="randomWaitRelation"/>
            <link port="wakeUp" relation="wakeUpRelation"/>
            <link port="_Controller.data" relation="dataRelation"/>
            <link port="_Controller.channelState" relation="channelStateRelation"/>
            <link port="_Controller.senseChannel" relation="senseChannelRelation"/>
            <link port="_Controller.outMSG" relation="outMSGRelation"/>
            <link port="_Controller.randomWait" relation="randomWaitRelation"/>
            <link port="_Controller.wakeUp" relation="wakeUpRelation"/>
            <link port="randomWait.data" relation="dataRelation"/>
            <link port="randomWait.channelState" relation="channelStateRelation"/>
            <link port="randomWait.senseChannel" relation="senseChannelRelation"/>
            <link port="randomWait.outMSG" relation="outMSGRelation"/>
            <link port="randomWait.randomWait" relation="randomWaitRelation"/>
            <link port="randomWait.wakeUp" relation="wakeUpRelation"/>
            <link port="Emit.data" relation="dataRelation"/>
            <link port="Emit.channelState" relation="channelStateRelation"/>
            <link port="Emit.senseChannel" relation="senseChannelRelation"/>
            <link port="Emit.outMSG" relation="outMSGRelation"/>
            <link port="Emit.randomWait" relation="randomWaitRelation"/>
            <link port="Emit.wakeUp" relation="wakeUpRelation"/>
        </entity>
        <entity name="TimedDelay" class="ptolemy.domains.de.lib.TimedDelay">
            <property name="delay" class="ptolemy.data.expr.Parameter" value="1.0">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="505.0, 300.0">
            </property>
        </entity>
        <entity name="For analysis" class="ptolemy.actor.TypedCompositeActor">
            <property name="_location" class="ptolemy.kernel.util.Location" value="470.0, 65.0">
            </property>
            <port name="time1" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 130.0">
                </property>
            </port>
            <port name="time2" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 185.0">
                </property>
            </port>
            <port name="report" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="465.0, 150.0">
                </property>
            </port>
            <port name="collision" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="SOUTH">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 255.0">
                </property>
            </port>
            <port name="report2" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="SOUTH">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="440.0, 265.0">
                </property>
            </port>
            <entity name="WaitingTime" class="ptolemy.domains.de.lib.WaitingTime">
                <property name="_location" class="ptolemy.kernel.util.Location" value="210.0, 140.0">
                </property>
            </entity>
            <entity name="RecordAssembler" class="ptolemy.actor.lib.RecordAssembler">
                <property name="_location" class="ptolemy.kernel.util.Location" value="340.0, 110.0">
                </property>
                <port name="id" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
                <port name="time" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
            </entity>
            <entity name="Const" class="ptolemy.actor.lib.Const">
                <property name="value" class="ptolemy.data.expr.Parameter" value="id">
                </property>
                <doc>Create a constant sequence</doc>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="300.0, 85.0">
                </property>
            </entity>
            <entity name="CurrentTime" class="ptolemy.actor.lib.CurrentTime">
                <doc>Output the current time.</doc>
                <property name="_location" class="ptolemy.kernel.util.Location" value="165.0, 290.0">
                </property>
            </entity>
            <entity name="RecordAssembler2" class="ptolemy.actor.lib.RecordAssembler">
                <property name="_location" class="ptolemy.kernel.util.Location" value="300.0, 245.0">
                </property>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                    </property>
                </port>
                <port name="collisionId" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="detectTime" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
            </entity>
            <entity name="Const2" class="ptolemy.actor.lib.Const">
                <property name="value" class="ptolemy.data.expr.Parameter" value="id">
                </property>
                <doc>Create a constant sequence</doc>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="165.0, 220.0">
                </property>
            </entity>
            <relation name="relation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation2" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="270.0, 140.0">
                </vertex>
            </relation>
            <relation name="relation4" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation8" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="120.0, 255.0">
                </vertex>
            </relation>
            <relation name="relation7" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation10" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation5" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation6" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="time1" relation="relation"/>
            <link port="time2" relation="relation2"/>
            <link port="report" relation="relation6"/>
            <link port="collision" relation="relation8"/>
            <link port="report2" relation="relation5"/>
            <link port="WaitingTime.output" relation="relation3"/>
            <link port="WaitingTime.waiter" relation="relation"/>
            <link port="WaitingTime.waitee" relation="relation2"/>
            <link port="RecordAssembler.output" relation="relation6"/>
            <link port="RecordAssembler.id" relation="relation4"/>
            <link port="RecordAssembler.time" relation="relation3"/>
            <link port="Const.output" relation="relation4"/>
            <link port="Const.trigger" relation="relation3"/>
            <link port="CurrentTime.output" relation="relation7"/>
            <link port="CurrentTime.trigger" relation="relation8"/>
            <link port="RecordAssembler2.output" relation="relation5"/>
            <link port="RecordAssembler2.collisionId" relation="relation10"/>
            <link port="RecordAssembler2.detectTime" relation="relation7"/>
            <link port="Const2.output" relation="relation10"/>
            <link port="Const2.trigger" relation="relation8"/>
        </entity>
        <entity name="modal model2" class="ptolemy.domains.fsm.modal.ModalModel">
            <property name="_tableauFactory" class="ptolemy.vergil.fsm.modal.ModalTableauFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="145.0, 185.0">
            </property>
            <port name="inMSG" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="channelState" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
            </port>
            <port name="senseChannel" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="collision" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
            </port>
            <entity name="_Controller" class="ptolemy.domains.fsm.modal.ModalController">
                <property name="initialStateName" class="ptolemy.kernel.util.StringAttribute" value="idle">
                </property>
                <property name="_library" class="ptolemy.moml.LibraryAttribute">
                    <configure>
        <entity name="state library" class="ptolemy.kernel.CompositeEntity"><input source="ptolemy/configs/basicUtilities.xml"></input><entity name="state" class="ptolemy.domains.fsm.kernel.State"><property name="_centerName" class="ptolemy.kernel.util.Attribute"></property><property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory"></property></entity></entity>
      </configure>
                </property>
                <port name="inMSG" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="0.0, 0.0">
                    </property>
                </port>
                <port name="channelState" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="335.0, 90.0">
                    </property>
                </port>
                <port name="senseChannel" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="-5.0, 90.0">
                    </property>
                </port>
                <port name="collision" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="240.0, 25.0">
                    </property>
                </port>
                <entity name="idle" class="ptolemy.domains.fsm.kernel.State">
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="190.5, 187.28129322224544">
                    </property>
                </entity>
                <entity name="receive" class="ptolemy.domains.fsm.kernel.State">
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="425.0, 195.0">
                    </property>
                </entity>
                <relation name="relation" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="inMSG_isPresent &amp;&amp; inMSG == &quot;END&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.9564982454336546">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation2" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="inMSG_isPresent &amp;&amp; inMSG == &quot;MSG&quot;">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="collision = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="2.512139297546763">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-0.21451248805933695">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation3" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="senseChannel_isPresent &amp;&amp; ! inMSG_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="channelState = &quot;BUSY&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="2.356194490192345">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.0687929371738796">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation4" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="senseChannel_isPresent &amp;&amp; !inMSG_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="channelState = &quot;FREE&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="2.13592263986528">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="1.4616814519565946">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation5" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="inMSG_isPresent &amp;&amp; inMSG == &quot;MSG&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="0.11144946119379541">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <link port="idle.incomingPort" relation="relation"/>
                <link port="idle.incomingPort" relation="relation4"/>
                <link port="idle.outgoingPort" relation="relation5"/>
                <link port="idle.outgoingPort" relation="relation4"/>
                <link port="receive.incomingPort" relation="relation5"/>
                <link port="receive.incomingPort" relation="relation2"/>
                <link port="receive.incomingPort" relation="relation3"/>
                <link port="receive.outgoingPort" relation="relation"/>
                <link port="receive.outgoingPort" relation="relation2"/>
                <link port="receive.outgoingPort" relation="relation3"/>
            </entity>
            <relation name="inMSGRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="channelStateRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="senseChannelRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="collisionRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="inMSG" relation="inMSGRelation"/>
            <link port="channelState" relation="channelStateRelation"/>
            <link port="senseChannel" relation="senseChannelRelation"/>
            <link port="collision" relation="collisionRelation"/>
            <link port="_Controller.inMSG" relation="inMSGRelation"/>
            <link port="_Controller.channelState" relation="channelStateRelation"/>
            <link port="_Controller.senseChannel" relation="senseChannelRelation"/>
            <link port="_Controller.collision" relation="collisionRelation"/>
        </entity>
        <relation name="relation5" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation7" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation8" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="210.0, 55.0">
            </vertex>
        </relation>
        <relation name="relation2" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="405.0, 75.0">
            </vertex>
        </relation>
        <relation name="relation6" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="465.0, 195.0">
            </vertex>
        </relation>
        <relation name="relation9" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation10" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation4" class="ptolemy.actor.TypedIORelation">
        </relation>
        <link port="in" relation="relation10"/>
        <link port="out" relation="relation2"/>
        <link port="report" relation="relation7"/>
        <link port="report2" relation="relation9"/>
        <link port="PoissonClock.output" relation="relation8"/>
        <link port="modal model.data" relation="relation8"/>
        <link port="modal model.channelState" relation="relation4"/>
        <link port="modal model.senseChannel" relation="relation5"/>
        <link port="modal model.outMSG" relation="relation2"/>
        <link port="TimedDelay.input" relation="relation5"/>
        <link port="TimedDelay.output" relation="relation"/>
        <link port="For analysis.time1" relation="relation8"/>
        <link port="For analysis.time2" relation="relation2"/>
        <link port="For analysis.report" relation="relation7"/>
        <link port="For analysis.collision" relation="relation6"/>
        <link port="For analysis.report2" relation="relation9"/>
        <link port="modal model2.inMSG" relation="relation10"/>
        <link port="modal model2.channelState" relation="relation4"/>
        <link port="modal model2.senseChannel" relation="relation"/>
        <link port="modal model2.collision" relation="relation6"/>
    </entity>
    <entity name="node14" class="ptolemy.domains.wireless.kernel.WirelessComposite">
        <property name="_location" class="ptolemy.kernel.util.Location" value="50.0, 515.0">
        </property>
        <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
            <property name="startTime" class="ptolemy.data.expr.Parameter" value="0.0">
            </property>
            <property name="stopTime" class="ptolemy.data.expr.Parameter" value="1.7976931348623E308">
            </property>
            <property name="stopWhenQueueIsEmpty" class="ptolemy.data.expr.Parameter" value="true">
            </property>
            <property name="synchronizeToRealTime" class="ptolemy.data.expr.Parameter" value="false">
            </property>
            <property name="isCQAdaptive" class="ptolemy.data.expr.Parameter" value="true">
            </property>
            <property name="minBinCount" class="ptolemy.data.expr.Parameter" value="2">
            </property>
            <property name="binCountFactor" class="ptolemy.data.expr.Parameter" value="2">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 40.0">
            </property>
        </property>
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={106, 164, 815, 518}, maximized=false}">
        </property>
        <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[600, 400]">
        </property>
        <property name="id" class="ptolemy.data.expr.Parameter" value="21">
        </property>
        <property name="annotation" class="ptolemy.kernel.util.Attribute">
            <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
            <property name="_iconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure><svg><text x="20" y="20" style="font-size:14; font-family:SansSerif; fill:blue">The protocol assumes that propagation takes no time but transmission takes time
that depends on the package's size. When having data to send, it first sense 
whether the channel is free or busy. If free, send the data, if not, then wait
for a random time and try again. The detection inteface is provided by the senseAir 
component. </text></svg></configure>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-A-</text>
      </svg>
    </configure>
            </property>
            <property name="_controllerFactory" class="ptolemy.vergil.basic.NodeControllerFactory">
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.AnnotationEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="-50.0, 370.0">
            </property>
        </property>
        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <port name="in" class="ptolemy.domains.wireless.kernel.WirelessIOPort">
            <property name="input"/>
            <property name="outsideChannel" class="ptolemy.data.expr.StringParameter" value="LimitedRangeChannel">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="70.0, 175.0">
            </property>
            <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
        </port>
        <port name="out" class="ptolemy.domains.wireless.kernel.WirelessIOPort">
            <property name="output"/>
            <property name="outsideChannel" class="ptolemy.data.expr.StringParameter" value="LimitedRangeChannel">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="425.0, 145.0">
            </property>
            <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
        </port>
        <port name="report" class="ptolemy.domains.wireless.kernel.WirelessIOPort">
            <property name="output"/>
            <property name="outsideChannel" class="ptolemy.data.expr.StringParameter" value="DataCollectChannel">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="545.0, 65.0">
            </property>
            <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
        </port>
        <port name="report2" class="ptolemy.domains.wireless.kernel.WirelessIOPort">
            <property name="output"/>
            <property name="outsideChannel" class="ptolemy.data.expr.StringParameter" value="CollisionReportChannel">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="545.0, 105.0">
            </property>
            <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
        </port>
        <entity name="PoissonClock" class="ptolemy.actor.lib.PoissonClock">
            <property name="meanTime" class="ptolemy.data.expr.Parameter" value="TrafficDensity">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="85.0, 105.0">
            </property>
        </entity>
        <entity name="modal model" class="ptolemy.domains.fsm.modal.ModalModel">
            <property name="_tableauFactory" class="ptolemy.vergil.fsm.modal.ModalTableauFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="270.0, 115.0">
            </property>
            <port name="data" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="channelState" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="senseChannel" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
            </port>
            <port name="outMSG" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="NORTH">
                </property>
            </port>
            <port name="randomWait" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="output"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="wakeUp" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="output"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <entity name="_Controller" class="ptolemy.domains.fsm.modal.ModalController">
                <property name="initialStateName" class="ptolemy.kernel.util.StringAttribute" value="idle">
                </property>
                <property name="_library" class="ptolemy.moml.LibraryAttribute">
                    <configure><entity name="state library" class="ptolemy.kernel.CompositeEntity"><input source="ptolemy/configs/basicUtilities.xml"></input><entity name="state" class="ptolemy.domains.fsm.kernel.State"><property name="_centerName" class="ptolemy.kernel.util.Attribute"></property></entity></entity></configure>
                </property>
                <port name="data" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="40.0, 95.0">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="channelState" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="35.0, 185.0">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="senseChannel" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="535.0, 70.0">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="outMSG" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="535.0, 155.0">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="randomWait" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="30.0, 260.0">
                    </property>
                    <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                </port>
                <port name="wakeUp" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="30.0, 330.0">
                    </property>
                    <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                </port>
                <entity name="idle" class="ptolemy.domains.fsm.kernel.State">
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="115.0, 145.0">
                    </property>
                </entity>
                <entity name="senseAir" class="ptolemy.domains.fsm.kernel.State">
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="255.0, 120.0">
                    </property>
                </entity>
                <entity name="randomWait" class="ptolemy.domains.fsm.kernel.State">
                    <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="randomWait">
                    </property>
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="460.0, 125.0">
                    </property>
                </entity>
                <entity name="Emit" class="ptolemy.domains.fsm.kernel.State">
                    <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="Emit">
                    </property>
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="270.0, 355.0">
                    </property>
                </entity>
                <relation name="relation" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="data_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="senseChannel = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.7290251868073567">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-0.2479894981275352">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation2" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="channelState_isPresent &amp;&amp; channelState == &quot;BUSY&quot;">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="randomWait = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.8816266690949863">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="0.3014559376966855">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation3" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="wakeUp_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="senseChannel = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.7432607920971347">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.969499643808648">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation4" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="channelState_isPresent &amp;&amp; channelState == &quot;FREE&quot;">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="outMSG = &quot;MSG&quot;; randomWait = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.04481040911079372">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="1.5101165449404714">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation5" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="wakeUp_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="outMSG = &quot;END&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.28882718043739275">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.217615632874857">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <link port="idle.incomingPort" relation="relation5"/>
                <link port="idle.outgoingPort" relation="relation"/>
                <link port="senseAir.incomingPort" relation="relation"/>
                <link port="senseAir.incomingPort" relation="relation3"/>
                <link port="senseAir.outgoingPort" relation="relation2"/>
                <link port="senseAir.outgoingPort" relation="relation4"/>
                <link port="randomWait.incomingPort" relation="relation2"/>
                <link port="randomWait.outgoingPort" relation="relation3"/>
                <link port="Emit.incomingPort" relation="relation4"/>
                <link port="Emit.outgoingPort" relation="relation5"/>
            </entity>
            <entity name="randomWait" class="ptolemy.domains.fsm.modal.Refinement">
                <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
                    <property name="startTime" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                    <property name="stopTime" class="ptolemy.data.expr.Parameter" value="1.7976931348623E308">
                    </property>
                    <property name="stopWhenQueueIsEmpty" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="synchronizeToRealTime" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="isCQAdaptive" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="minBinCount" class="ptolemy.data.expr.Parameter" value="2">
                    </property>
                    <property name="binCountFactor" class="ptolemy.data.expr.Parameter" value="2">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 40.0">
                    </property>
                </property>
                <port name="data" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="45.0, 125.0">
                    </property>
                </port>
                <port name="channelState" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="55.0, 215.0">
                    </property>
                </port>
                <port name="senseChannel" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="415.0, 160.0">
                    </property>
                </port>
                <port name="outMSG" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="525.0, 325.0">
                    </property>
                </port>
                <port name="randomWait" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="70.0, 280.0">
                    </property>
                </port>
                <port name="wakeUp" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="420.0, 255.0">
                    </property>
                </port>
                <entity name="VariableDelay" class="ptolemy.domains.de.lib.VariableDelay">
                    <property name="defaultDelay" class="ptolemy.data.expr.Parameter" value="1.0">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="290.0, 250.0">
                    </property>
                </entity>
                <entity name="Uniform" class="ptolemy.actor.lib.Uniform">
                    <property name="seed" class="ptolemy.data.expr.Parameter" value="0L">
                    </property>
                    <property name="lowerBound" class="ptolemy.data.expr.Parameter" value="MinWaiting">
                    </property>
                    <property name="upperBound" class="ptolemy.data.expr.Parameter" value="MaxWaiting">
                    </property>
                    <doc>Create a sequence of uniformly distributed random numbers</doc>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="190.0, 315.0">
                    </property>
                </entity>
                <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                    <vertex name="vertex1" value="145.0, 240.0">
                    </vertex>
                </relation>
                <relation name="relation" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                </relation>
                <link port="randomWait" relation="relation2"/>
                <link port="wakeUp" relation="relation3"/>
                <link port="VariableDelay.input" relation="relation2"/>
                <link port="VariableDelay.output" relation="relation3"/>
                <link port="VariableDelay.delay" relation="relation"/>
                <link port="Uniform.output" relation="relation"/>
                <link port="Uniform.trigger" relation="relation2"/>
            </entity>
            <entity name="Emit" class="ptolemy.domains.fsm.modal.Refinement">
                <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
                    <property name="startTime" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                    <property name="stopTime" class="ptolemy.data.expr.Parameter" value="1.7976931348623E308">
                    </property>
                    <property name="stopWhenQueueIsEmpty" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="synchronizeToRealTime" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="isCQAdaptive" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="minBinCount" class="ptolemy.data.expr.Parameter" value="2">
                    </property>
                    <property name="binCountFactor" class="ptolemy.data.expr.Parameter" value="2">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="270.0, 85.0">
                    </property>
                </property>
                <port name="data" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="55.0, 305.0">
                    </property>
                </port>
                <port name="channelState" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="100.0, 150.0">
                    </property>
                </port>
                <port name="senseChannel" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="90.0, 60.0">
                    </property>
                </port>
                <port name="outMSG" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="40.0, 205.0">
                    </property>
                </port>
                <port name="randomWait" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="85.0, 275.0">
                    </property>
                </port>
                <port name="wakeUp" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="485.0, 210.0">
                    </property>
                </port>
                <entity name="Uniform" class="ptolemy.actor.lib.Uniform">
                    <property name="seed" class="ptolemy.data.expr.Parameter" value="10L">
                    </property>
                    <property name="lowerBound" class="ptolemy.data.expr.Parameter" value="MinTxTime">
                    </property>
                    <property name="upperBound" class="ptolemy.data.expr.Parameter" value="MaxTxTime">
                    </property>
                    <doc>Create a sequence of uniformly distributed random numbers</doc>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="190.0, 315.0">
                    </property>
                </entity>
                <entity name="VariableDelay" class="ptolemy.domains.de.lib.VariableDelay">
                    <property name="defaultDelay" class="ptolemy.data.expr.Parameter" value="1.0">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="290.0, 250.0">
                    </property>
                </entity>
                <relation name="relation" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                    <vertex name="vertex1" value="145.0, 240.0">
                    </vertex>
                </relation>
                <relation name="relation4" class="ptolemy.actor.TypedIORelation">
                </relation>
                <link port="randomWait" relation="relation2"/>
                <link port="wakeUp" relation="relation4"/>
                <link port="Uniform.output" relation="relation"/>
                <link port="Uniform.trigger" relation="relation2"/>
                <link port="VariableDelay.input" relation="relation2"/>
                <link port="VariableDelay.output" relation="relation4"/>
                <link port="VariableDelay.delay" relation="relation"/>
            </entity>
            <relation name="dataRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="channelStateRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="senseChannelRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="outMSGRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="randomWaitRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="wakeUpRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="data" relation="dataRelation"/>
            <link port="channelState" relation="channelStateRelation"/>
            <link port="senseChannel" relation="senseChannelRelation"/>
            <link port="outMSG" relation="outMSGRelation"/>
            <link port="randomWait" relation="randomWaitRelation"/>
            <link port="wakeUp" relation="wakeUpRelation"/>
            <link port="_Controller.data" relation="dataRelation"/>
            <link port="_Controller.channelState" relation="channelStateRelation"/>
            <link port="_Controller.senseChannel" relation="senseChannelRelation"/>
            <link port="_Controller.outMSG" relation="outMSGRelation"/>
            <link port="_Controller.randomWait" relation="randomWaitRelation"/>
            <link port="_Controller.wakeUp" relation="wakeUpRelation"/>
            <link port="randomWait.data" relation="dataRelation"/>
            <link port="randomWait.channelState" relation="channelStateRelation"/>
            <link port="randomWait.senseChannel" relation="senseChannelRelation"/>
            <link port="randomWait.outMSG" relation="outMSGRelation"/>
            <link port="randomWait.randomWait" relation="randomWaitRelation"/>
            <link port="randomWait.wakeUp" relation="wakeUpRelation"/>
            <link port="Emit.data" relation="dataRelation"/>
            <link port="Emit.channelState" relation="channelStateRelation"/>
            <link port="Emit.senseChannel" relation="senseChannelRelation"/>
            <link port="Emit.outMSG" relation="outMSGRelation"/>
            <link port="Emit.randomWait" relation="randomWaitRelation"/>
            <link port="Emit.wakeUp" relation="wakeUpRelation"/>
        </entity>
        <entity name="TimedDelay" class="ptolemy.domains.de.lib.TimedDelay">
            <property name="delay" class="ptolemy.data.expr.Parameter" value="1.0">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="505.0, 300.0">
            </property>
        </entity>
        <entity name="For analysis" class="ptolemy.actor.TypedCompositeActor">
            <property name="_location" class="ptolemy.kernel.util.Location" value="470.0, 65.0">
            </property>
            <port name="time1" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 130.0">
                </property>
            </port>
            <port name="time2" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 185.0">
                </property>
            </port>
            <port name="report" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="465.0, 150.0">
                </property>
            </port>
            <port name="collision" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="SOUTH">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 255.0">
                </property>
            </port>
            <port name="report2" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="SOUTH">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="440.0, 265.0">
                </property>
            </port>
            <entity name="WaitingTime" class="ptolemy.domains.de.lib.WaitingTime">
                <property name="_location" class="ptolemy.kernel.util.Location" value="210.0, 140.0">
                </property>
            </entity>
            <entity name="RecordAssembler" class="ptolemy.actor.lib.RecordAssembler">
                <property name="_location" class="ptolemy.kernel.util.Location" value="340.0, 110.0">
                </property>
                <port name="id" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
                <port name="time" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
            </entity>
            <entity name="Const" class="ptolemy.actor.lib.Const">
                <property name="value" class="ptolemy.data.expr.Parameter" value="id">
                </property>
                <doc>Create a constant sequence</doc>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="300.0, 85.0">
                </property>
            </entity>
            <entity name="CurrentTime" class="ptolemy.actor.lib.CurrentTime">
                <doc>Output the current time.</doc>
                <property name="_location" class="ptolemy.kernel.util.Location" value="165.0, 290.0">
                </property>
            </entity>
            <entity name="RecordAssembler2" class="ptolemy.actor.lib.RecordAssembler">
                <property name="_location" class="ptolemy.kernel.util.Location" value="300.0, 245.0">
                </property>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                    </property>
                </port>
                <port name="collisionId" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="detectTime" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
            </entity>
            <entity name="Const2" class="ptolemy.actor.lib.Const">
                <property name="value" class="ptolemy.data.expr.Parameter" value="id">
                </property>
                <doc>Create a constant sequence</doc>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="165.0, 220.0">
                </property>
            </entity>
            <relation name="relation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation2" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="270.0, 140.0">
                </vertex>
            </relation>
            <relation name="relation4" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation8" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="120.0, 255.0">
                </vertex>
            </relation>
            <relation name="relation7" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation10" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation5" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation6" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="time1" relation="relation"/>
            <link port="time2" relation="relation2"/>
            <link port="report" relation="relation6"/>
            <link port="collision" relation="relation8"/>
            <link port="report2" relation="relation5"/>
            <link port="WaitingTime.output" relation="relation3"/>
            <link port="WaitingTime.waiter" relation="relation"/>
            <link port="WaitingTime.waitee" relation="relation2"/>
            <link port="RecordAssembler.output" relation="relation6"/>
            <link port="RecordAssembler.id" relation="relation4"/>
            <link port="RecordAssembler.time" relation="relation3"/>
            <link port="Const.output" relation="relation4"/>
            <link port="Const.trigger" relation="relation3"/>
            <link port="CurrentTime.output" relation="relation7"/>
            <link port="CurrentTime.trigger" relation="relation8"/>
            <link port="RecordAssembler2.output" relation="relation5"/>
            <link port="RecordAssembler2.collisionId" relation="relation10"/>
            <link port="RecordAssembler2.detectTime" relation="relation7"/>
            <link port="Const2.output" relation="relation10"/>
            <link port="Const2.trigger" relation="relation8"/>
        </entity>
        <entity name="modal model2" class="ptolemy.domains.fsm.modal.ModalModel">
            <property name="_tableauFactory" class="ptolemy.vergil.fsm.modal.ModalTableauFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="145.0, 185.0">
            </property>
            <port name="inMSG" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="channelState" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
            </port>
            <port name="senseChannel" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="collision" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
            </port>
            <entity name="_Controller" class="ptolemy.domains.fsm.modal.ModalController">
                <property name="initialStateName" class="ptolemy.kernel.util.StringAttribute" value="idle">
                </property>
                <property name="_library" class="ptolemy.moml.LibraryAttribute">
                    <configure>
        <entity name="state library" class="ptolemy.kernel.CompositeEntity"><input source="ptolemy/configs/basicUtilities.xml"></input><entity name="state" class="ptolemy.domains.fsm.kernel.State"><property name="_centerName" class="ptolemy.kernel.util.Attribute"></property><property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory"></property></entity></entity>
      </configure>
                </property>
                <port name="inMSG" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="0.0, 0.0">
                    </property>
                </port>
                <port name="channelState" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="335.0, 90.0">
                    </property>
                </port>
                <port name="senseChannel" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="-5.0, 90.0">
                    </property>
                </port>
                <port name="collision" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="240.0, 25.0">
                    </property>
                </port>
                <entity name="idle" class="ptolemy.domains.fsm.kernel.State">
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="190.5, 187.28129322224544">
                    </property>
                </entity>
                <entity name="receive" class="ptolemy.domains.fsm.kernel.State">
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="425.0, 195.0">
                    </property>
                </entity>
                <relation name="relation" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="inMSG_isPresent &amp;&amp; inMSG == &quot;END&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.9564982454336546">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation2" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="inMSG_isPresent &amp;&amp; inMSG == &quot;MSG&quot;">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="collision = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="2.512139297546763">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-0.21451248805933695">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation3" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="senseChannel_isPresent &amp;&amp; ! inMSG_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="channelState = &quot;BUSY&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="2.356194490192345">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.0687929371738796">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation4" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="senseChannel_isPresent &amp;&amp; !inMSG_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="channelState = &quot;FREE&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="2.13592263986528">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="1.4616814519565946">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation5" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="inMSG_isPresent &amp;&amp; inMSG == &quot;MSG&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="0.11144946119379541">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <link port="idle.incomingPort" relation="relation"/>
                <link port="idle.incomingPort" relation="relation4"/>
                <link port="idle.outgoingPort" relation="relation5"/>
                <link port="idle.outgoingPort" relation="relation4"/>
                <link port="receive.incomingPort" relation="relation5"/>
                <link port="receive.incomingPort" relation="relation2"/>
                <link port="receive.incomingPort" relation="relation3"/>
                <link port="receive.outgoingPort" relation="relation"/>
                <link port="receive.outgoingPort" relation="relation2"/>
                <link port="receive.outgoingPort" relation="relation3"/>
            </entity>
            <relation name="inMSGRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="channelStateRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="senseChannelRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="collisionRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="inMSG" relation="inMSGRelation"/>
            <link port="channelState" relation="channelStateRelation"/>
            <link port="senseChannel" relation="senseChannelRelation"/>
            <link port="collision" relation="collisionRelation"/>
            <link port="_Controller.inMSG" relation="inMSGRelation"/>
            <link port="_Controller.channelState" relation="channelStateRelation"/>
            <link port="_Controller.senseChannel" relation="senseChannelRelation"/>
            <link port="_Controller.collision" relation="collisionRelation"/>
        </entity>
        <relation name="relation5" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation7" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation8" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="210.0, 55.0">
            </vertex>
        </relation>
        <relation name="relation2" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="405.0, 75.0">
            </vertex>
        </relation>
        <relation name="relation6" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="465.0, 195.0">
            </vertex>
        </relation>
        <relation name="relation9" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation10" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation4" class="ptolemy.actor.TypedIORelation">
        </relation>
        <link port="in" relation="relation10"/>
        <link port="out" relation="relation2"/>
        <link port="report" relation="relation7"/>
        <link port="report2" relation="relation9"/>
        <link port="PoissonClock.output" relation="relation8"/>
        <link port="modal model.data" relation="relation8"/>
        <link port="modal model.channelState" relation="relation4"/>
        <link port="modal model.senseChannel" relation="relation5"/>
        <link port="modal model.outMSG" relation="relation2"/>
        <link port="TimedDelay.input" relation="relation5"/>
        <link port="TimedDelay.output" relation="relation"/>
        <link port="For analysis.time1" relation="relation8"/>
        <link port="For analysis.time2" relation="relation2"/>
        <link port="For analysis.report" relation="relation7"/>
        <link port="For analysis.collision" relation="relation6"/>
        <link port="For analysis.report2" relation="relation9"/>
        <link port="modal model2.inMSG" relation="relation10"/>
        <link port="modal model2.channelState" relation="relation4"/>
        <link port="modal model2.senseChannel" relation="relation"/>
        <link port="modal model2.collision" relation="relation6"/>
    </entity>
    <entity name="node15" class="ptolemy.domains.wireless.kernel.WirelessComposite">
        <property name="_location" class="ptolemy.kernel.util.Location" value="160.0, 515.0">
        </property>
        <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
            <property name="startTime" class="ptolemy.data.expr.Parameter" value="0.0">
            </property>
            <property name="stopTime" class="ptolemy.data.expr.Parameter" value="1.7976931348623E308">
            </property>
            <property name="stopWhenQueueIsEmpty" class="ptolemy.data.expr.Parameter" value="true">
            </property>
            <property name="synchronizeToRealTime" class="ptolemy.data.expr.Parameter" value="false">
            </property>
            <property name="isCQAdaptive" class="ptolemy.data.expr.Parameter" value="true">
            </property>
            <property name="minBinCount" class="ptolemy.data.expr.Parameter" value="2">
            </property>
            <property name="binCountFactor" class="ptolemy.data.expr.Parameter" value="2">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 40.0">
            </property>
        </property>
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={106, 164, 815, 518}, maximized=false}">
        </property>
        <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[600, 400]">
        </property>
        <property name="id" class="ptolemy.data.expr.Parameter" value="22">
        </property>
        <property name="annotation" class="ptolemy.kernel.util.Attribute">
            <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
            <property name="_iconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure><svg><text x="20" y="20" style="font-size:14; font-family:SansSerif; fill:blue">The protocol assumes that propagation takes no time but transmission takes time
that depends on the package's size. When having data to send, it first sense 
whether the channel is free or busy. If free, send the data, if not, then wait
for a random time and try again. The detection inteface is provided by the senseAir 
component. </text></svg></configure>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-A-</text>
      </svg>
    </configure>
            </property>
            <property name="_controllerFactory" class="ptolemy.vergil.basic.NodeControllerFactory">
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.AnnotationEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="-50.0, 370.0">
            </property>
        </property>
        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <port name="in" class="ptolemy.domains.wireless.kernel.WirelessIOPort">
            <property name="input"/>
            <property name="outsideChannel" class="ptolemy.data.expr.StringParameter" value="LimitedRangeChannel">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="70.0, 175.0">
            </property>
            <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
        </port>
        <port name="out" class="ptolemy.domains.wireless.kernel.WirelessIOPort">
            <property name="output"/>
            <property name="outsideChannel" class="ptolemy.data.expr.StringParameter" value="LimitedRangeChannel">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="425.0, 145.0">
            </property>
            <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
        </port>
        <port name="report" class="ptolemy.domains.wireless.kernel.WirelessIOPort">
            <property name="output"/>
            <property name="outsideChannel" class="ptolemy.data.expr.StringParameter" value="DataCollectChannel">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="545.0, 65.0">
            </property>
            <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
        </port>
        <port name="report2" class="ptolemy.domains.wireless.kernel.WirelessIOPort">
            <property name="output"/>
            <property name="outsideChannel" class="ptolemy.data.expr.StringParameter" value="CollisionReportChannel">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="545.0, 105.0">
            </property>
            <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
        </port>
        <entity name="PoissonClock" class="ptolemy.actor.lib.PoissonClock">
            <property name="meanTime" class="ptolemy.data.expr.Parameter" value="TrafficDensity">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="85.0, 105.0">
            </property>
        </entity>
        <entity name="modal model" class="ptolemy.domains.fsm.modal.ModalModel">
            <property name="_tableauFactory" class="ptolemy.vergil.fsm.modal.ModalTableauFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="270.0, 115.0">
            </property>
            <port name="data" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="channelState" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="senseChannel" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
            </port>
            <port name="outMSG" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="NORTH">
                </property>
            </port>
            <port name="randomWait" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="output"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="wakeUp" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="output"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <entity name="_Controller" class="ptolemy.domains.fsm.modal.ModalController">
                <property name="initialStateName" class="ptolemy.kernel.util.StringAttribute" value="idle">
                </property>
                <property name="_library" class="ptolemy.moml.LibraryAttribute">
                    <configure><entity name="state library" class="ptolemy.kernel.CompositeEntity"><input source="ptolemy/configs/basicUtilities.xml"></input><entity name="state" class="ptolemy.domains.fsm.kernel.State"><property name="_centerName" class="ptolemy.kernel.util.Attribute"></property></entity></entity></configure>
                </property>
                <port name="data" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="40.0, 95.0">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="channelState" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="35.0, 185.0">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="senseChannel" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="535.0, 70.0">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="outMSG" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="535.0, 155.0">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="randomWait" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="30.0, 260.0">
                    </property>
                    <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                </port>
                <port name="wakeUp" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="30.0, 330.0">
                    </property>
                    <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                </port>
                <entity name="idle" class="ptolemy.domains.fsm.kernel.State">
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="115.0, 145.0">
                    </property>
                </entity>
                <entity name="senseAir" class="ptolemy.domains.fsm.kernel.State">
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="255.0, 120.0">
                    </property>
                </entity>
                <entity name="randomWait" class="ptolemy.domains.fsm.kernel.State">
                    <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="randomWait">
                    </property>
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="460.0, 125.0">
                    </property>
                </entity>
                <entity name="Emit" class="ptolemy.domains.fsm.kernel.State">
                    <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="Emit">
                    </property>
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="270.0, 355.0">
                    </property>
                </entity>
                <relation name="relation" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="data_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="senseChannel = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.7290251868073567">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-0.2479894981275352">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation2" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="channelState_isPresent &amp;&amp; channelState == &quot;BUSY&quot;">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="randomWait = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.8816266690949863">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="0.3014559376966855">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation3" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="wakeUp_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="senseChannel = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.7432607920971347">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.969499643808648">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation4" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="channelState_isPresent &amp;&amp; channelState == &quot;FREE&quot;">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="outMSG = &quot;MSG&quot;; randomWait = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.04481040911079372">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="1.5101165449404714">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation5" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="wakeUp_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="outMSG = &quot;END&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.28882718043739275">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.217615632874857">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <link port="idle.incomingPort" relation="relation5"/>
                <link port="idle.outgoingPort" relation="relation"/>
                <link port="senseAir.incomingPort" relation="relation"/>
                <link port="senseAir.incomingPort" relation="relation3"/>
                <link port="senseAir.outgoingPort" relation="relation2"/>
                <link port="senseAir.outgoingPort" relation="relation4"/>
                <link port="randomWait.incomingPort" relation="relation2"/>
                <link port="randomWait.outgoingPort" relation="relation3"/>
                <link port="Emit.incomingPort" relation="relation4"/>
                <link port="Emit.outgoingPort" relation="relation5"/>
            </entity>
            <entity name="randomWait" class="ptolemy.domains.fsm.modal.Refinement">
                <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
                    <property name="startTime" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                    <property name="stopTime" class="ptolemy.data.expr.Parameter" value="1.7976931348623E308">
                    </property>
                    <property name="stopWhenQueueIsEmpty" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="synchronizeToRealTime" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="isCQAdaptive" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="minBinCount" class="ptolemy.data.expr.Parameter" value="2">
                    </property>
                    <property name="binCountFactor" class="ptolemy.data.expr.Parameter" value="2">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 40.0">
                    </property>
                </property>
                <port name="data" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="45.0, 125.0">
                    </property>
                </port>
                <port name="channelState" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="55.0, 215.0">
                    </property>
                </port>
                <port name="senseChannel" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="415.0, 160.0">
                    </property>
                </port>
                <port name="outMSG" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="525.0, 325.0">
                    </property>
                </port>
                <port name="randomWait" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="70.0, 280.0">
                    </property>
                </port>
                <port name="wakeUp" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="420.0, 255.0">
                    </property>
                </port>
                <entity name="VariableDelay" class="ptolemy.domains.de.lib.VariableDelay">
                    <property name="defaultDelay" class="ptolemy.data.expr.Parameter" value="1.0">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="290.0, 250.0">
                    </property>
                </entity>
                <entity name="Uniform" class="ptolemy.actor.lib.Uniform">
                    <property name="seed" class="ptolemy.data.expr.Parameter" value="0L">
                    </property>
                    <property name="lowerBound" class="ptolemy.data.expr.Parameter" value="MinWaiting">
                    </property>
                    <property name="upperBound" class="ptolemy.data.expr.Parameter" value="MaxWaiting">
                    </property>
                    <doc>Create a sequence of uniformly distributed random numbers</doc>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="190.0, 315.0">
                    </property>
                </entity>
                <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                    <vertex name="vertex1" value="145.0, 240.0">
                    </vertex>
                </relation>
                <relation name="relation" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                </relation>
                <link port="randomWait" relation="relation2"/>
                <link port="wakeUp" relation="relation3"/>
                <link port="VariableDelay.input" relation="relation2"/>
                <link port="VariableDelay.output" relation="relation3"/>
                <link port="VariableDelay.delay" relation="relation"/>
                <link port="Uniform.output" relation="relation"/>
                <link port="Uniform.trigger" relation="relation2"/>
            </entity>
            <entity name="Emit" class="ptolemy.domains.fsm.modal.Refinement">
                <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
                    <property name="startTime" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                    <property name="stopTime" class="ptolemy.data.expr.Parameter" value="1.7976931348623E308">
                    </property>
                    <property name="stopWhenQueueIsEmpty" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="synchronizeToRealTime" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="isCQAdaptive" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="minBinCount" class="ptolemy.data.expr.Parameter" value="2">
                    </property>
                    <property name="binCountFactor" class="ptolemy.data.expr.Parameter" value="2">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="270.0, 85.0">
                    </property>
                </property>
                <port name="data" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="55.0, 305.0">
                    </property>
                </port>
                <port name="channelState" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="100.0, 150.0">
                    </property>
                </port>
                <port name="senseChannel" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="90.0, 60.0">
                    </property>
                </port>
                <port name="outMSG" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="40.0, 205.0">
                    </property>
                </port>
                <port name="randomWait" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="85.0, 275.0">
                    </property>
                </port>
                <port name="wakeUp" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="485.0, 210.0">
                    </property>
                </port>
                <entity name="Uniform" class="ptolemy.actor.lib.Uniform">
                    <property name="seed" class="ptolemy.data.expr.Parameter" value="10L">
                    </property>
                    <property name="lowerBound" class="ptolemy.data.expr.Parameter" value="MinTxTime">
                    </property>
                    <property name="upperBound" class="ptolemy.data.expr.Parameter" value="MaxTxTime">
                    </property>
                    <doc>Create a sequence of uniformly distributed random numbers</doc>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="190.0, 315.0">
                    </property>
                </entity>
                <entity name="VariableDelay" class="ptolemy.domains.de.lib.VariableDelay">
                    <property name="defaultDelay" class="ptolemy.data.expr.Parameter" value="1.0">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="290.0, 250.0">
                    </property>
                </entity>
                <relation name="relation" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                    <vertex name="vertex1" value="145.0, 240.0">
                    </vertex>
                </relation>
                <relation name="relation4" class="ptolemy.actor.TypedIORelation">
                </relation>
                <link port="randomWait" relation="relation2"/>
                <link port="wakeUp" relation="relation4"/>
                <link port="Uniform.output" relation="relation"/>
                <link port="Uniform.trigger" relation="relation2"/>
                <link port="VariableDelay.input" relation="relation2"/>
                <link port="VariableDelay.output" relation="relation4"/>
                <link port="VariableDelay.delay" relation="relation"/>
            </entity>
            <relation name="dataRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="channelStateRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="senseChannelRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="outMSGRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="randomWaitRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="wakeUpRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="data" relation="dataRelation"/>
            <link port="channelState" relation="channelStateRelation"/>
            <link port="senseChannel" relation="senseChannelRelation"/>
            <link port="outMSG" relation="outMSGRelation"/>
            <link port="randomWait" relation="randomWaitRelation"/>
            <link port="wakeUp" relation="wakeUpRelation"/>
            <link port="_Controller.data" relation="dataRelation"/>
            <link port="_Controller.channelState" relation="channelStateRelation"/>
            <link port="_Controller.senseChannel" relation="senseChannelRelation"/>
            <link port="_Controller.outMSG" relation="outMSGRelation"/>
            <link port="_Controller.randomWait" relation="randomWaitRelation"/>
            <link port="_Controller.wakeUp" relation="wakeUpRelation"/>
            <link port="randomWait.data" relation="dataRelation"/>
            <link port="randomWait.channelState" relation="channelStateRelation"/>
            <link port="randomWait.senseChannel" relation="senseChannelRelation"/>
            <link port="randomWait.outMSG" relation="outMSGRelation"/>
            <link port="randomWait.randomWait" relation="randomWaitRelation"/>
            <link port="randomWait.wakeUp" relation="wakeUpRelation"/>
            <link port="Emit.data" relation="dataRelation"/>
            <link port="Emit.channelState" relation="channelStateRelation"/>
            <link port="Emit.senseChannel" relation="senseChannelRelation"/>
            <link port="Emit.outMSG" relation="outMSGRelation"/>
            <link port="Emit.randomWait" relation="randomWaitRelation"/>
            <link port="Emit.wakeUp" relation="wakeUpRelation"/>
        </entity>
        <entity name="TimedDelay" class="ptolemy.domains.de.lib.TimedDelay">
            <property name="delay" class="ptolemy.data.expr.Parameter" value="1.0">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="505.0, 300.0">
            </property>
        </entity>
        <entity name="For analysis" class="ptolemy.actor.TypedCompositeActor">
            <property name="_location" class="ptolemy.kernel.util.Location" value="470.0, 65.0">
            </property>
            <port name="time1" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 130.0">
                </property>
            </port>
            <port name="time2" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 185.0">
                </property>
            </port>
            <port name="report" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="465.0, 150.0">
                </property>
            </port>
            <port name="collision" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="SOUTH">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 255.0">
                </property>
            </port>
            <port name="report2" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="SOUTH">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="440.0, 265.0">
                </property>
            </port>
            <entity name="WaitingTime" class="ptolemy.domains.de.lib.WaitingTime">
                <property name="_location" class="ptolemy.kernel.util.Location" value="210.0, 140.0">
                </property>
            </entity>
            <entity name="RecordAssembler" class="ptolemy.actor.lib.RecordAssembler">
                <property name="_location" class="ptolemy.kernel.util.Location" value="340.0, 110.0">
                </property>
                <port name="id" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
                <port name="time" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
            </entity>
            <entity name="Const" class="ptolemy.actor.lib.Const">
                <property name="value" class="ptolemy.data.expr.Parameter" value="id">
                </property>
                <doc>Create a constant sequence</doc>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="300.0, 85.0">
                </property>
            </entity>
            <entity name="CurrentTime" class="ptolemy.actor.lib.CurrentTime">
                <doc>Output the current time.</doc>
                <property name="_location" class="ptolemy.kernel.util.Location" value="165.0, 290.0">
                </property>
            </entity>
            <entity name="RecordAssembler2" class="ptolemy.actor.lib.RecordAssembler">
                <property name="_location" class="ptolemy.kernel.util.Location" value="300.0, 245.0">
                </property>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                    </property>
                </port>
                <port name="collisionId" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="detectTime" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
            </entity>
            <entity name="Const2" class="ptolemy.actor.lib.Const">
                <property name="value" class="ptolemy.data.expr.Parameter" value="id">
                </property>
                <doc>Create a constant sequence</doc>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="165.0, 220.0">
                </property>
            </entity>
            <relation name="relation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation2" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="270.0, 140.0">
                </vertex>
            </relation>
            <relation name="relation4" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation8" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="120.0, 255.0">
                </vertex>
            </relation>
            <relation name="relation7" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation10" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation5" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation6" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="time1" relation="relation"/>
            <link port="time2" relation="relation2"/>
            <link port="report" relation="relation6"/>
            <link port="collision" relation="relation8"/>
            <link port="report2" relation="relation5"/>
            <link port="WaitingTime.output" relation="relation3"/>
            <link port="WaitingTime.waiter" relation="relation"/>
            <link port="WaitingTime.waitee" relation="relation2"/>
            <link port="RecordAssembler.output" relation="relation6"/>
            <link port="RecordAssembler.id" relation="relation4"/>
            <link port="RecordAssembler.time" relation="relation3"/>
            <link port="Const.output" relation="relation4"/>
            <link port="Const.trigger" relation="relation3"/>
            <link port="CurrentTime.output" relation="relation7"/>
            <link port="CurrentTime.trigger" relation="relation8"/>
            <link port="RecordAssembler2.output" relation="relation5"/>
            <link port="RecordAssembler2.collisionId" relation="relation10"/>
            <link port="RecordAssembler2.detectTime" relation="relation7"/>
            <link port="Const2.output" relation="relation10"/>
            <link port="Const2.trigger" relation="relation8"/>
        </entity>
        <entity name="modal model2" class="ptolemy.domains.fsm.modal.ModalModel">
            <property name="_tableauFactory" class="ptolemy.vergil.fsm.modal.ModalTableauFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="145.0, 185.0">
            </property>
            <port name="inMSG" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="channelState" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
            </port>
            <port name="senseChannel" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="collision" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
            </port>
            <entity name="_Controller" class="ptolemy.domains.fsm.modal.ModalController">
                <property name="initialStateName" class="ptolemy.kernel.util.StringAttribute" value="idle">
                </property>
                <property name="_library" class="ptolemy.moml.LibraryAttribute">
                    <configure>
        <entity name="state library" class="ptolemy.kernel.CompositeEntity"><input source="ptolemy/configs/basicUtilities.xml"></input><entity name="state" class="ptolemy.domains.fsm.kernel.State"><property name="_centerName" class="ptolemy.kernel.util.Attribute"></property><property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory"></property></entity></entity>
      </configure>
                </property>
                <port name="inMSG" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="0.0, 0.0">
                    </property>
                </port>
                <port name="channelState" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="335.0, 90.0">
                    </property>
                </port>
                <port name="senseChannel" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="-5.0, 90.0">
                    </property>
                </port>
                <port name="collision" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="240.0, 25.0">
                    </property>
                </port>
                <entity name="idle" class="ptolemy.domains.fsm.kernel.State">
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="190.5, 187.28129322224544">
                    </property>
                </entity>
                <entity name="receive" class="ptolemy.domains.fsm.kernel.State">
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="425.0, 195.0">
                    </property>
                </entity>
                <relation name="relation" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="inMSG_isPresent &amp;&amp; inMSG == &quot;END&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.9564982454336546">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation2" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="inMSG_isPresent &amp;&amp; inMSG == &quot;MSG&quot;">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="collision = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="2.512139297546763">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-0.21451248805933695">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation3" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="senseChannel_isPresent &amp;&amp; ! inMSG_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="channelState = &quot;BUSY&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="2.356194490192345">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.0687929371738796">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation4" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="senseChannel_isPresent &amp;&amp; !inMSG_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="channelState = &quot;FREE&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="2.13592263986528">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="1.4616814519565946">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation5" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="inMSG_isPresent &amp;&amp; inMSG == &quot;MSG&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="0.11144946119379541">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <link port="idle.incomingPort" relation="relation"/>
                <link port="idle.incomingPort" relation="relation4"/>
                <link port="idle.outgoingPort" relation="relation5"/>
                <link port="idle.outgoingPort" relation="relation4"/>
                <link port="receive.incomingPort" relation="relation5"/>
                <link port="receive.incomingPort" relation="relation2"/>
                <link port="receive.incomingPort" relation="relation3"/>
                <link port="receive.outgoingPort" relation="relation"/>
                <link port="receive.outgoingPort" relation="relation2"/>
                <link port="receive.outgoingPort" relation="relation3"/>
            </entity>
            <relation name="inMSGRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="channelStateRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="senseChannelRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="collisionRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="inMSG" relation="inMSGRelation"/>
            <link port="channelState" relation="channelStateRelation"/>
            <link port="senseChannel" relation="senseChannelRelation"/>
            <link port="collision" relation="collisionRelation"/>
            <link port="_Controller.inMSG" relation="inMSGRelation"/>
            <link port="_Controller.channelState" relation="channelStateRelation"/>
            <link port="_Controller.senseChannel" relation="senseChannelRelation"/>
            <link port="_Controller.collision" relation="collisionRelation"/>
        </entity>
        <relation name="relation5" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation7" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation8" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="210.0, 55.0">
            </vertex>
        </relation>
        <relation name="relation2" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="405.0, 75.0">
            </vertex>
        </relation>
        <relation name="relation6" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="465.0, 195.0">
            </vertex>
        </relation>
        <relation name="relation9" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation10" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation4" class="ptolemy.actor.TypedIORelation">
        </relation>
        <link port="in" relation="relation10"/>
        <link port="out" relation="relation2"/>
        <link port="report" relation="relation7"/>
        <link port="report2" relation="relation9"/>
        <link port="PoissonClock.output" relation="relation8"/>
        <link port="modal model.data" relation="relation8"/>
        <link port="modal model.channelState" relation="relation4"/>
        <link port="modal model.senseChannel" relation="relation5"/>
        <link port="modal model.outMSG" relation="relation2"/>
        <link port="TimedDelay.input" relation="relation5"/>
        <link port="TimedDelay.output" relation="relation"/>
        <link port="For analysis.time1" relation="relation8"/>
        <link port="For analysis.time2" relation="relation2"/>
        <link port="For analysis.report" relation="relation7"/>
        <link port="For analysis.collision" relation="relation6"/>
        <link port="For analysis.report2" relation="relation9"/>
        <link port="modal model2.inMSG" relation="relation10"/>
        <link port="modal model2.channelState" relation="relation4"/>
        <link port="modal model2.senseChannel" relation="relation"/>
        <link port="modal model2.collision" relation="relation6"/>
    </entity>
    <entity name="node16" class="ptolemy.domains.wireless.kernel.WirelessComposite">
        <property name="_location" class="ptolemy.kernel.util.Location" value="160.0, 120.0">
        </property>
        <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
            <property name="startTime" class="ptolemy.data.expr.Parameter" value="0.0">
            </property>
            <property name="stopTime" class="ptolemy.data.expr.Parameter" value="1.7976931348623E308">
            </property>
            <property name="stopWhenQueueIsEmpty" class="ptolemy.data.expr.Parameter" value="true">
            </property>
            <property name="synchronizeToRealTime" class="ptolemy.data.expr.Parameter" value="false">
            </property>
            <property name="isCQAdaptive" class="ptolemy.data.expr.Parameter" value="true">
            </property>
            <property name="minBinCount" class="ptolemy.data.expr.Parameter" value="2">
            </property>
            <property name="binCountFactor" class="ptolemy.data.expr.Parameter" value="2">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 40.0">
            </property>
        </property>
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={106, 164, 815, 518}, maximized=false}">
        </property>
        <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[600, 400]">
        </property>
        <property name="id" class="ptolemy.data.expr.Parameter" value="2">
        </property>
        <property name="annotation" class="ptolemy.kernel.util.Attribute">
            <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
            <property name="_iconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure><svg><text x="20" y="20" style="font-size:14; font-family:SansSerif; fill:blue">The protocol assumes that propagation takes no time but transmission takes time
that depends on the package's size. When having data to send, it first sense 
whether the channel is free or busy. If free, send the data, if not, then wait
for a random time and try again. The detection inteface is provided by the senseAir 
component. </text></svg></configure>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-A-</text>
      </svg>
    </configure>
            </property>
            <property name="_controllerFactory" class="ptolemy.vergil.basic.NodeControllerFactory">
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.AnnotationEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="-50.0, 370.0">
            </property>
        </property>
        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <port name="in" class="ptolemy.domains.wireless.kernel.WirelessIOPort">
            <property name="input"/>
            <property name="outsideChannel" class="ptolemy.data.expr.StringParameter" value="LimitedRangeChannel">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="70.0, 175.0">
            </property>
            <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
        </port>
        <port name="out" class="ptolemy.domains.wireless.kernel.WirelessIOPort">
            <property name="output"/>
            <property name="outsideChannel" class="ptolemy.data.expr.StringParameter" value="LimitedRangeChannel">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="425.0, 145.0">
            </property>
            <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
        </port>
        <port name="report" class="ptolemy.domains.wireless.kernel.WirelessIOPort">
            <property name="output"/>
            <property name="outsideChannel" class="ptolemy.data.expr.StringParameter" value="DataCollectChannel">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="545.0, 65.0">
            </property>
            <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
        </port>
        <port name="report2" class="ptolemy.domains.wireless.kernel.WirelessIOPort">
            <property name="output"/>
            <property name="outsideChannel" class="ptolemy.data.expr.StringParameter" value="CollisionReportChannel">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="545.0, 105.0">
            </property>
            <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
        </port>
        <entity name="PoissonClock" class="ptolemy.actor.lib.PoissonClock">
            <property name="meanTime" class="ptolemy.data.expr.Parameter" value="TrafficDensity">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="85.0, 105.0">
            </property>
        </entity>
        <entity name="modal model" class="ptolemy.domains.fsm.modal.ModalModel">
            <property name="_tableauFactory" class="ptolemy.vergil.fsm.modal.ModalTableauFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="270.0, 115.0">
            </property>
            <port name="data" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="channelState" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="senseChannel" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
            </port>
            <port name="outMSG" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="NORTH">
                </property>
            </port>
            <port name="randomWait" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="output"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="wakeUp" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="output"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <entity name="_Controller" class="ptolemy.domains.fsm.modal.ModalController">
                <property name="initialStateName" class="ptolemy.kernel.util.StringAttribute" value="idle">
                </property>
                <property name="_library" class="ptolemy.moml.LibraryAttribute">
                    <configure><entity name="state library" class="ptolemy.kernel.CompositeEntity"><input source="ptolemy/configs/basicUtilities.xml"></input><entity name="state" class="ptolemy.domains.fsm.kernel.State"><property name="_centerName" class="ptolemy.kernel.util.Attribute"></property></entity></entity></configure>
                </property>
                <port name="data" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="40.0, 95.0">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="channelState" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="35.0, 185.0">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="senseChannel" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="535.0, 70.0">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="outMSG" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="535.0, 155.0">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="randomWait" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="30.0, 260.0">
                    </property>
                    <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                </port>
                <port name="wakeUp" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="30.0, 330.0">
                    </property>
                    <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                </port>
                <entity name="idle" class="ptolemy.domains.fsm.kernel.State">
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="115.0, 145.0">
                    </property>
                </entity>
                <entity name="senseAir" class="ptolemy.domains.fsm.kernel.State">
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="255.0, 120.0">
                    </property>
                </entity>
                <entity name="randomWait" class="ptolemy.domains.fsm.kernel.State">
                    <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="randomWait">
                    </property>
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="460.0, 125.0">
                    </property>
                </entity>
                <entity name="Emit" class="ptolemy.domains.fsm.kernel.State">
                    <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="Emit">
                    </property>
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="270.0, 355.0">
                    </property>
                </entity>
                <relation name="relation" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="data_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="senseChannel = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.7290251868073567">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-0.2479894981275352">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation2" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="channelState_isPresent &amp;&amp; channelState == &quot;BUSY&quot;">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="randomWait = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.8816266690949863">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="0.3014559376966855">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation3" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="wakeUp_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="senseChannel = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.7432607920971347">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.969499643808648">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation4" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="channelState_isPresent &amp;&amp; channelState == &quot;FREE&quot;">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="outMSG = &quot;MSG&quot;; randomWait = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.04481040911079372">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="1.5101165449404714">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation5" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="wakeUp_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="outMSG = &quot;END&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.28882718043739275">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.217615632874857">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <link port="idle.incomingPort" relation="relation5"/>
                <link port="idle.outgoingPort" relation="relation"/>
                <link port="senseAir.incomingPort" relation="relation"/>
                <link port="senseAir.incomingPort" relation="relation3"/>
                <link port="senseAir.outgoingPort" relation="relation2"/>
                <link port="senseAir.outgoingPort" relation="relation4"/>
                <link port="randomWait.incomingPort" relation="relation2"/>
                <link port="randomWait.outgoingPort" relation="relation3"/>
                <link port="Emit.incomingPort" relation="relation4"/>
                <link port="Emit.outgoingPort" relation="relation5"/>
            </entity>
            <entity name="randomWait" class="ptolemy.domains.fsm.modal.Refinement">
                <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
                    <property name="startTime" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                    <property name="stopTime" class="ptolemy.data.expr.Parameter" value="1.7976931348623E308">
                    </property>
                    <property name="stopWhenQueueIsEmpty" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="synchronizeToRealTime" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="isCQAdaptive" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="minBinCount" class="ptolemy.data.expr.Parameter" value="2">
                    </property>
                    <property name="binCountFactor" class="ptolemy.data.expr.Parameter" value="2">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 40.0">
                    </property>
                </property>
                <port name="data" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="45.0, 125.0">
                    </property>
                </port>
                <port name="channelState" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="55.0, 215.0">
                    </property>
                </port>
                <port name="senseChannel" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="415.0, 160.0">
                    </property>
                </port>
                <port name="outMSG" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="525.0, 325.0">
                    </property>
                </port>
                <port name="randomWait" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="70.0, 280.0">
                    </property>
                </port>
                <port name="wakeUp" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="420.0, 255.0">
                    </property>
                </port>
                <entity name="VariableDelay" class="ptolemy.domains.de.lib.VariableDelay">
                    <property name="defaultDelay" class="ptolemy.data.expr.Parameter" value="1.0">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="290.0, 250.0">
                    </property>
                </entity>
                <entity name="Uniform" class="ptolemy.actor.lib.Uniform">
                    <property name="seed" class="ptolemy.data.expr.Parameter" value="0L">
                    </property>
                    <property name="lowerBound" class="ptolemy.data.expr.Parameter" value="MinWaiting">
                    </property>
                    <property name="upperBound" class="ptolemy.data.expr.Parameter" value="MaxWaiting">
                    </property>
                    <doc>Create a sequence of uniformly distributed random numbers</doc>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="190.0, 315.0">
                    </property>
                </entity>
                <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                    <vertex name="vertex1" value="145.0, 240.0">
                    </vertex>
                </relation>
                <relation name="relation" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                </relation>
                <link port="randomWait" relation="relation2"/>
                <link port="wakeUp" relation="relation3"/>
                <link port="VariableDelay.input" relation="relation2"/>
                <link port="VariableDelay.output" relation="relation3"/>
                <link port="VariableDelay.delay" relation="relation"/>
                <link port="Uniform.output" relation="relation"/>
                <link port="Uniform.trigger" relation="relation2"/>
            </entity>
            <entity name="Emit" class="ptolemy.domains.fsm.modal.Refinement">
                <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
                    <property name="startTime" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                    <property name="stopTime" class="ptolemy.data.expr.Parameter" value="1.7976931348623E308">
                    </property>
                    <property name="stopWhenQueueIsEmpty" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="synchronizeToRealTime" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="isCQAdaptive" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="minBinCount" class="ptolemy.data.expr.Parameter" value="2">
                    </property>
                    <property name="binCountFactor" class="ptolemy.data.expr.Parameter" value="2">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="270.0, 85.0">
                    </property>
                </property>
                <port name="data" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="55.0, 305.0">
                    </property>
                </port>
                <port name="channelState" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="100.0, 150.0">
                    </property>
                </port>
                <port name="senseChannel" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="90.0, 60.0">
                    </property>
                </port>
                <port name="outMSG" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="40.0, 205.0">
                    </property>
                </port>
                <port name="randomWait" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="85.0, 275.0">
                    </property>
                </port>
                <port name="wakeUp" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="485.0, 210.0">
                    </property>
                </port>
                <entity name="Uniform" class="ptolemy.actor.lib.Uniform">
                    <property name="seed" class="ptolemy.data.expr.Parameter" value="10L">
                    </property>
                    <property name="lowerBound" class="ptolemy.data.expr.Parameter" value="MinTxTime">
                    </property>
                    <property name="upperBound" class="ptolemy.data.expr.Parameter" value="MaxTxTime">
                    </property>
                    <doc>Create a sequence of uniformly distributed random numbers</doc>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="190.0, 315.0">
                    </property>
                </entity>
                <entity name="VariableDelay" class="ptolemy.domains.de.lib.VariableDelay">
                    <property name="defaultDelay" class="ptolemy.data.expr.Parameter" value="1.0">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="290.0, 250.0">
                    </property>
                </entity>
                <relation name="relation" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                    <vertex name="vertex1" value="145.0, 240.0">
                    </vertex>
                </relation>
                <relation name="relation4" class="ptolemy.actor.TypedIORelation">
                </relation>
                <link port="randomWait" relation="relation2"/>
                <link port="wakeUp" relation="relation4"/>
                <link port="Uniform.output" relation="relation"/>
                <link port="Uniform.trigger" relation="relation2"/>
                <link port="VariableDelay.input" relation="relation2"/>
                <link port="VariableDelay.output" relation="relation4"/>
                <link port="VariableDelay.delay" relation="relation"/>
            </entity>
            <relation name="dataRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="channelStateRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="senseChannelRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="outMSGRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="randomWaitRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="wakeUpRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="data" relation="dataRelation"/>
            <link port="channelState" relation="channelStateRelation"/>
            <link port="senseChannel" relation="senseChannelRelation"/>
            <link port="outMSG" relation="outMSGRelation"/>
            <link port="randomWait" relation="randomWaitRelation"/>
            <link port="wakeUp" relation="wakeUpRelation"/>
            <link port="_Controller.data" relation="dataRelation"/>
            <link port="_Controller.channelState" relation="channelStateRelation"/>
            <link port="_Controller.senseChannel" relation="senseChannelRelation"/>
            <link port="_Controller.outMSG" relation="outMSGRelation"/>
            <link port="_Controller.randomWait" relation="randomWaitRelation"/>
            <link port="_Controller.wakeUp" relation="wakeUpRelation"/>
            <link port="randomWait.data" relation="dataRelation"/>
            <link port="randomWait.channelState" relation="channelStateRelation"/>
            <link port="randomWait.senseChannel" relation="senseChannelRelation"/>
            <link port="randomWait.outMSG" relation="outMSGRelation"/>
            <link port="randomWait.randomWait" relation="randomWaitRelation"/>
            <link port="randomWait.wakeUp" relation="wakeUpRelation"/>
            <link port="Emit.data" relation="dataRelation"/>
            <link port="Emit.channelState" relation="channelStateRelation"/>
            <link port="Emit.senseChannel" relation="senseChannelRelation"/>
            <link port="Emit.outMSG" relation="outMSGRelation"/>
            <link port="Emit.randomWait" relation="randomWaitRelation"/>
            <link port="Emit.wakeUp" relation="wakeUpRelation"/>
        </entity>
        <entity name="TimedDelay" class="ptolemy.domains.de.lib.TimedDelay">
            <property name="delay" class="ptolemy.data.expr.Parameter" value="1.0">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="505.0, 300.0">
            </property>
        </entity>
        <entity name="For analysis" class="ptolemy.actor.TypedCompositeActor">
            <property name="_location" class="ptolemy.kernel.util.Location" value="470.0, 65.0">
            </property>
            <port name="time1" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 130.0">
                </property>
            </port>
            <port name="time2" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 185.0">
                </property>
            </port>
            <port name="report" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="465.0, 150.0">
                </property>
            </port>
            <port name="collision" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="SOUTH">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 255.0">
                </property>
            </port>
            <port name="report2" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="SOUTH">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="440.0, 265.0">
                </property>
            </port>
            <entity name="WaitingTime" class="ptolemy.domains.de.lib.WaitingTime">
                <property name="_location" class="ptolemy.kernel.util.Location" value="210.0, 140.0">
                </property>
            </entity>
            <entity name="RecordAssembler" class="ptolemy.actor.lib.RecordAssembler">
                <property name="_location" class="ptolemy.kernel.util.Location" value="340.0, 110.0">
                </property>
                <port name="id" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
                <port name="time" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
            </entity>
            <entity name="Const" class="ptolemy.actor.lib.Const">
                <property name="value" class="ptolemy.data.expr.Parameter" value="id">
                </property>
                <doc>Create a constant sequence</doc>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="300.0, 85.0">
                </property>
            </entity>
            <entity name="CurrentTime" class="ptolemy.actor.lib.CurrentTime">
                <doc>Output the current time.</doc>
                <property name="_location" class="ptolemy.kernel.util.Location" value="165.0, 290.0">
                </property>
            </entity>
            <entity name="RecordAssembler2" class="ptolemy.actor.lib.RecordAssembler">
                <property name="_location" class="ptolemy.kernel.util.Location" value="300.0, 245.0">
                </property>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                    </property>
                </port>
                <port name="collisionId" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="detectTime" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
            </entity>
            <entity name="Const2" class="ptolemy.actor.lib.Const">
                <property name="value" class="ptolemy.data.expr.Parameter" value="id">
                </property>
                <doc>Create a constant sequence</doc>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="165.0, 220.0">
                </property>
            </entity>
            <relation name="relation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation2" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="270.0, 140.0">
                </vertex>
            </relation>
            <relation name="relation4" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation8" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="120.0, 255.0">
                </vertex>
            </relation>
            <relation name="relation7" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation10" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation5" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation6" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="time1" relation="relation"/>
            <link port="time2" relation="relation2"/>
            <link port="report" relation="relation6"/>
            <link port="collision" relation="relation8"/>
            <link port="report2" relation="relation5"/>
            <link port="WaitingTime.output" relation="relation3"/>
            <link port="WaitingTime.waiter" relation="relation"/>
            <link port="WaitingTime.waitee" relation="relation2"/>
            <link port="RecordAssembler.output" relation="relation6"/>
            <link port="RecordAssembler.id" relation="relation4"/>
            <link port="RecordAssembler.time" relation="relation3"/>
            <link port="Const.output" relation="relation4"/>
            <link port="Const.trigger" relation="relation3"/>
            <link port="CurrentTime.output" relation="relation7"/>
            <link port="CurrentTime.trigger" relation="relation8"/>
            <link port="RecordAssembler2.output" relation="relation5"/>
            <link port="RecordAssembler2.collisionId" relation="relation10"/>
            <link port="RecordAssembler2.detectTime" relation="relation7"/>
            <link port="Const2.output" relation="relation10"/>
            <link port="Const2.trigger" relation="relation8"/>
        </entity>
        <entity name="modal model2" class="ptolemy.domains.fsm.modal.ModalModel">
            <property name="_tableauFactory" class="ptolemy.vergil.fsm.modal.ModalTableauFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="145.0, 185.0">
            </property>
            <port name="inMSG" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="channelState" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
            </port>
            <port name="senseChannel" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="collision" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
            </port>
            <entity name="_Controller" class="ptolemy.domains.fsm.modal.ModalController">
                <property name="initialStateName" class="ptolemy.kernel.util.StringAttribute" value="idle">
                </property>
                <property name="_library" class="ptolemy.moml.LibraryAttribute">
                    <configure>
        <entity name="state library" class="ptolemy.kernel.CompositeEntity"><input source="ptolemy/configs/basicUtilities.xml"></input><entity name="state" class="ptolemy.domains.fsm.kernel.State"><property name="_centerName" class="ptolemy.kernel.util.Attribute"></property><property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory"></property></entity></entity>
      </configure>
                </property>
                <port name="inMSG" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="0.0, 0.0">
                    </property>
                </port>
                <port name="channelState" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="335.0, 90.0">
                    </property>
                </port>
                <port name="senseChannel" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="-5.0, 90.0">
                    </property>
                </port>
                <port name="collision" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="240.0, 25.0">
                    </property>
                </port>
                <entity name="idle" class="ptolemy.domains.fsm.kernel.State">
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="190.5, 187.28129322224544">
                    </property>
                </entity>
                <entity name="receive" class="ptolemy.domains.fsm.kernel.State">
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="425.0, 195.0">
                    </property>
                </entity>
                <relation name="relation" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="inMSG_isPresent &amp;&amp; inMSG == &quot;END&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.9564982454336546">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation2" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="inMSG_isPresent &amp;&amp; inMSG == &quot;MSG&quot;">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="collision = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="2.512139297546763">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-0.21451248805933695">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation3" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="senseChannel_isPresent &amp;&amp; ! inMSG_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="channelState = &quot;BUSY&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="2.356194490192345">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.0687929371738796">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation4" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="senseChannel_isPresent &amp;&amp; !inMSG_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="channelState = &quot;FREE&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="2.13592263986528">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="1.4616814519565946">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation5" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="inMSG_isPresent &amp;&amp; inMSG == &quot;MSG&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="0.11144946119379541">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <link port="idle.incomingPort" relation="relation"/>
                <link port="idle.incomingPort" relation="relation4"/>
                <link port="idle.outgoingPort" relation="relation5"/>
                <link port="idle.outgoingPort" relation="relation4"/>
                <link port="receive.incomingPort" relation="relation5"/>
                <link port="receive.incomingPort" relation="relation2"/>
                <link port="receive.incomingPort" relation="relation3"/>
                <link port="receive.outgoingPort" relation="relation"/>
                <link port="receive.outgoingPort" relation="relation2"/>
                <link port="receive.outgoingPort" relation="relation3"/>
            </entity>
            <relation name="inMSGRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="channelStateRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="senseChannelRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="collisionRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="inMSG" relation="inMSGRelation"/>
            <link port="channelState" relation="channelStateRelation"/>
            <link port="senseChannel" relation="senseChannelRelation"/>
            <link port="collision" relation="collisionRelation"/>
            <link port="_Controller.inMSG" relation="inMSGRelation"/>
            <link port="_Controller.channelState" relation="channelStateRelation"/>
            <link port="_Controller.senseChannel" relation="senseChannelRelation"/>
            <link port="_Controller.collision" relation="collisionRelation"/>
        </entity>
        <relation name="relation5" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation7" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation8" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="210.0, 55.0">
            </vertex>
        </relation>
        <relation name="relation2" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="405.0, 75.0">
            </vertex>
        </relation>
        <relation name="relation6" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="465.0, 195.0">
            </vertex>
        </relation>
        <relation name="relation9" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation10" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation4" class="ptolemy.actor.TypedIORelation">
        </relation>
        <link port="in" relation="relation10"/>
        <link port="out" relation="relation2"/>
        <link port="report" relation="relation7"/>
        <link port="report2" relation="relation9"/>
        <link port="PoissonClock.output" relation="relation8"/>
        <link port="modal model.data" relation="relation8"/>
        <link port="modal model.channelState" relation="relation4"/>
        <link port="modal model.senseChannel" relation="relation5"/>
        <link port="modal model.outMSG" relation="relation2"/>
        <link port="TimedDelay.input" relation="relation5"/>
        <link port="TimedDelay.output" relation="relation"/>
        <link port="For analysis.time1" relation="relation8"/>
        <link port="For analysis.time2" relation="relation2"/>
        <link port="For analysis.report" relation="relation7"/>
        <link port="For analysis.collision" relation="relation6"/>
        <link port="For analysis.report2" relation="relation9"/>
        <link port="modal model2.inMSG" relation="relation10"/>
        <link port="modal model2.channelState" relation="relation4"/>
        <link port="modal model2.senseChannel" relation="relation"/>
        <link port="modal model2.collision" relation="relation6"/>
    </entity>
    <entity name="node17" class="ptolemy.domains.wireless.kernel.WirelessComposite">
        <property name="_location" class="ptolemy.kernel.util.Location" value="50.0, 215.0">
        </property>
        <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
            <property name="startTime" class="ptolemy.data.expr.Parameter" value="0.0">
            </property>
            <property name="stopTime" class="ptolemy.data.expr.Parameter" value="1.7976931348623E308">
            </property>
            <property name="stopWhenQueueIsEmpty" class="ptolemy.data.expr.Parameter" value="true">
            </property>
            <property name="synchronizeToRealTime" class="ptolemy.data.expr.Parameter" value="false">
            </property>
            <property name="isCQAdaptive" class="ptolemy.data.expr.Parameter" value="true">
            </property>
            <property name="minBinCount" class="ptolemy.data.expr.Parameter" value="2">
            </property>
            <property name="binCountFactor" class="ptolemy.data.expr.Parameter" value="2">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 40.0">
            </property>
        </property>
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={106, 164, 815, 518}, maximized=false}">
        </property>
        <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[600, 400]">
        </property>
        <property name="id" class="ptolemy.data.expr.Parameter" value="6">
        </property>
        <property name="annotation" class="ptolemy.kernel.util.Attribute">
            <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
            <property name="_iconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure><svg><text x="20" y="20" style="font-size:14; font-family:SansSerif; fill:blue">The protocol assumes that propagation takes no time but transmission takes time
that depends on the package's size. When having data to send, it first sense 
whether the channel is free or busy. If free, send the data, if not, then wait
for a random time and try again. The detection inteface is provided by the senseAir 
component. </text></svg></configure>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-A-</text>
      </svg>
    </configure>
            </property>
            <property name="_controllerFactory" class="ptolemy.vergil.basic.NodeControllerFactory">
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.AnnotationEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="-50.0, 370.0">
            </property>
        </property>
        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <port name="in" class="ptolemy.domains.wireless.kernel.WirelessIOPort">
            <property name="input"/>
            <property name="outsideChannel" class="ptolemy.data.expr.StringParameter" value="LimitedRangeChannel">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="70.0, 175.0">
            </property>
            <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
        </port>
        <port name="out" class="ptolemy.domains.wireless.kernel.WirelessIOPort">
            <property name="output"/>
            <property name="outsideChannel" class="ptolemy.data.expr.StringParameter" value="LimitedRangeChannel">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="425.0, 145.0">
            </property>
            <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
        </port>
        <port name="report" class="ptolemy.domains.wireless.kernel.WirelessIOPort">
            <property name="output"/>
            <property name="outsideChannel" class="ptolemy.data.expr.StringParameter" value="DataCollectChannel">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="545.0, 65.0">
            </property>
            <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
        </port>
        <port name="report2" class="ptolemy.domains.wireless.kernel.WirelessIOPort">
            <property name="output"/>
            <property name="outsideChannel" class="ptolemy.data.expr.StringParameter" value="CollisionReportChannel">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="545.0, 105.0">
            </property>
            <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
        </port>
        <entity name="PoissonClock" class="ptolemy.actor.lib.PoissonClock">
            <property name="meanTime" class="ptolemy.data.expr.Parameter" value="TrafficDensity">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="85.0, 105.0">
            </property>
        </entity>
        <entity name="modal model" class="ptolemy.domains.fsm.modal.ModalModel">
            <property name="_tableauFactory" class="ptolemy.vergil.fsm.modal.ModalTableauFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="270.0, 115.0">
            </property>
            <port name="data" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="channelState" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="senseChannel" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
            </port>
            <port name="outMSG" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="NORTH">
                </property>
            </port>
            <port name="randomWait" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="output"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="wakeUp" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="output"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <entity name="_Controller" class="ptolemy.domains.fsm.modal.ModalController">
                <property name="initialStateName" class="ptolemy.kernel.util.StringAttribute" value="idle">
                </property>
                <property name="_library" class="ptolemy.moml.LibraryAttribute">
                    <configure><entity name="state library" class="ptolemy.kernel.CompositeEntity"><input source="ptolemy/configs/basicUtilities.xml"></input><entity name="state" class="ptolemy.domains.fsm.kernel.State"><property name="_centerName" class="ptolemy.kernel.util.Attribute"></property></entity></entity></configure>
                </property>
                <port name="data" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="40.0, 95.0">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="channelState" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="35.0, 185.0">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="senseChannel" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="535.0, 70.0">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="outMSG" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="535.0, 155.0">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="randomWait" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="30.0, 260.0">
                    </property>
                    <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                </port>
                <port name="wakeUp" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="30.0, 330.0">
                    </property>
                    <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                </port>
                <entity name="idle" class="ptolemy.domains.fsm.kernel.State">
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="115.0, 145.0">
                    </property>
                </entity>
                <entity name="senseAir" class="ptolemy.domains.fsm.kernel.State">
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="255.0, 120.0">
                    </property>
                </entity>
                <entity name="randomWait" class="ptolemy.domains.fsm.kernel.State">
                    <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="randomWait">
                    </property>
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="460.0, 125.0">
                    </property>
                </entity>
                <entity name="Emit" class="ptolemy.domains.fsm.kernel.State">
                    <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="Emit">
                    </property>
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="270.0, 355.0">
                    </property>
                </entity>
                <relation name="relation" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="data_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="senseChannel = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.7290251868073567">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-0.2479894981275352">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation2" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="channelState_isPresent &amp;&amp; channelState == &quot;BUSY&quot;">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="randomWait = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.8816266690949863">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="0.3014559376966855">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation3" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="wakeUp_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="senseChannel = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.7432607920971347">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.969499643808648">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation4" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="channelState_isPresent &amp;&amp; channelState == &quot;FREE&quot;">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="outMSG = &quot;MSG&quot;; randomWait = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.04481040911079372">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="1.5101165449404714">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation5" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="wakeUp_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="outMSG = &quot;END&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.28882718043739275">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.217615632874857">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <link port="idle.incomingPort" relation="relation5"/>
                <link port="idle.outgoingPort" relation="relation"/>
                <link port="senseAir.incomingPort" relation="relation"/>
                <link port="senseAir.incomingPort" relation="relation3"/>
                <link port="senseAir.outgoingPort" relation="relation2"/>
                <link port="senseAir.outgoingPort" relation="relation4"/>
                <link port="randomWait.incomingPort" relation="relation2"/>
                <link port="randomWait.outgoingPort" relation="relation3"/>
                <link port="Emit.incomingPort" relation="relation4"/>
                <link port="Emit.outgoingPort" relation="relation5"/>
            </entity>
            <entity name="randomWait" class="ptolemy.domains.fsm.modal.Refinement">
                <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
                    <property name="startTime" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                    <property name="stopTime" class="ptolemy.data.expr.Parameter" value="1.7976931348623E308">
                    </property>
                    <property name="stopWhenQueueIsEmpty" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="synchronizeToRealTime" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="isCQAdaptive" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="minBinCount" class="ptolemy.data.expr.Parameter" value="2">
                    </property>
                    <property name="binCountFactor" class="ptolemy.data.expr.Parameter" value="2">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 40.0">
                    </property>
                </property>
                <port name="data" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="45.0, 125.0">
                    </property>
                </port>
                <port name="channelState" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="55.0, 215.0">
                    </property>
                </port>
                <port name="senseChannel" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="415.0, 160.0">
                    </property>
                </port>
                <port name="outMSG" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="525.0, 325.0">
                    </property>
                </port>
                <port name="randomWait" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="70.0, 280.0">
                    </property>
                </port>
                <port name="wakeUp" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="420.0, 255.0">
                    </property>
                </port>
                <entity name="VariableDelay" class="ptolemy.domains.de.lib.VariableDelay">
                    <property name="defaultDelay" class="ptolemy.data.expr.Parameter" value="1.0">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="290.0, 250.0">
                    </property>
                </entity>
                <entity name="Uniform" class="ptolemy.actor.lib.Uniform">
                    <property name="seed" class="ptolemy.data.expr.Parameter" value="0L">
                    </property>
                    <property name="lowerBound" class="ptolemy.data.expr.Parameter" value="MinWaiting">
                    </property>
                    <property name="upperBound" class="ptolemy.data.expr.Parameter" value="MaxWaiting">
                    </property>
                    <doc>Create a sequence of uniformly distributed random numbers</doc>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="190.0, 315.0">
                    </property>
                </entity>
                <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                    <vertex name="vertex1" value="145.0, 240.0">
                    </vertex>
                </relation>
                <relation name="relation" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                </relation>
                <link port="randomWait" relation="relation2"/>
                <link port="wakeUp" relation="relation3"/>
                <link port="VariableDelay.input" relation="relation2"/>
                <link port="VariableDelay.output" relation="relation3"/>
                <link port="VariableDelay.delay" relation="relation"/>
                <link port="Uniform.output" relation="relation"/>
                <link port="Uniform.trigger" relation="relation2"/>
            </entity>
            <entity name="Emit" class="ptolemy.domains.fsm.modal.Refinement">
                <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
                    <property name="startTime" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                    <property name="stopTime" class="ptolemy.data.expr.Parameter" value="1.7976931348623E308">
                    </property>
                    <property name="stopWhenQueueIsEmpty" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="synchronizeToRealTime" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="isCQAdaptive" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="minBinCount" class="ptolemy.data.expr.Parameter" value="2">
                    </property>
                    <property name="binCountFactor" class="ptolemy.data.expr.Parameter" value="2">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="270.0, 85.0">
                    </property>
                </property>
                <port name="data" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="55.0, 305.0">
                    </property>
                </port>
                <port name="channelState" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="100.0, 150.0">
                    </property>
                </port>
                <port name="senseChannel" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="90.0, 60.0">
                    </property>
                </port>
                <port name="outMSG" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="40.0, 205.0">
                    </property>
                </port>
                <port name="randomWait" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="85.0, 275.0">
                    </property>
                </port>
                <port name="wakeUp" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="485.0, 210.0">
                    </property>
                </port>
                <entity name="Uniform" class="ptolemy.actor.lib.Uniform">
                    <property name="seed" class="ptolemy.data.expr.Parameter" value="10L">
                    </property>
                    <property name="lowerBound" class="ptolemy.data.expr.Parameter" value="MinTxTime">
                    </property>
                    <property name="upperBound" class="ptolemy.data.expr.Parameter" value="MaxTxTime">
                    </property>
                    <doc>Create a sequence of uniformly distributed random numbers</doc>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="190.0, 315.0">
                    </property>
                </entity>
                <entity name="VariableDelay" class="ptolemy.domains.de.lib.VariableDelay">
                    <property name="defaultDelay" class="ptolemy.data.expr.Parameter" value="1.0">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="290.0, 250.0">
                    </property>
                </entity>
                <relation name="relation" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                    <vertex name="vertex1" value="145.0, 240.0">
                    </vertex>
                </relation>
                <relation name="relation4" class="ptolemy.actor.TypedIORelation">
                </relation>
                <link port="randomWait" relation="relation2"/>
                <link port="wakeUp" relation="relation4"/>
                <link port="Uniform.output" relation="relation"/>
                <link port="Uniform.trigger" relation="relation2"/>
                <link port="VariableDelay.input" relation="relation2"/>
                <link port="VariableDelay.output" relation="relation4"/>
                <link port="VariableDelay.delay" relation="relation"/>
            </entity>
            <relation name="dataRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="channelStateRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="senseChannelRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="outMSGRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="randomWaitRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="wakeUpRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="data" relation="dataRelation"/>
            <link port="channelState" relation="channelStateRelation"/>
            <link port="senseChannel" relation="senseChannelRelation"/>
            <link port="outMSG" relation="outMSGRelation"/>
            <link port="randomWait" relation="randomWaitRelation"/>
            <link port="wakeUp" relation="wakeUpRelation"/>
            <link port="_Controller.data" relation="dataRelation"/>
            <link port="_Controller.channelState" relation="channelStateRelation"/>
            <link port="_Controller.senseChannel" relation="senseChannelRelation"/>
            <link port="_Controller.outMSG" relation="outMSGRelation"/>
            <link port="_Controller.randomWait" relation="randomWaitRelation"/>
            <link port="_Controller.wakeUp" relation="wakeUpRelation"/>
            <link port="randomWait.data" relation="dataRelation"/>
            <link port="randomWait.channelState" relation="channelStateRelation"/>
            <link port="randomWait.senseChannel" relation="senseChannelRelation"/>
            <link port="randomWait.outMSG" relation="outMSGRelation"/>
            <link port="randomWait.randomWait" relation="randomWaitRelation"/>
            <link port="randomWait.wakeUp" relation="wakeUpRelation"/>
            <link port="Emit.data" relation="dataRelation"/>
            <link port="Emit.channelState" relation="channelStateRelation"/>
            <link port="Emit.senseChannel" relation="senseChannelRelation"/>
            <link port="Emit.outMSG" relation="outMSGRelation"/>
            <link port="Emit.randomWait" relation="randomWaitRelation"/>
            <link port="Emit.wakeUp" relation="wakeUpRelation"/>
        </entity>
        <entity name="TimedDelay" class="ptolemy.domains.de.lib.TimedDelay">
            <property name="delay" class="ptolemy.data.expr.Parameter" value="1.0">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="505.0, 300.0">
            </property>
        </entity>
        <entity name="For analysis" class="ptolemy.actor.TypedCompositeActor">
            <property name="_location" class="ptolemy.kernel.util.Location" value="470.0, 65.0">
            </property>
            <port name="time1" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 130.0">
                </property>
            </port>
            <port name="time2" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 185.0">
                </property>
            </port>
            <port name="report" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="465.0, 150.0">
                </property>
            </port>
            <port name="collision" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="SOUTH">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 255.0">
                </property>
            </port>
            <port name="report2" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="SOUTH">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="440.0, 265.0">
                </property>
            </port>
            <entity name="WaitingTime" class="ptolemy.domains.de.lib.WaitingTime">
                <property name="_location" class="ptolemy.kernel.util.Location" value="210.0, 140.0">
                </property>
            </entity>
            <entity name="RecordAssembler" class="ptolemy.actor.lib.RecordAssembler">
                <property name="_location" class="ptolemy.kernel.util.Location" value="340.0, 110.0">
                </property>
                <port name="id" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
                <port name="time" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
            </entity>
            <entity name="Const" class="ptolemy.actor.lib.Const">
                <property name="value" class="ptolemy.data.expr.Parameter" value="id">
                </property>
                <doc>Create a constant sequence</doc>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="300.0, 85.0">
                </property>
            </entity>
            <entity name="CurrentTime" class="ptolemy.actor.lib.CurrentTime">
                <doc>Output the current time.</doc>
                <property name="_location" class="ptolemy.kernel.util.Location" value="165.0, 290.0">
                </property>
            </entity>
            <entity name="RecordAssembler2" class="ptolemy.actor.lib.RecordAssembler">
                <property name="_location" class="ptolemy.kernel.util.Location" value="300.0, 245.0">
                </property>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                    </property>
                </port>
                <port name="collisionId" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="detectTime" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
            </entity>
            <entity name="Const2" class="ptolemy.actor.lib.Const">
                <property name="value" class="ptolemy.data.expr.Parameter" value="id">
                </property>
                <doc>Create a constant sequence</doc>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="165.0, 220.0">
                </property>
            </entity>
            <relation name="relation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation2" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="270.0, 140.0">
                </vertex>
            </relation>
            <relation name="relation4" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation8" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="120.0, 255.0">
                </vertex>
            </relation>
            <relation name="relation7" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation10" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation5" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation6" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="time1" relation="relation"/>
            <link port="time2" relation="relation2"/>
            <link port="report" relation="relation6"/>
            <link port="collision" relation="relation8"/>
            <link port="report2" relation="relation5"/>
            <link port="WaitingTime.output" relation="relation3"/>
            <link port="WaitingTime.waiter" relation="relation"/>
            <link port="WaitingTime.waitee" relation="relation2"/>
            <link port="RecordAssembler.output" relation="relation6"/>
            <link port="RecordAssembler.id" relation="relation4"/>
            <link port="RecordAssembler.time" relation="relation3"/>
            <link port="Const.output" relation="relation4"/>
            <link port="Const.trigger" relation="relation3"/>
            <link port="CurrentTime.output" relation="relation7"/>
            <link port="CurrentTime.trigger" relation="relation8"/>
            <link port="RecordAssembler2.output" relation="relation5"/>
            <link port="RecordAssembler2.collisionId" relation="relation10"/>
            <link port="RecordAssembler2.detectTime" relation="relation7"/>
            <link port="Const2.output" relation="relation10"/>
            <link port="Const2.trigger" relation="relation8"/>
        </entity>
        <entity name="modal model2" class="ptolemy.domains.fsm.modal.ModalModel">
            <property name="_tableauFactory" class="ptolemy.vergil.fsm.modal.ModalTableauFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="145.0, 185.0">
            </property>
            <port name="inMSG" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="channelState" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
            </port>
            <port name="senseChannel" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="collision" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
            </port>
            <entity name="_Controller" class="ptolemy.domains.fsm.modal.ModalController">
                <property name="initialStateName" class="ptolemy.kernel.util.StringAttribute" value="idle">
                </property>
                <property name="_library" class="ptolemy.moml.LibraryAttribute">
                    <configure>
        <entity name="state library" class="ptolemy.kernel.CompositeEntity"><input source="ptolemy/configs/basicUtilities.xml"></input><entity name="state" class="ptolemy.domains.fsm.kernel.State"><property name="_centerName" class="ptolemy.kernel.util.Attribute"></property><property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory"></property></entity></entity>
      </configure>
                </property>
                <port name="inMSG" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="0.0, 0.0">
                    </property>
                </port>
                <port name="channelState" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="335.0, 90.0">
                    </property>
                </port>
                <port name="senseChannel" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="-5.0, 90.0">
                    </property>
                </port>
                <port name="collision" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="240.0, 25.0">
                    </property>
                </port>
                <entity name="idle" class="ptolemy.domains.fsm.kernel.State">
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="190.5, 187.28129322224544">
                    </property>
                </entity>
                <entity name="receive" class="ptolemy.domains.fsm.kernel.State">
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="425.0, 195.0">
                    </property>
                </entity>
                <relation name="relation" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="inMSG_isPresent &amp;&amp; inMSG == &quot;END&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.9564982454336546">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation2" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="inMSG_isPresent &amp;&amp; inMSG == &quot;MSG&quot;">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="collision = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="2.512139297546763">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-0.21451248805933695">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation3" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="senseChannel_isPresent &amp;&amp; ! inMSG_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="channelState = &quot;BUSY&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="2.356194490192345">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.0687929371738796">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation4" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="senseChannel_isPresent &amp;&amp; !inMSG_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="channelState = &quot;FREE&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="2.13592263986528">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="1.4616814519565946">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation5" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="inMSG_isPresent &amp;&amp; inMSG == &quot;MSG&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="0.11144946119379541">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <link port="idle.incomingPort" relation="relation"/>
                <link port="idle.incomingPort" relation="relation4"/>
                <link port="idle.outgoingPort" relation="relation5"/>
                <link port="idle.outgoingPort" relation="relation4"/>
                <link port="receive.incomingPort" relation="relation5"/>
                <link port="receive.incomingPort" relation="relation2"/>
                <link port="receive.incomingPort" relation="relation3"/>
                <link port="receive.outgoingPort" relation="relation"/>
                <link port="receive.outgoingPort" relation="relation2"/>
                <link port="receive.outgoingPort" relation="relation3"/>
            </entity>
            <relation name="inMSGRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="channelStateRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="senseChannelRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="collisionRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="inMSG" relation="inMSGRelation"/>
            <link port="channelState" relation="channelStateRelation"/>
            <link port="senseChannel" relation="senseChannelRelation"/>
            <link port="collision" relation="collisionRelation"/>
            <link port="_Controller.inMSG" relation="inMSGRelation"/>
            <link port="_Controller.channelState" relation="channelStateRelation"/>
            <link port="_Controller.senseChannel" relation="senseChannelRelation"/>
            <link port="_Controller.collision" relation="collisionRelation"/>
        </entity>
        <relation name="relation5" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation7" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation8" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="210.0, 55.0">
            </vertex>
        </relation>
        <relation name="relation2" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="405.0, 75.0">
            </vertex>
        </relation>
        <relation name="relation6" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="465.0, 195.0">
            </vertex>
        </relation>
        <relation name="relation9" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation10" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation4" class="ptolemy.actor.TypedIORelation">
        </relation>
        <link port="in" relation="relation10"/>
        <link port="out" relation="relation2"/>
        <link port="report" relation="relation7"/>
        <link port="report2" relation="relation9"/>
        <link port="PoissonClock.output" relation="relation8"/>
        <link port="modal model.data" relation="relation8"/>
        <link port="modal model.channelState" relation="relation4"/>
        <link port="modal model.senseChannel" relation="relation5"/>
        <link port="modal model.outMSG" relation="relation2"/>
        <link port="TimedDelay.input" relation="relation5"/>
        <link port="TimedDelay.output" relation="relation"/>
        <link port="For analysis.time1" relation="relation8"/>
        <link port="For analysis.time2" relation="relation2"/>
        <link port="For analysis.report" relation="relation7"/>
        <link port="For analysis.collision" relation="relation6"/>
        <link port="For analysis.report2" relation="relation9"/>
        <link port="modal model2.inMSG" relation="relation10"/>
        <link port="modal model2.channelState" relation="relation4"/>
        <link port="modal model2.senseChannel" relation="relation"/>
        <link port="modal model2.collision" relation="relation6"/>
    </entity>
    <entity name="node18" class="ptolemy.domains.wireless.kernel.WirelessComposite">
        <property name="_location" class="ptolemy.kernel.util.Location" value="160.0, 415.0">
        </property>
        <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
            <property name="startTime" class="ptolemy.data.expr.Parameter" value="0.0">
            </property>
            <property name="stopTime" class="ptolemy.data.expr.Parameter" value="1.7976931348623E308">
            </property>
            <property name="stopWhenQueueIsEmpty" class="ptolemy.data.expr.Parameter" value="true">
            </property>
            <property name="synchronizeToRealTime" class="ptolemy.data.expr.Parameter" value="false">
            </property>
            <property name="isCQAdaptive" class="ptolemy.data.expr.Parameter" value="true">
            </property>
            <property name="minBinCount" class="ptolemy.data.expr.Parameter" value="2">
            </property>
            <property name="binCountFactor" class="ptolemy.data.expr.Parameter" value="2">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 40.0">
            </property>
        </property>
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={106, 164, 815, 518}, maximized=false}">
        </property>
        <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[600, 400]">
        </property>
        <property name="id" class="ptolemy.data.expr.Parameter" value="17">
        </property>
        <property name="annotation" class="ptolemy.kernel.util.Attribute">
            <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
            <property name="_iconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure><svg><text x="20" y="20" style="font-size:14; font-family:SansSerif; fill:blue">The protocol assumes that propagation takes no time but transmission takes time
that depends on the package's size. When having data to send, it first sense 
whether the channel is free or busy. If free, send the data, if not, then wait
for a random time and try again. The detection inteface is provided by the senseAir 
component. </text></svg></configure>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-A-</text>
      </svg>
    </configure>
            </property>
            <property name="_controllerFactory" class="ptolemy.vergil.basic.NodeControllerFactory">
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.AnnotationEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="-50.0, 370.0">
            </property>
        </property>
        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <port name="in" class="ptolemy.domains.wireless.kernel.WirelessIOPort">
            <property name="input"/>
            <property name="outsideChannel" class="ptolemy.data.expr.StringParameter" value="LimitedRangeChannel">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="70.0, 175.0">
            </property>
            <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
        </port>
        <port name="out" class="ptolemy.domains.wireless.kernel.WirelessIOPort">
            <property name="output"/>
            <property name="outsideChannel" class="ptolemy.data.expr.StringParameter" value="LimitedRangeChannel">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="425.0, 145.0">
            </property>
            <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
        </port>
        <port name="report" class="ptolemy.domains.wireless.kernel.WirelessIOPort">
            <property name="output"/>
            <property name="outsideChannel" class="ptolemy.data.expr.StringParameter" value="DataCollectChannel">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="545.0, 65.0">
            </property>
            <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
        </port>
        <port name="report2" class="ptolemy.domains.wireless.kernel.WirelessIOPort">
            <property name="output"/>
            <property name="outsideChannel" class="ptolemy.data.expr.StringParameter" value="CollisionReportChannel">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="545.0, 105.0">
            </property>
            <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
        </port>
        <entity name="PoissonClock" class="ptolemy.actor.lib.PoissonClock">
            <property name="meanTime" class="ptolemy.data.expr.Parameter" value="TrafficDensity">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="85.0, 105.0">
            </property>
        </entity>
        <entity name="modal model" class="ptolemy.domains.fsm.modal.ModalModel">
            <property name="_tableauFactory" class="ptolemy.vergil.fsm.modal.ModalTableauFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="270.0, 115.0">
            </property>
            <port name="data" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="channelState" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="senseChannel" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
            </port>
            <port name="outMSG" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="NORTH">
                </property>
            </port>
            <port name="randomWait" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="output"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="wakeUp" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="output"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <entity name="_Controller" class="ptolemy.domains.fsm.modal.ModalController">
                <property name="initialStateName" class="ptolemy.kernel.util.StringAttribute" value="idle">
                </property>
                <property name="_library" class="ptolemy.moml.LibraryAttribute">
                    <configure><entity name="state library" class="ptolemy.kernel.CompositeEntity"><input source="ptolemy/configs/basicUtilities.xml"></input><entity name="state" class="ptolemy.domains.fsm.kernel.State"><property name="_centerName" class="ptolemy.kernel.util.Attribute"></property></entity></entity></configure>
                </property>
                <port name="data" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="40.0, 95.0">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="channelState" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="35.0, 185.0">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="senseChannel" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="535.0, 70.0">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="outMSG" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="535.0, 155.0">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="randomWait" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="30.0, 260.0">
                    </property>
                    <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                </port>
                <port name="wakeUp" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="30.0, 330.0">
                    </property>
                    <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                </port>
                <entity name="idle" class="ptolemy.domains.fsm.kernel.State">
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="115.0, 145.0">
                    </property>
                </entity>
                <entity name="senseAir" class="ptolemy.domains.fsm.kernel.State">
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="255.0, 120.0">
                    </property>
                </entity>
                <entity name="randomWait" class="ptolemy.domains.fsm.kernel.State">
                    <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="randomWait">
                    </property>
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="460.0, 125.0">
                    </property>
                </entity>
                <entity name="Emit" class="ptolemy.domains.fsm.kernel.State">
                    <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="Emit">
                    </property>
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="270.0, 355.0">
                    </property>
                </entity>
                <relation name="relation" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="data_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="senseChannel = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.7290251868073567">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-0.2479894981275352">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation2" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="channelState_isPresent &amp;&amp; channelState == &quot;BUSY&quot;">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="randomWait = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.8816266690949863">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="0.3014559376966855">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation3" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="wakeUp_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="senseChannel = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.7432607920971347">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.969499643808648">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation4" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="channelState_isPresent &amp;&amp; channelState == &quot;FREE&quot;">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="outMSG = &quot;MSG&quot;; randomWait = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.04481040911079372">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="1.5101165449404714">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation5" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="wakeUp_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="outMSG = &quot;END&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.28882718043739275">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.217615632874857">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <link port="idle.incomingPort" relation="relation5"/>
                <link port="idle.outgoingPort" relation="relation"/>
                <link port="senseAir.incomingPort" relation="relation"/>
                <link port="senseAir.incomingPort" relation="relation3"/>
                <link port="senseAir.outgoingPort" relation="relation2"/>
                <link port="senseAir.outgoingPort" relation="relation4"/>
                <link port="randomWait.incomingPort" relation="relation2"/>
                <link port="randomWait.outgoingPort" relation="relation3"/>
                <link port="Emit.incomingPort" relation="relation4"/>
                <link port="Emit.outgoingPort" relation="relation5"/>
            </entity>
            <entity name="randomWait" class="ptolemy.domains.fsm.modal.Refinement">
                <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
                    <property name="startTime" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                    <property name="stopTime" class="ptolemy.data.expr.Parameter" value="1.7976931348623E308">
                    </property>
                    <property name="stopWhenQueueIsEmpty" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="synchronizeToRealTime" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="isCQAdaptive" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="minBinCount" class="ptolemy.data.expr.Parameter" value="2">
                    </property>
                    <property name="binCountFactor" class="ptolemy.data.expr.Parameter" value="2">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 40.0">
                    </property>
                </property>
                <port name="data" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="45.0, 125.0">
                    </property>
                </port>
                <port name="channelState" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="55.0, 215.0">
                    </property>
                </port>
                <port name="senseChannel" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="415.0, 160.0">
                    </property>
                </port>
                <port name="outMSG" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="525.0, 325.0">
                    </property>
                </port>
                <port name="randomWait" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="70.0, 280.0">
                    </property>
                </port>
                <port name="wakeUp" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="420.0, 255.0">
                    </property>
                </port>
                <entity name="VariableDelay" class="ptolemy.domains.de.lib.VariableDelay">
                    <property name="defaultDelay" class="ptolemy.data.expr.Parameter" value="1.0">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="290.0, 250.0">
                    </property>
                </entity>
                <entity name="Uniform" class="ptolemy.actor.lib.Uniform">
                    <property name="seed" class="ptolemy.data.expr.Parameter" value="0L">
                    </property>
                    <property name="lowerBound" class="ptolemy.data.expr.Parameter" value="MinWaiting">
                    </property>
                    <property name="upperBound" class="ptolemy.data.expr.Parameter" value="MaxWaiting">
                    </property>
                    <doc>Create a sequence of uniformly distributed random numbers</doc>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="190.0, 315.0">
                    </property>
                </entity>
                <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                    <vertex name="vertex1" value="145.0, 240.0">
                    </vertex>
                </relation>
                <relation name="relation" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                </relation>
                <link port="randomWait" relation="relation2"/>
                <link port="wakeUp" relation="relation3"/>
                <link port="VariableDelay.input" relation="relation2"/>
                <link port="VariableDelay.output" relation="relation3"/>
                <link port="VariableDelay.delay" relation="relation"/>
                <link port="Uniform.output" relation="relation"/>
                <link port="Uniform.trigger" relation="relation2"/>
            </entity>
            <entity name="Emit" class="ptolemy.domains.fsm.modal.Refinement">
                <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
                    <property name="startTime" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                    <property name="stopTime" class="ptolemy.data.expr.Parameter" value="1.7976931348623E308">
                    </property>
                    <property name="stopWhenQueueIsEmpty" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="synchronizeToRealTime" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="isCQAdaptive" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="minBinCount" class="ptolemy.data.expr.Parameter" value="2">
                    </property>
                    <property name="binCountFactor" class="ptolemy.data.expr.Parameter" value="2">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="270.0, 85.0">
                    </property>
                </property>
                <port name="data" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="55.0, 305.0">
                    </property>
                </port>
                <port name="channelState" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="100.0, 150.0">
                    </property>
                </port>
                <port name="senseChannel" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="90.0, 60.0">
                    </property>
                </port>
                <port name="outMSG" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="40.0, 205.0">
                    </property>
                </port>
                <port name="randomWait" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="85.0, 275.0">
                    </property>
                </port>
                <port name="wakeUp" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="485.0, 210.0">
                    </property>
                </port>
                <entity name="Uniform" class="ptolemy.actor.lib.Uniform">
                    <property name="seed" class="ptolemy.data.expr.Parameter" value="10L">
                    </property>
                    <property name="lowerBound" class="ptolemy.data.expr.Parameter" value="MinTxTime">
                    </property>
                    <property name="upperBound" class="ptolemy.data.expr.Parameter" value="MaxTxTime">
                    </property>
                    <doc>Create a sequence of uniformly distributed random numbers</doc>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="190.0, 315.0">
                    </property>
                </entity>
                <entity name="VariableDelay" class="ptolemy.domains.de.lib.VariableDelay">
                    <property name="defaultDelay" class="ptolemy.data.expr.Parameter" value="1.0">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="290.0, 250.0">
                    </property>
                </entity>
                <relation name="relation" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                    <vertex name="vertex1" value="145.0, 240.0">
                    </vertex>
                </relation>
                <relation name="relation4" class="ptolemy.actor.TypedIORelation">
                </relation>
                <link port="randomWait" relation="relation2"/>
                <link port="wakeUp" relation="relation4"/>
                <link port="Uniform.output" relation="relation"/>
                <link port="Uniform.trigger" relation="relation2"/>
                <link port="VariableDelay.input" relation="relation2"/>
                <link port="VariableDelay.output" relation="relation4"/>
                <link port="VariableDelay.delay" relation="relation"/>
            </entity>
            <relation name="dataRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="channelStateRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="senseChannelRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="outMSGRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="randomWaitRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="wakeUpRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="data" relation="dataRelation"/>
            <link port="channelState" relation="channelStateRelation"/>
            <link port="senseChannel" relation="senseChannelRelation"/>
            <link port="outMSG" relation="outMSGRelation"/>
            <link port="randomWait" relation="randomWaitRelation"/>
            <link port="wakeUp" relation="wakeUpRelation"/>
            <link port="_Controller.data" relation="dataRelation"/>
            <link port="_Controller.channelState" relation="channelStateRelation"/>
            <link port="_Controller.senseChannel" relation="senseChannelRelation"/>
            <link port="_Controller.outMSG" relation="outMSGRelation"/>
            <link port="_Controller.randomWait" relation="randomWaitRelation"/>
            <link port="_Controller.wakeUp" relation="wakeUpRelation"/>
            <link port="randomWait.data" relation="dataRelation"/>
            <link port="randomWait.channelState" relation="channelStateRelation"/>
            <link port="randomWait.senseChannel" relation="senseChannelRelation"/>
            <link port="randomWait.outMSG" relation="outMSGRelation"/>
            <link port="randomWait.randomWait" relation="randomWaitRelation"/>
            <link port="randomWait.wakeUp" relation="wakeUpRelation"/>
            <link port="Emit.data" relation="dataRelation"/>
            <link port="Emit.channelState" relation="channelStateRelation"/>
            <link port="Emit.senseChannel" relation="senseChannelRelation"/>
            <link port="Emit.outMSG" relation="outMSGRelation"/>
            <link port="Emit.randomWait" relation="randomWaitRelation"/>
            <link port="Emit.wakeUp" relation="wakeUpRelation"/>
        </entity>
        <entity name="TimedDelay" class="ptolemy.domains.de.lib.TimedDelay">
            <property name="delay" class="ptolemy.data.expr.Parameter" value="1.0">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="505.0, 300.0">
            </property>
        </entity>
        <entity name="For analysis" class="ptolemy.actor.TypedCompositeActor">
            <property name="_location" class="ptolemy.kernel.util.Location" value="470.0, 65.0">
            </property>
            <port name="time1" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 130.0">
                </property>
            </port>
            <port name="time2" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 185.0">
                </property>
            </port>
            <port name="report" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="465.0, 150.0">
                </property>
            </port>
            <port name="collision" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="SOUTH">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 255.0">
                </property>
            </port>
            <port name="report2" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="SOUTH">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="440.0, 265.0">
                </property>
            </port>
            <entity name="WaitingTime" class="ptolemy.domains.de.lib.WaitingTime">
                <property name="_location" class="ptolemy.kernel.util.Location" value="210.0, 140.0">
                </property>
            </entity>
            <entity name="RecordAssembler" class="ptolemy.actor.lib.RecordAssembler">
                <property name="_location" class="ptolemy.kernel.util.Location" value="340.0, 110.0">
                </property>
                <port name="id" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
                <port name="time" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
            </entity>
            <entity name="Const" class="ptolemy.actor.lib.Const">
                <property name="value" class="ptolemy.data.expr.Parameter" value="id">
                </property>
                <doc>Create a constant sequence</doc>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="300.0, 85.0">
                </property>
            </entity>
            <entity name="CurrentTime" class="ptolemy.actor.lib.CurrentTime">
                <doc>Output the current time.</doc>
                <property name="_location" class="ptolemy.kernel.util.Location" value="165.0, 290.0">
                </property>
            </entity>
            <entity name="RecordAssembler2" class="ptolemy.actor.lib.RecordAssembler">
                <property name="_location" class="ptolemy.kernel.util.Location" value="300.0, 245.0">
                </property>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                    </property>
                </port>
                <port name="collisionId" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="detectTime" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
            </entity>
            <entity name="Const2" class="ptolemy.actor.lib.Const">
                <property name="value" class="ptolemy.data.expr.Parameter" value="id">
                </property>
                <doc>Create a constant sequence</doc>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="165.0, 220.0">
                </property>
            </entity>
            <relation name="relation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation2" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="270.0, 140.0">
                </vertex>
            </relation>
            <relation name="relation4" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation8" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="120.0, 255.0">
                </vertex>
            </relation>
            <relation name="relation7" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation10" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation5" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation6" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="time1" relation="relation"/>
            <link port="time2" relation="relation2"/>
            <link port="report" relation="relation6"/>
            <link port="collision" relation="relation8"/>
            <link port="report2" relation="relation5"/>
            <link port="WaitingTime.output" relation="relation3"/>
            <link port="WaitingTime.waiter" relation="relation"/>
            <link port="WaitingTime.waitee" relation="relation2"/>
            <link port="RecordAssembler.output" relation="relation6"/>
            <link port="RecordAssembler.id" relation="relation4"/>
            <link port="RecordAssembler.time" relation="relation3"/>
            <link port="Const.output" relation="relation4"/>
            <link port="Const.trigger" relation="relation3"/>
            <link port="CurrentTime.output" relation="relation7"/>
            <link port="CurrentTime.trigger" relation="relation8"/>
            <link port="RecordAssembler2.output" relation="relation5"/>
            <link port="RecordAssembler2.collisionId" relation="relation10"/>
            <link port="RecordAssembler2.detectTime" relation="relation7"/>
            <link port="Const2.output" relation="relation10"/>
            <link port="Const2.trigger" relation="relation8"/>
        </entity>
        <entity name="modal model2" class="ptolemy.domains.fsm.modal.ModalModel">
            <property name="_tableauFactory" class="ptolemy.vergil.fsm.modal.ModalTableauFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="145.0, 185.0">
            </property>
            <port name="inMSG" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="channelState" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
            </port>
            <port name="senseChannel" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="collision" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
            </port>
            <entity name="_Controller" class="ptolemy.domains.fsm.modal.ModalController">
                <property name="initialStateName" class="ptolemy.kernel.util.StringAttribute" value="idle">
                </property>
                <property name="_library" class="ptolemy.moml.LibraryAttribute">
                    <configure>
        <entity name="state library" class="ptolemy.kernel.CompositeEntity"><input source="ptolemy/configs/basicUtilities.xml"></input><entity name="state" class="ptolemy.domains.fsm.kernel.State"><property name="_centerName" class="ptolemy.kernel.util.Attribute"></property><property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory"></property></entity></entity>
      </configure>
                </property>
                <port name="inMSG" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="0.0, 0.0">
                    </property>
                </port>
                <port name="channelState" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="335.0, 90.0">
                    </property>
                </port>
                <port name="senseChannel" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="-5.0, 90.0">
                    </property>
                </port>
                <port name="collision" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="240.0, 25.0">
                    </property>
                </port>
                <entity name="idle" class="ptolemy.domains.fsm.kernel.State">
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="190.5, 187.28129322224544">
                    </property>
                </entity>
                <entity name="receive" class="ptolemy.domains.fsm.kernel.State">
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="425.0, 195.0">
                    </property>
                </entity>
                <relation name="relation" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="inMSG_isPresent &amp;&amp; inMSG == &quot;END&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.9564982454336546">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation2" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="inMSG_isPresent &amp;&amp; inMSG == &quot;MSG&quot;">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="collision = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="2.512139297546763">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-0.21451248805933695">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation3" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="senseChannel_isPresent &amp;&amp; ! inMSG_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="channelState = &quot;BUSY&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="2.356194490192345">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.0687929371738796">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation4" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="senseChannel_isPresent &amp;&amp; !inMSG_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="channelState = &quot;FREE&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="2.13592263986528">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="1.4616814519565946">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation5" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="inMSG_isPresent &amp;&amp; inMSG == &quot;MSG&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="0.11144946119379541">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <link port="idle.incomingPort" relation="relation"/>
                <link port="idle.incomingPort" relation="relation4"/>
                <link port="idle.outgoingPort" relation="relation5"/>
                <link port="idle.outgoingPort" relation="relation4"/>
                <link port="receive.incomingPort" relation="relation5"/>
                <link port="receive.incomingPort" relation="relation2"/>
                <link port="receive.incomingPort" relation="relation3"/>
                <link port="receive.outgoingPort" relation="relation"/>
                <link port="receive.outgoingPort" relation="relation2"/>
                <link port="receive.outgoingPort" relation="relation3"/>
            </entity>
            <relation name="inMSGRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="channelStateRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="senseChannelRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="collisionRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="inMSG" relation="inMSGRelation"/>
            <link port="channelState" relation="channelStateRelation"/>
            <link port="senseChannel" relation="senseChannelRelation"/>
            <link port="collision" relation="collisionRelation"/>
            <link port="_Controller.inMSG" relation="inMSGRelation"/>
            <link port="_Controller.channelState" relation="channelStateRelation"/>
            <link port="_Controller.senseChannel" relation="senseChannelRelation"/>
            <link port="_Controller.collision" relation="collisionRelation"/>
        </entity>
        <relation name="relation5" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation7" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation8" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="210.0, 55.0">
            </vertex>
        </relation>
        <relation name="relation2" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="405.0, 75.0">
            </vertex>
        </relation>
        <relation name="relation6" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="465.0, 195.0">
            </vertex>
        </relation>
        <relation name="relation9" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation10" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation4" class="ptolemy.actor.TypedIORelation">
        </relation>
        <link port="in" relation="relation10"/>
        <link port="out" relation="relation2"/>
        <link port="report" relation="relation7"/>
        <link port="report2" relation="relation9"/>
        <link port="PoissonClock.output" relation="relation8"/>
        <link port="modal model.data" relation="relation8"/>
        <link port="modal model.channelState" relation="relation4"/>
        <link port="modal model.senseChannel" relation="relation5"/>
        <link port="modal model.outMSG" relation="relation2"/>
        <link port="TimedDelay.input" relation="relation5"/>
        <link port="TimedDelay.output" relation="relation"/>
        <link port="For analysis.time1" relation="relation8"/>
        <link port="For analysis.time2" relation="relation2"/>
        <link port="For analysis.report" relation="relation7"/>
        <link port="For analysis.collision" relation="relation6"/>
        <link port="For analysis.report2" relation="relation9"/>
        <link port="modal model2.inMSG" relation="relation10"/>
        <link port="modal model2.channelState" relation="relation4"/>
        <link port="modal model2.senseChannel" relation="relation"/>
        <link port="modal model2.collision" relation="relation6"/>
    </entity>
    <entity name="node19" class="ptolemy.domains.wireless.kernel.WirelessComposite">
        <property name="_location" class="ptolemy.kernel.util.Location" value="50.0, 320.0">
        </property>
        <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
            <property name="startTime" class="ptolemy.data.expr.Parameter" value="0.0">
            </property>
            <property name="stopTime" class="ptolemy.data.expr.Parameter" value="1.7976931348623E308">
            </property>
            <property name="stopWhenQueueIsEmpty" class="ptolemy.data.expr.Parameter" value="true">
            </property>
            <property name="synchronizeToRealTime" class="ptolemy.data.expr.Parameter" value="false">
            </property>
            <property name="isCQAdaptive" class="ptolemy.data.expr.Parameter" value="true">
            </property>
            <property name="minBinCount" class="ptolemy.data.expr.Parameter" value="2">
            </property>
            <property name="binCountFactor" class="ptolemy.data.expr.Parameter" value="2">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 40.0">
            </property>
        </property>
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={106, 164, 815, 518}, maximized=false}">
        </property>
        <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[600, 400]">
        </property>
        <property name="id" class="ptolemy.data.expr.Parameter" value="11">
        </property>
        <property name="annotation" class="ptolemy.kernel.util.Attribute">
            <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
            <property name="_iconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure><svg><text x="20" y="20" style="font-size:14; font-family:SansSerif; fill:blue">The protocol assumes that propagation takes no time but transmission takes time
that depends on the package's size. When having data to send, it first sense 
whether the channel is free or busy. If free, send the data, if not, then wait
for a random time and try again. The detection inteface is provided by the senseAir 
component. </text></svg></configure>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-A-</text>
      </svg>
    </configure>
            </property>
            <property name="_controllerFactory" class="ptolemy.vergil.basic.NodeControllerFactory">
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.AnnotationEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="-50.0, 370.0">
            </property>
        </property>
        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <port name="in" class="ptolemy.domains.wireless.kernel.WirelessIOPort">
            <property name="input"/>
            <property name="outsideChannel" class="ptolemy.data.expr.StringParameter" value="LimitedRangeChannel">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="70.0, 175.0">
            </property>
            <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
        </port>
        <port name="out" class="ptolemy.domains.wireless.kernel.WirelessIOPort">
            <property name="output"/>
            <property name="outsideChannel" class="ptolemy.data.expr.StringParameter" value="LimitedRangeChannel">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="425.0, 145.0">
            </property>
            <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
        </port>
        <port name="report" class="ptolemy.domains.wireless.kernel.WirelessIOPort">
            <property name="output"/>
            <property name="outsideChannel" class="ptolemy.data.expr.StringParameter" value="DataCollectChannel">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="545.0, 65.0">
            </property>
            <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
        </port>
        <port name="report2" class="ptolemy.domains.wireless.kernel.WirelessIOPort">
            <property name="output"/>
            <property name="outsideChannel" class="ptolemy.data.expr.StringParameter" value="CollisionReportChannel">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="545.0, 105.0">
            </property>
            <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
        </port>
        <entity name="PoissonClock" class="ptolemy.actor.lib.PoissonClock">
            <property name="meanTime" class="ptolemy.data.expr.Parameter" value="TrafficDensity">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="85.0, 105.0">
            </property>
        </entity>
        <entity name="modal model" class="ptolemy.domains.fsm.modal.ModalModel">
            <property name="_tableauFactory" class="ptolemy.vergil.fsm.modal.ModalTableauFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="270.0, 115.0">
            </property>
            <port name="data" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="channelState" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="senseChannel" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
            </port>
            <port name="outMSG" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="NORTH">
                </property>
            </port>
            <port name="randomWait" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="output"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="wakeUp" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="output"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <entity name="_Controller" class="ptolemy.domains.fsm.modal.ModalController">
                <property name="initialStateName" class="ptolemy.kernel.util.StringAttribute" value="idle">
                </property>
                <property name="_library" class="ptolemy.moml.LibraryAttribute">
                    <configure><entity name="state library" class="ptolemy.kernel.CompositeEntity"><input source="ptolemy/configs/basicUtilities.xml"></input><entity name="state" class="ptolemy.domains.fsm.kernel.State"><property name="_centerName" class="ptolemy.kernel.util.Attribute"></property></entity></entity></configure>
                </property>
                <port name="data" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="40.0, 95.0">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="channelState" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="35.0, 185.0">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="senseChannel" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="535.0, 70.0">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="outMSG" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="535.0, 155.0">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="randomWait" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="30.0, 260.0">
                    </property>
                    <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                </port>
                <port name="wakeUp" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="30.0, 330.0">
                    </property>
                    <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                </port>
                <entity name="idle" class="ptolemy.domains.fsm.kernel.State">
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="115.0, 145.0">
                    </property>
                </entity>
                <entity name="senseAir" class="ptolemy.domains.fsm.kernel.State">
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="255.0, 120.0">
                    </property>
                </entity>
                <entity name="randomWait" class="ptolemy.domains.fsm.kernel.State">
                    <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="randomWait">
                    </property>
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="460.0, 125.0">
                    </property>
                </entity>
                <entity name="Emit" class="ptolemy.domains.fsm.kernel.State">
                    <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="Emit">
                    </property>
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="270.0, 355.0">
                    </property>
                </entity>
                <relation name="relation" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="data_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="senseChannel = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.7290251868073567">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-0.2479894981275352">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation2" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="channelState_isPresent &amp;&amp; channelState == &quot;BUSY&quot;">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="randomWait = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.8816266690949863">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="0.3014559376966855">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation3" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="wakeUp_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="senseChannel = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.7432607920971347">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.969499643808648">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation4" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="channelState_isPresent &amp;&amp; channelState == &quot;FREE&quot;">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="outMSG = &quot;MSG&quot;; randomWait = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.04481040911079372">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="1.5101165449404714">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation5" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="wakeUp_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="outMSG = &quot;END&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.28882718043739275">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.217615632874857">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <link port="idle.incomingPort" relation="relation5"/>
                <link port="idle.outgoingPort" relation="relation"/>
                <link port="senseAir.incomingPort" relation="relation"/>
                <link port="senseAir.incomingPort" relation="relation3"/>
                <link port="senseAir.outgoingPort" relation="relation2"/>
                <link port="senseAir.outgoingPort" relation="relation4"/>
                <link port="randomWait.incomingPort" relation="relation2"/>
                <link port="randomWait.outgoingPort" relation="relation3"/>
                <link port="Emit.incomingPort" relation="relation4"/>
                <link port="Emit.outgoingPort" relation="relation5"/>
            </entity>
            <entity name="randomWait" class="ptolemy.domains.fsm.modal.Refinement">
                <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
                    <property name="startTime" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                    <property name="stopTime" class="ptolemy.data.expr.Parameter" value="1.7976931348623E308">
                    </property>
                    <property name="stopWhenQueueIsEmpty" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="synchronizeToRealTime" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="isCQAdaptive" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="minBinCount" class="ptolemy.data.expr.Parameter" value="2">
                    </property>
                    <property name="binCountFactor" class="ptolemy.data.expr.Parameter" value="2">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 40.0">
                    </property>
                </property>
                <port name="data" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="45.0, 125.0">
                    </property>
                </port>
                <port name="channelState" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="55.0, 215.0">
                    </property>
                </port>
                <port name="senseChannel" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="415.0, 160.0">
                    </property>
                </port>
                <port name="outMSG" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="525.0, 325.0">
                    </property>
                </port>
                <port name="randomWait" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="70.0, 280.0">
                    </property>
                </port>
                <port name="wakeUp" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="420.0, 255.0">
                    </property>
                </port>
                <entity name="VariableDelay" class="ptolemy.domains.de.lib.VariableDelay">
                    <property name="defaultDelay" class="ptolemy.data.expr.Parameter" value="1.0">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="290.0, 250.0">
                    </property>
                </entity>
                <entity name="Uniform" class="ptolemy.actor.lib.Uniform">
                    <property name="seed" class="ptolemy.data.expr.Parameter" value="0L">
                    </property>
                    <property name="lowerBound" class="ptolemy.data.expr.Parameter" value="MinWaiting">
                    </property>
                    <property name="upperBound" class="ptolemy.data.expr.Parameter" value="MaxWaiting">
                    </property>
                    <doc>Create a sequence of uniformly distributed random numbers</doc>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="190.0, 315.0">
                    </property>
                </entity>
                <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                    <vertex name="vertex1" value="145.0, 240.0">
                    </vertex>
                </relation>
                <relation name="relation" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                </relation>
                <link port="randomWait" relation="relation2"/>
                <link port="wakeUp" relation="relation3"/>
                <link port="VariableDelay.input" relation="relation2"/>
                <link port="VariableDelay.output" relation="relation3"/>
                <link port="VariableDelay.delay" relation="relation"/>
                <link port="Uniform.output" relation="relation"/>
                <link port="Uniform.trigger" relation="relation2"/>
            </entity>
            <entity name="Emit" class="ptolemy.domains.fsm.modal.Refinement">
                <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
                    <property name="startTime" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                    <property name="stopTime" class="ptolemy.data.expr.Parameter" value="1.7976931348623E308">
                    </property>
                    <property name="stopWhenQueueIsEmpty" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="synchronizeToRealTime" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="isCQAdaptive" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="minBinCount" class="ptolemy.data.expr.Parameter" value="2">
                    </property>
                    <property name="binCountFactor" class="ptolemy.data.expr.Parameter" value="2">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="270.0, 85.0">
                    </property>
                </property>
                <port name="data" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="55.0, 305.0">
                    </property>
                </port>
                <port name="channelState" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="100.0, 150.0">
                    </property>
                </port>
                <port name="senseChannel" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="90.0, 60.0">
                    </property>
                </port>
                <port name="outMSG" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="40.0, 205.0">
                    </property>
                </port>
                <port name="randomWait" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="85.0, 275.0">
                    </property>
                </port>
                <port name="wakeUp" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="485.0, 210.0">
                    </property>
                </port>
                <entity name="Uniform" class="ptolemy.actor.lib.Uniform">
                    <property name="seed" class="ptolemy.data.expr.Parameter" value="10L">
                    </property>
                    <property name="lowerBound" class="ptolemy.data.expr.Parameter" value="MinTxTime">
                    </property>
                    <property name="upperBound" class="ptolemy.data.expr.Parameter" value="MaxTxTime">
                    </property>
                    <doc>Create a sequence of uniformly distributed random numbers</doc>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="190.0, 315.0">
                    </property>
                </entity>
                <entity name="VariableDelay" class="ptolemy.domains.de.lib.VariableDelay">
                    <property name="defaultDelay" class="ptolemy.data.expr.Parameter" value="1.0">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="290.0, 250.0">
                    </property>
                </entity>
                <relation name="relation" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                    <vertex name="vertex1" value="145.0, 240.0">
                    </vertex>
                </relation>
                <relation name="relation4" class="ptolemy.actor.TypedIORelation">
                </relation>
                <link port="randomWait" relation="relation2"/>
                <link port="wakeUp" relation="relation4"/>
                <link port="Uniform.output" relation="relation"/>
                <link port="Uniform.trigger" relation="relation2"/>
                <link port="VariableDelay.input" relation="relation2"/>
                <link port="VariableDelay.output" relation="relation4"/>
                <link port="VariableDelay.delay" relation="relation"/>
            </entity>
            <relation name="dataRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="channelStateRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="senseChannelRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="outMSGRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="randomWaitRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="wakeUpRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="data" relation="dataRelation"/>
            <link port="channelState" relation="channelStateRelation"/>
            <link port="senseChannel" relation="senseChannelRelation"/>
            <link port="outMSG" relation="outMSGRelation"/>
            <link port="randomWait" relation="randomWaitRelation"/>
            <link port="wakeUp" relation="wakeUpRelation"/>
            <link port="_Controller.data" relation="dataRelation"/>
            <link port="_Controller.channelState" relation="channelStateRelation"/>
            <link port="_Controller.senseChannel" relation="senseChannelRelation"/>
            <link port="_Controller.outMSG" relation="outMSGRelation"/>
            <link port="_Controller.randomWait" relation="randomWaitRelation"/>
            <link port="_Controller.wakeUp" relation="wakeUpRelation"/>
            <link port="randomWait.data" relation="dataRelation"/>
            <link port="randomWait.channelState" relation="channelStateRelation"/>
            <link port="randomWait.senseChannel" relation="senseChannelRelation"/>
            <link port="randomWait.outMSG" relation="outMSGRelation"/>
            <link port="randomWait.randomWait" relation="randomWaitRelation"/>
            <link port="randomWait.wakeUp" relation="wakeUpRelation"/>
            <link port="Emit.data" relation="dataRelation"/>
            <link port="Emit.channelState" relation="channelStateRelation"/>
            <link port="Emit.senseChannel" relation="senseChannelRelation"/>
            <link port="Emit.outMSG" relation="outMSGRelation"/>
            <link port="Emit.randomWait" relation="randomWaitRelation"/>
            <link port="Emit.wakeUp" relation="wakeUpRelation"/>
        </entity>
        <entity name="TimedDelay" class="ptolemy.domains.de.lib.TimedDelay">
            <property name="delay" class="ptolemy.data.expr.Parameter" value="1.0">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="505.0, 300.0">
            </property>
        </entity>
        <entity name="For analysis" class="ptolemy.actor.TypedCompositeActor">
            <property name="_location" class="ptolemy.kernel.util.Location" value="470.0, 65.0">
            </property>
            <port name="time1" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 130.0">
                </property>
            </port>
            <port name="time2" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 185.0">
                </property>
            </port>
            <port name="report" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="465.0, 150.0">
                </property>
            </port>
            <port name="collision" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="SOUTH">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 255.0">
                </property>
            </port>
            <port name="report2" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="SOUTH">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="440.0, 265.0">
                </property>
            </port>
            <entity name="WaitingTime" class="ptolemy.domains.de.lib.WaitingTime">
                <property name="_location" class="ptolemy.kernel.util.Location" value="210.0, 140.0">
                </property>
            </entity>
            <entity name="RecordAssembler" class="ptolemy.actor.lib.RecordAssembler">
                <property name="_location" class="ptolemy.kernel.util.Location" value="340.0, 110.0">
                </property>
                <port name="id" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
                <port name="time" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
            </entity>
            <entity name="Const" class="ptolemy.actor.lib.Const">
                <property name="value" class="ptolemy.data.expr.Parameter" value="id">
                </property>
                <doc>Create a constant sequence</doc>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="300.0, 85.0">
                </property>
            </entity>
            <entity name="CurrentTime" class="ptolemy.actor.lib.CurrentTime">
                <doc>Output the current time.</doc>
                <property name="_location" class="ptolemy.kernel.util.Location" value="165.0, 290.0">
                </property>
            </entity>
            <entity name="RecordAssembler2" class="ptolemy.actor.lib.RecordAssembler">
                <property name="_location" class="ptolemy.kernel.util.Location" value="300.0, 245.0">
                </property>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                    </property>
                </port>
                <port name="collisionId" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="detectTime" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
            </entity>
            <entity name="Const2" class="ptolemy.actor.lib.Const">
                <property name="value" class="ptolemy.data.expr.Parameter" value="id">
                </property>
                <doc>Create a constant sequence</doc>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="165.0, 220.0">
                </property>
            </entity>
            <relation name="relation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation2" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="270.0, 140.0">
                </vertex>
            </relation>
            <relation name="relation4" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation8" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="120.0, 255.0">
                </vertex>
            </relation>
            <relation name="relation7" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation10" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation5" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation6" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="time1" relation="relation"/>
            <link port="time2" relation="relation2"/>
            <link port="report" relation="relation6"/>
            <link port="collision" relation="relation8"/>
            <link port="report2" relation="relation5"/>
            <link port="WaitingTime.output" relation="relation3"/>
            <link port="WaitingTime.waiter" relation="relation"/>
            <link port="WaitingTime.waitee" relation="relation2"/>
            <link port="RecordAssembler.output" relation="relation6"/>
            <link port="RecordAssembler.id" relation="relation4"/>
            <link port="RecordAssembler.time" relation="relation3"/>
            <link port="Const.output" relation="relation4"/>
            <link port="Const.trigger" relation="relation3"/>
            <link port="CurrentTime.output" relation="relation7"/>
            <link port="CurrentTime.trigger" relation="relation8"/>
            <link port="RecordAssembler2.output" relation="relation5"/>
            <link port="RecordAssembler2.collisionId" relation="relation10"/>
            <link port="RecordAssembler2.detectTime" relation="relation7"/>
            <link port="Const2.output" relation="relation10"/>
            <link port="Const2.trigger" relation="relation8"/>
        </entity>
        <entity name="modal model2" class="ptolemy.domains.fsm.modal.ModalModel">
            <property name="_tableauFactory" class="ptolemy.vergil.fsm.modal.ModalTableauFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="145.0, 185.0">
            </property>
            <port name="inMSG" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="channelState" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
            </port>
            <port name="senseChannel" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="collision" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
            </port>
            <entity name="_Controller" class="ptolemy.domains.fsm.modal.ModalController">
                <property name="initialStateName" class="ptolemy.kernel.util.StringAttribute" value="idle">
                </property>
                <property name="_library" class="ptolemy.moml.LibraryAttribute">
                    <configure>
        <entity name="state library" class="ptolemy.kernel.CompositeEntity"><input source="ptolemy/configs/basicUtilities.xml"></input><entity name="state" class="ptolemy.domains.fsm.kernel.State"><property name="_centerName" class="ptolemy.kernel.util.Attribute"></property><property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory"></property></entity></entity>
      </configure>
                </property>
                <port name="inMSG" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="0.0, 0.0">
                    </property>
                </port>
                <port name="channelState" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="335.0, 90.0">
                    </property>
                </port>
                <port name="senseChannel" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="-5.0, 90.0">
                    </property>
                </port>
                <port name="collision" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="240.0, 25.0">
                    </property>
                </port>
                <entity name="idle" class="ptolemy.domains.fsm.kernel.State">
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="190.5, 187.28129322224544">
                    </property>
                </entity>
                <entity name="receive" class="ptolemy.domains.fsm.kernel.State">
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="425.0, 195.0">
                    </property>
                </entity>
                <relation name="relation" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="inMSG_isPresent &amp;&amp; inMSG == &quot;END&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.9564982454336546">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation2" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="inMSG_isPresent &amp;&amp; inMSG == &quot;MSG&quot;">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="collision = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="2.512139297546763">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-0.21451248805933695">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation3" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="senseChannel_isPresent &amp;&amp; ! inMSG_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="channelState = &quot;BUSY&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="2.356194490192345">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.0687929371738796">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation4" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="senseChannel_isPresent &amp;&amp; !inMSG_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="channelState = &quot;FREE&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="2.13592263986528">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="1.4616814519565946">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation5" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="inMSG_isPresent &amp;&amp; inMSG == &quot;MSG&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="0.11144946119379541">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <link port="idle.incomingPort" relation="relation"/>
                <link port="idle.incomingPort" relation="relation4"/>
                <link port="idle.outgoingPort" relation="relation5"/>
                <link port="idle.outgoingPort" relation="relation4"/>
                <link port="receive.incomingPort" relation="relation5"/>
                <link port="receive.incomingPort" relation="relation2"/>
                <link port="receive.incomingPort" relation="relation3"/>
                <link port="receive.outgoingPort" relation="relation"/>
                <link port="receive.outgoingPort" relation="relation2"/>
                <link port="receive.outgoingPort" relation="relation3"/>
            </entity>
            <relation name="inMSGRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="channelStateRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="senseChannelRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="collisionRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="inMSG" relation="inMSGRelation"/>
            <link port="channelState" relation="channelStateRelation"/>
            <link port="senseChannel" relation="senseChannelRelation"/>
            <link port="collision" relation="collisionRelation"/>
            <link port="_Controller.inMSG" relation="inMSGRelation"/>
            <link port="_Controller.channelState" relation="channelStateRelation"/>
            <link port="_Controller.senseChannel" relation="senseChannelRelation"/>
            <link port="_Controller.collision" relation="collisionRelation"/>
        </entity>
        <relation name="relation5" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation7" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation8" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="210.0, 55.0">
            </vertex>
        </relation>
        <relation name="relation2" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="405.0, 75.0">
            </vertex>
        </relation>
        <relation name="relation6" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="465.0, 195.0">
            </vertex>
        </relation>
        <relation name="relation9" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation10" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation4" class="ptolemy.actor.TypedIORelation">
        </relation>
        <link port="in" relation="relation10"/>
        <link port="out" relation="relation2"/>
        <link port="report" relation="relation7"/>
        <link port="report2" relation="relation9"/>
        <link port="PoissonClock.output" relation="relation8"/>
        <link port="modal model.data" relation="relation8"/>
        <link port="modal model.channelState" relation="relation4"/>
        <link port="modal model.senseChannel" relation="relation5"/>
        <link port="modal model.outMSG" relation="relation2"/>
        <link port="TimedDelay.input" relation="relation5"/>
        <link port="TimedDelay.output" relation="relation"/>
        <link port="For analysis.time1" relation="relation8"/>
        <link port="For analysis.time2" relation="relation2"/>
        <link port="For analysis.report" relation="relation7"/>
        <link port="For analysis.collision" relation="relation6"/>
        <link port="For analysis.report2" relation="relation9"/>
        <link port="modal model2.inMSG" relation="relation10"/>
        <link port="modal model2.channelState" relation="relation4"/>
        <link port="modal model2.senseChannel" relation="relation"/>
        <link port="modal model2.collision" relation="relation6"/>
    </entity>
    <entity name="node20" class="ptolemy.domains.wireless.kernel.WirelessComposite">
        <property name="_location" class="ptolemy.kernel.util.Location" value="50.0, 120.0">
        </property>
        <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
            <property name="startTime" class="ptolemy.data.expr.Parameter" value="0.0">
            </property>
            <property name="stopTime" class="ptolemy.data.expr.Parameter" value="1.7976931348623E308">
            </property>
            <property name="stopWhenQueueIsEmpty" class="ptolemy.data.expr.Parameter" value="true">
            </property>
            <property name="synchronizeToRealTime" class="ptolemy.data.expr.Parameter" value="false">
            </property>
            <property name="isCQAdaptive" class="ptolemy.data.expr.Parameter" value="true">
            </property>
            <property name="minBinCount" class="ptolemy.data.expr.Parameter" value="2">
            </property>
            <property name="binCountFactor" class="ptolemy.data.expr.Parameter" value="2">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 40.0">
            </property>
        </property>
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={106, 164, 815, 518}, maximized=false}">
        </property>
        <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[600, 400]">
        </property>
        <property name="id" class="ptolemy.data.expr.Parameter" value="1">
        </property>
        <property name="annotation" class="ptolemy.kernel.util.Attribute">
            <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
            <property name="_iconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure><svg><text x="20" y="20" style="font-size:14; font-family:SansSerif; fill:blue">The protocol assumes that propagation takes no time but transmission takes time
that depends on the package's size. When having data to send, it first sense 
whether the channel is free or busy. If free, send the data, if not, then wait
for a random time and try again. The detection inteface is provided by the senseAir 
component. </text></svg></configure>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-A-</text>
      </svg>
    </configure>
            </property>
            <property name="_controllerFactory" class="ptolemy.vergil.basic.NodeControllerFactory">
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.AnnotationEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="-50.0, 370.0">
            </property>
        </property>
        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <port name="in" class="ptolemy.domains.wireless.kernel.WirelessIOPort">
            <property name="input"/>
            <property name="outsideChannel" class="ptolemy.data.expr.StringParameter" value="LimitedRangeChannel">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="70.0, 175.0">
            </property>
            <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
        </port>
        <port name="out" class="ptolemy.domains.wireless.kernel.WirelessIOPort">
            <property name="output"/>
            <property name="outsideChannel" class="ptolemy.data.expr.StringParameter" value="LimitedRangeChannel">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="425.0, 145.0">
            </property>
            <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
        </port>
        <port name="report" class="ptolemy.domains.wireless.kernel.WirelessIOPort">
            <property name="output"/>
            <property name="outsideChannel" class="ptolemy.data.expr.StringParameter" value="DataCollectChannel">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="545.0, 65.0">
            </property>
            <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
        </port>
        <port name="report2" class="ptolemy.domains.wireless.kernel.WirelessIOPort">
            <property name="output"/>
            <property name="outsideChannel" class="ptolemy.data.expr.StringParameter" value="CollisionReportChannel">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="545.0, 105.0">
            </property>
            <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
        </port>
        <entity name="PoissonClock" class="ptolemy.actor.lib.PoissonClock">
            <property name="meanTime" class="ptolemy.data.expr.Parameter" value="TrafficDensity">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="85.0, 105.0">
            </property>
        </entity>
        <entity name="modal model" class="ptolemy.domains.fsm.modal.ModalModel">
            <property name="_tableauFactory" class="ptolemy.vergil.fsm.modal.ModalTableauFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="270.0, 115.0">
            </property>
            <port name="data" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="channelState" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="senseChannel" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
            </port>
            <port name="outMSG" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="NORTH">
                </property>
            </port>
            <port name="randomWait" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="output"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="wakeUp" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="output"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <entity name="_Controller" class="ptolemy.domains.fsm.modal.ModalController">
                <property name="initialStateName" class="ptolemy.kernel.util.StringAttribute" value="idle">
                </property>
                <property name="_library" class="ptolemy.moml.LibraryAttribute">
                    <configure><entity name="state library" class="ptolemy.kernel.CompositeEntity"><input source="ptolemy/configs/basicUtilities.xml"></input><entity name="state" class="ptolemy.domains.fsm.kernel.State"><property name="_centerName" class="ptolemy.kernel.util.Attribute"></property></entity></entity></configure>
                </property>
                <port name="data" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="40.0, 95.0">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="channelState" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="35.0, 185.0">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="senseChannel" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="535.0, 70.0">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="outMSG" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="535.0, 155.0">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="randomWait" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="30.0, 260.0">
                    </property>
                    <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                </port>
                <port name="wakeUp" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="30.0, 330.0">
                    </property>
                    <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                </port>
                <entity name="idle" class="ptolemy.domains.fsm.kernel.State">
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="115.0, 145.0">
                    </property>
                </entity>
                <entity name="senseAir" class="ptolemy.domains.fsm.kernel.State">
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="255.0, 120.0">
                    </property>
                </entity>
                <entity name="randomWait" class="ptolemy.domains.fsm.kernel.State">
                    <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="randomWait">
                    </property>
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="460.0, 125.0">
                    </property>
                </entity>
                <entity name="Emit" class="ptolemy.domains.fsm.kernel.State">
                    <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="Emit">
                    </property>
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="270.0, 355.0">
                    </property>
                </entity>
                <relation name="relation" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="data_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="senseChannel = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.7290251868073567">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-0.2479894981275352">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation2" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="channelState_isPresent &amp;&amp; channelState == &quot;BUSY&quot;">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="randomWait = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.8816266690949863">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="0.3014559376966855">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation3" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="wakeUp_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="senseChannel = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.7432607920971347">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.969499643808648">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation4" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="channelState_isPresent &amp;&amp; channelState == &quot;FREE&quot;">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="outMSG = &quot;MSG&quot;; randomWait = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.04481040911079372">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="1.5101165449404714">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation5" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="wakeUp_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="outMSG = &quot;END&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.28882718043739275">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.217615632874857">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <link port="idle.incomingPort" relation="relation5"/>
                <link port="idle.outgoingPort" relation="relation"/>
                <link port="senseAir.incomingPort" relation="relation"/>
                <link port="senseAir.incomingPort" relation="relation3"/>
                <link port="senseAir.outgoingPort" relation="relation2"/>
                <link port="senseAir.outgoingPort" relation="relation4"/>
                <link port="randomWait.incomingPort" relation="relation2"/>
                <link port="randomWait.outgoingPort" relation="relation3"/>
                <link port="Emit.incomingPort" relation="relation4"/>
                <link port="Emit.outgoingPort" relation="relation5"/>
            </entity>
            <entity name="randomWait" class="ptolemy.domains.fsm.modal.Refinement">
                <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
                    <property name="startTime" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                    <property name="stopTime" class="ptolemy.data.expr.Parameter" value="1.7976931348623E308">
                    </property>
                    <property name="stopWhenQueueIsEmpty" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="synchronizeToRealTime" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="isCQAdaptive" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="minBinCount" class="ptolemy.data.expr.Parameter" value="2">
                    </property>
                    <property name="binCountFactor" class="ptolemy.data.expr.Parameter" value="2">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 40.0">
                    </property>
                </property>
                <port name="data" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="45.0, 125.0">
                    </property>
                </port>
                <port name="channelState" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="55.0, 215.0">
                    </property>
                </port>
                <port name="senseChannel" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="415.0, 160.0">
                    </property>
                </port>
                <port name="outMSG" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="525.0, 325.0">
                    </property>
                </port>
                <port name="randomWait" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="70.0, 280.0">
                    </property>
                </port>
                <port name="wakeUp" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="420.0, 255.0">
                    </property>
                </port>
                <entity name="VariableDelay" class="ptolemy.domains.de.lib.VariableDelay">
                    <property name="defaultDelay" class="ptolemy.data.expr.Parameter" value="1.0">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="290.0, 250.0">
                    </property>
                </entity>
                <entity name="Uniform" class="ptolemy.actor.lib.Uniform">
                    <property name="seed" class="ptolemy.data.expr.Parameter" value="0L">
                    </property>
                    <property name="lowerBound" class="ptolemy.data.expr.Parameter" value="MinWaiting">
                    </property>
                    <property name="upperBound" class="ptolemy.data.expr.Parameter" value="MaxWaiting">
                    </property>
                    <doc>Create a sequence of uniformly distributed random numbers</doc>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="190.0, 315.0">
                    </property>
                </entity>
                <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                    <vertex name="vertex1" value="145.0, 240.0">
                    </vertex>
                </relation>
                <relation name="relation" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                </relation>
                <link port="randomWait" relation="relation2"/>
                <link port="wakeUp" relation="relation3"/>
                <link port="VariableDelay.input" relation="relation2"/>
                <link port="VariableDelay.output" relation="relation3"/>
                <link port="VariableDelay.delay" relation="relation"/>
                <link port="Uniform.output" relation="relation"/>
                <link port="Uniform.trigger" relation="relation2"/>
            </entity>
            <entity name="Emit" class="ptolemy.domains.fsm.modal.Refinement">
                <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
                    <property name="startTime" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                    <property name="stopTime" class="ptolemy.data.expr.Parameter" value="1.7976931348623E308">
                    </property>
                    <property name="stopWhenQueueIsEmpty" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="synchronizeToRealTime" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="isCQAdaptive" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="minBinCount" class="ptolemy.data.expr.Parameter" value="2">
                    </property>
                    <property name="binCountFactor" class="ptolemy.data.expr.Parameter" value="2">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="270.0, 85.0">
                    </property>
                </property>
                <port name="data" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="55.0, 305.0">
                    </property>
                </port>
                <port name="channelState" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="100.0, 150.0">
                    </property>
                </port>
                <port name="senseChannel" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="90.0, 60.0">
                    </property>
                </port>
                <port name="outMSG" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="40.0, 205.0">
                    </property>
                </port>
                <port name="randomWait" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="85.0, 275.0">
                    </property>
                </port>
                <port name="wakeUp" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="485.0, 210.0">
                    </property>
                </port>
                <entity name="Uniform" class="ptolemy.actor.lib.Uniform">
                    <property name="seed" class="ptolemy.data.expr.Parameter" value="10L">
                    </property>
                    <property name="lowerBound" class="ptolemy.data.expr.Parameter" value="MinTxTime">
                    </property>
                    <property name="upperBound" class="ptolemy.data.expr.Parameter" value="MaxTxTime">
                    </property>
                    <doc>Create a sequence of uniformly distributed random numbers</doc>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="190.0, 315.0">
                    </property>
                </entity>
                <entity name="VariableDelay" class="ptolemy.domains.de.lib.VariableDelay">
                    <property name="defaultDelay" class="ptolemy.data.expr.Parameter" value="1.0">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="290.0, 250.0">
                    </property>
                </entity>
                <relation name="relation" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                    <vertex name="vertex1" value="145.0, 240.0">
                    </vertex>
                </relation>
                <relation name="relation4" class="ptolemy.actor.TypedIORelation">
                </relation>
                <link port="randomWait" relation="relation2"/>
                <link port="wakeUp" relation="relation4"/>
                <link port="Uniform.output" relation="relation"/>
                <link port="Uniform.trigger" relation="relation2"/>
                <link port="VariableDelay.input" relation="relation2"/>
                <link port="VariableDelay.output" relation="relation4"/>
                <link port="VariableDelay.delay" relation="relation"/>
            </entity>
            <relation name="dataRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="channelStateRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="senseChannelRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="outMSGRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="randomWaitRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="wakeUpRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="data" relation="dataRelation"/>
            <link port="channelState" relation="channelStateRelation"/>
            <link port="senseChannel" relation="senseChannelRelation"/>
            <link port="outMSG" relation="outMSGRelation"/>
            <link port="randomWait" relation="randomWaitRelation"/>
            <link port="wakeUp" relation="wakeUpRelation"/>
            <link port="_Controller.data" relation="dataRelation"/>
            <link port="_Controller.channelState" relation="channelStateRelation"/>
            <link port="_Controller.senseChannel" relation="senseChannelRelation"/>
            <link port="_Controller.outMSG" relation="outMSGRelation"/>
            <link port="_Controller.randomWait" relation="randomWaitRelation"/>
            <link port="_Controller.wakeUp" relation="wakeUpRelation"/>
            <link port="randomWait.data" relation="dataRelation"/>
            <link port="randomWait.channelState" relation="channelStateRelation"/>
            <link port="randomWait.senseChannel" relation="senseChannelRelation"/>
            <link port="randomWait.outMSG" relation="outMSGRelation"/>
            <link port="randomWait.randomWait" relation="randomWaitRelation"/>
            <link port="randomWait.wakeUp" relation="wakeUpRelation"/>
            <link port="Emit.data" relation="dataRelation"/>
            <link port="Emit.channelState" relation="channelStateRelation"/>
            <link port="Emit.senseChannel" relation="senseChannelRelation"/>
            <link port="Emit.outMSG" relation="outMSGRelation"/>
            <link port="Emit.randomWait" relation="randomWaitRelation"/>
            <link port="Emit.wakeUp" relation="wakeUpRelation"/>
        </entity>
        <entity name="TimedDelay" class="ptolemy.domains.de.lib.TimedDelay">
            <property name="delay" class="ptolemy.data.expr.Parameter" value="1.0">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="505.0, 300.0">
            </property>
        </entity>
        <entity name="For analysis" class="ptolemy.actor.TypedCompositeActor">
            <property name="_location" class="ptolemy.kernel.util.Location" value="470.0, 65.0">
            </property>
            <port name="time1" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 130.0">
                </property>
            </port>
            <port name="time2" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 185.0">
                </property>
            </port>
            <port name="report" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="465.0, 150.0">
                </property>
            </port>
            <port name="collision" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="SOUTH">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 255.0">
                </property>
            </port>
            <port name="report2" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="SOUTH">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="440.0, 265.0">
                </property>
            </port>
            <entity name="WaitingTime" class="ptolemy.domains.de.lib.WaitingTime">
                <property name="_location" class="ptolemy.kernel.util.Location" value="210.0, 140.0">
                </property>
            </entity>
            <entity name="RecordAssembler" class="ptolemy.actor.lib.RecordAssembler">
                <property name="_location" class="ptolemy.kernel.util.Location" value="340.0, 110.0">
                </property>
                <port name="id" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
                <port name="time" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
            </entity>
            <entity name="Const" class="ptolemy.actor.lib.Const">
                <property name="value" class="ptolemy.data.expr.Parameter" value="id">
                </property>
                <doc>Create a constant sequence</doc>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="300.0, 85.0">
                </property>
            </entity>
            <entity name="CurrentTime" class="ptolemy.actor.lib.CurrentTime">
                <doc>Output the current time.</doc>
                <property name="_location" class="ptolemy.kernel.util.Location" value="165.0, 290.0">
                </property>
            </entity>
            <entity name="RecordAssembler2" class="ptolemy.actor.lib.RecordAssembler">
                <property name="_location" class="ptolemy.kernel.util.Location" value="300.0, 245.0">
                </property>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                    </property>
                </port>
                <port name="collisionId" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="detectTime" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
            </entity>
            <entity name="Const2" class="ptolemy.actor.lib.Const">
                <property name="value" class="ptolemy.data.expr.Parameter" value="id">
                </property>
                <doc>Create a constant sequence</doc>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="165.0, 220.0">
                </property>
            </entity>
            <relation name="relation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation2" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="270.0, 140.0">
                </vertex>
            </relation>
            <relation name="relation4" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation8" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="120.0, 255.0">
                </vertex>
            </relation>
            <relation name="relation7" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation10" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation5" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation6" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="time1" relation="relation"/>
            <link port="time2" relation="relation2"/>
            <link port="report" relation="relation6"/>
            <link port="collision" relation="relation8"/>
            <link port="report2" relation="relation5"/>
            <link port="WaitingTime.output" relation="relation3"/>
            <link port="WaitingTime.waiter" relation="relation"/>
            <link port="WaitingTime.waitee" relation="relation2"/>
            <link port="RecordAssembler.output" relation="relation6"/>
            <link port="RecordAssembler.id" relation="relation4"/>
            <link port="RecordAssembler.time" relation="relation3"/>
            <link port="Const.output" relation="relation4"/>
            <link port="Const.trigger" relation="relation3"/>
            <link port="CurrentTime.output" relation="relation7"/>
            <link port="CurrentTime.trigger" relation="relation8"/>
            <link port="RecordAssembler2.output" relation="relation5"/>
            <link port="RecordAssembler2.collisionId" relation="relation10"/>
            <link port="RecordAssembler2.detectTime" relation="relation7"/>
            <link port="Const2.output" relation="relation10"/>
            <link port="Const2.trigger" relation="relation8"/>
        </entity>
        <entity name="modal model2" class="ptolemy.domains.fsm.modal.ModalModel">
            <property name="_tableauFactory" class="ptolemy.vergil.fsm.modal.ModalTableauFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="145.0, 185.0">
            </property>
            <port name="inMSG" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="channelState" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
            </port>
            <port name="senseChannel" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="collision" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
            </port>
            <entity name="_Controller" class="ptolemy.domains.fsm.modal.ModalController">
                <property name="initialStateName" class="ptolemy.kernel.util.StringAttribute" value="idle">
                </property>
                <property name="_library" class="ptolemy.moml.LibraryAttribute">
                    <configure>
        <entity name="state library" class="ptolemy.kernel.CompositeEntity"><input source="ptolemy/configs/basicUtilities.xml"></input><entity name="state" class="ptolemy.domains.fsm.kernel.State"><property name="_centerName" class="ptolemy.kernel.util.Attribute"></property><property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory"></property></entity></entity>
      </configure>
                </property>
                <port name="inMSG" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="0.0, 0.0">
                    </property>
                </port>
                <port name="channelState" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="335.0, 90.0">
                    </property>
                </port>
                <port name="senseChannel" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="-5.0, 90.0">
                    </property>
                </port>
                <port name="collision" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="240.0, 25.0">
                    </property>
                </port>
                <entity name="idle" class="ptolemy.domains.fsm.kernel.State">
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="190.5, 187.28129322224544">
                    </property>
                </entity>
                <entity name="receive" class="ptolemy.domains.fsm.kernel.State">
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="425.0, 195.0">
                    </property>
                </entity>
                <relation name="relation" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="inMSG_isPresent &amp;&amp; inMSG == &quot;END&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.9564982454336546">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation2" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="inMSG_isPresent &amp;&amp; inMSG == &quot;MSG&quot;">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="collision = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="2.512139297546763">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-0.21451248805933695">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation3" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="senseChannel_isPresent &amp;&amp; ! inMSG_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="channelState = &quot;BUSY&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="2.356194490192345">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.0687929371738796">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation4" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="senseChannel_isPresent &amp;&amp; !inMSG_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="channelState = &quot;FREE&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="2.13592263986528">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="1.4616814519565946">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation5" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="inMSG_isPresent &amp;&amp; inMSG == &quot;MSG&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="0.11144946119379541">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <link port="idle.incomingPort" relation="relation"/>
                <link port="idle.incomingPort" relation="relation4"/>
                <link port="idle.outgoingPort" relation="relation5"/>
                <link port="idle.outgoingPort" relation="relation4"/>
                <link port="receive.incomingPort" relation="relation5"/>
                <link port="receive.incomingPort" relation="relation2"/>
                <link port="receive.incomingPort" relation="relation3"/>
                <link port="receive.outgoingPort" relation="relation"/>
                <link port="receive.outgoingPort" relation="relation2"/>
                <link port="receive.outgoingPort" relation="relation3"/>
            </entity>
            <relation name="inMSGRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="channelStateRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="senseChannelRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="collisionRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="inMSG" relation="inMSGRelation"/>
            <link port="channelState" relation="channelStateRelation"/>
            <link port="senseChannel" relation="senseChannelRelation"/>
            <link port="collision" relation="collisionRelation"/>
            <link port="_Controller.inMSG" relation="inMSGRelation"/>
            <link port="_Controller.channelState" relation="channelStateRelation"/>
            <link port="_Controller.senseChannel" relation="senseChannelRelation"/>
            <link port="_Controller.collision" relation="collisionRelation"/>
        </entity>
        <relation name="relation5" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation7" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation8" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="210.0, 55.0">
            </vertex>
        </relation>
        <relation name="relation2" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="405.0, 75.0">
            </vertex>
        </relation>
        <relation name="relation6" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="465.0, 195.0">
            </vertex>
        </relation>
        <relation name="relation9" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation10" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation4" class="ptolemy.actor.TypedIORelation">
        </relation>
        <link port="in" relation="relation10"/>
        <link port="out" relation="relation2"/>
        <link port="report" relation="relation7"/>
        <link port="report2" relation="relation9"/>
        <link port="PoissonClock.output" relation="relation8"/>
        <link port="modal model.data" relation="relation8"/>
        <link port="modal model.channelState" relation="relation4"/>
        <link port="modal model.senseChannel" relation="relation5"/>
        <link port="modal model.outMSG" relation="relation2"/>
        <link port="TimedDelay.input" relation="relation5"/>
        <link port="TimedDelay.output" relation="relation"/>
        <link port="For analysis.time1" relation="relation8"/>
        <link port="For analysis.time2" relation="relation2"/>
        <link port="For analysis.report" relation="relation7"/>
        <link port="For analysis.collision" relation="relation6"/>
        <link port="For analysis.report2" relation="relation9"/>
        <link port="modal model2.inMSG" relation="relation10"/>
        <link port="modal model2.channelState" relation="relation4"/>
        <link port="modal model2.senseChannel" relation="relation"/>
        <link port="modal model2.collision" relation="relation6"/>
    </entity>
    <entity name="node26" class="ptolemy.domains.wireless.kernel.WirelessComposite">
        <property name="_location" class="ptolemy.kernel.util.Location" value="380.0, 320.0">
        </property>
        <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
            <property name="startTime" class="ptolemy.data.expr.Parameter" value="0.0">
            </property>
            <property name="stopTime" class="ptolemy.data.expr.Parameter" value="1.7976931348623E308">
            </property>
            <property name="stopWhenQueueIsEmpty" class="ptolemy.data.expr.Parameter" value="true">
            </property>
            <property name="synchronizeToRealTime" class="ptolemy.data.expr.Parameter" value="false">
            </property>
            <property name="isCQAdaptive" class="ptolemy.data.expr.Parameter" value="true">
            </property>
            <property name="minBinCount" class="ptolemy.data.expr.Parameter" value="2">
            </property>
            <property name="binCountFactor" class="ptolemy.data.expr.Parameter" value="2">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 40.0">
            </property>
        </property>
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={106, 164, 815, 518}, maximized=false}">
        </property>
        <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[600, 400]">
        </property>
        <property name="id" class="ptolemy.data.expr.Parameter" value="14">
        </property>
        <property name="annotation" class="ptolemy.kernel.util.Attribute">
            <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
            <property name="_iconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure><svg><text x="20" y="20" style="font-size:14; font-family:SansSerif; fill:blue">The protocol assumes that propagation takes no time but transmission takes time
that depends on the package's size. When having data to send, it first sense 
whether the channel is free or busy. If free, send the data, if not, then wait
for a random time and try again. The detection inteface is provided by the senseAir 
component. </text></svg></configure>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-A-</text>
      </svg>
    </configure>
            </property>
            <property name="_controllerFactory" class="ptolemy.vergil.basic.NodeControllerFactory">
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.AnnotationEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="-50.0, 370.0">
            </property>
        </property>
        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <port name="in" class="ptolemy.domains.wireless.kernel.WirelessIOPort">
            <property name="input"/>
            <property name="outsideChannel" class="ptolemy.data.expr.StringParameter" value="LimitedRangeChannel">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="70.0, 175.0">
            </property>
            <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
        </port>
        <port name="out" class="ptolemy.domains.wireless.kernel.WirelessIOPort">
            <property name="output"/>
            <property name="outsideChannel" class="ptolemy.data.expr.StringParameter" value="LimitedRangeChannel">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="425.0, 145.0">
            </property>
            <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
        </port>
        <port name="report" class="ptolemy.domains.wireless.kernel.WirelessIOPort">
            <property name="output"/>
            <property name="outsideChannel" class="ptolemy.data.expr.StringParameter" value="DataCollectChannel">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="545.0, 65.0">
            </property>
            <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
        </port>
        <port name="report2" class="ptolemy.domains.wireless.kernel.WirelessIOPort">
            <property name="output"/>
            <property name="outsideChannel" class="ptolemy.data.expr.StringParameter" value="CollisionReportChannel">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="545.0, 105.0">
            </property>
            <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
        </port>
        <entity name="PoissonClock" class="ptolemy.actor.lib.PoissonClock">
            <property name="meanTime" class="ptolemy.data.expr.Parameter" value="TrafficDensity">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="85.0, 105.0">
            </property>
        </entity>
        <entity name="modal model" class="ptolemy.domains.fsm.modal.ModalModel">
            <property name="_tableauFactory" class="ptolemy.vergil.fsm.modal.ModalTableauFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="270.0, 115.0">
            </property>
            <port name="data" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="channelState" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="senseChannel" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
            </port>
            <port name="outMSG" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="NORTH">
                </property>
            </port>
            <port name="randomWait" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="output"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="wakeUp" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="output"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <entity name="_Controller" class="ptolemy.domains.fsm.modal.ModalController">
                <property name="initialStateName" class="ptolemy.kernel.util.StringAttribute" value="idle">
                </property>
                <property name="_library" class="ptolemy.moml.LibraryAttribute">
                    <configure><entity name="state library" class="ptolemy.kernel.CompositeEntity"><input source="ptolemy/configs/basicUtilities.xml"></input><entity name="state" class="ptolemy.domains.fsm.kernel.State"><property name="_centerName" class="ptolemy.kernel.util.Attribute"></property></entity></entity></configure>
                </property>
                <port name="data" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="40.0, 95.0">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="channelState" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="35.0, 185.0">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="senseChannel" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="535.0, 70.0">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="outMSG" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="535.0, 155.0">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="randomWait" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="30.0, 260.0">
                    </property>
                    <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                </port>
                <port name="wakeUp" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="30.0, 330.0">
                    </property>
                    <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                </port>
                <entity name="idle" class="ptolemy.domains.fsm.kernel.State">
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="115.0, 145.0">
                    </property>
                </entity>
                <entity name="senseAir" class="ptolemy.domains.fsm.kernel.State">
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="255.0, 120.0">
                    </property>
                </entity>
                <entity name="randomWait" class="ptolemy.domains.fsm.kernel.State">
                    <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="randomWait">
                    </property>
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="460.0, 125.0">
                    </property>
                </entity>
                <entity name="Emit" class="ptolemy.domains.fsm.kernel.State">
                    <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="Emit">
                    </property>
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="270.0, 355.0">
                    </property>
                </entity>
                <relation name="relation" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="data_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="senseChannel = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.7290251868073567">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-0.2479894981275352">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation2" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="channelState_isPresent &amp;&amp; channelState == &quot;BUSY&quot;">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="randomWait = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.8816266690949863">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="0.3014559376966855">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation3" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="wakeUp_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="senseChannel = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.7432607920971347">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.969499643808648">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation4" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="channelState_isPresent &amp;&amp; channelState == &quot;FREE&quot;">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="outMSG = &quot;MSG&quot;; randomWait = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.04481040911079372">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="1.5101165449404714">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation5" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="wakeUp_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="outMSG = &quot;END&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.28882718043739275">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.217615632874857">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <link port="idle.incomingPort" relation="relation5"/>
                <link port="idle.outgoingPort" relation="relation"/>
                <link port="senseAir.incomingPort" relation="relation"/>
                <link port="senseAir.incomingPort" relation="relation3"/>
                <link port="senseAir.outgoingPort" relation="relation2"/>
                <link port="senseAir.outgoingPort" relation="relation4"/>
                <link port="randomWait.incomingPort" relation="relation2"/>
                <link port="randomWait.outgoingPort" relation="relation3"/>
                <link port="Emit.incomingPort" relation="relation4"/>
                <link port="Emit.outgoingPort" relation="relation5"/>
            </entity>
            <entity name="randomWait" class="ptolemy.domains.fsm.modal.Refinement">
                <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
                    <property name="startTime" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                    <property name="stopTime" class="ptolemy.data.expr.Parameter" value="1.7976931348623E308">
                    </property>
                    <property name="stopWhenQueueIsEmpty" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="synchronizeToRealTime" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="isCQAdaptive" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="minBinCount" class="ptolemy.data.expr.Parameter" value="2">
                    </property>
                    <property name="binCountFactor" class="ptolemy.data.expr.Parameter" value="2">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 40.0">
                    </property>
                </property>
                <port name="data" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="45.0, 125.0">
                    </property>
                </port>
                <port name="channelState" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="55.0, 215.0">
                    </property>
                </port>
                <port name="senseChannel" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="415.0, 160.0">
                    </property>
                </port>
                <port name="outMSG" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="525.0, 325.0">
                    </property>
                </port>
                <port name="randomWait" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="70.0, 280.0">
                    </property>
                </port>
                <port name="wakeUp" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="420.0, 255.0">
                    </property>
                </port>
                <entity name="VariableDelay" class="ptolemy.domains.de.lib.VariableDelay">
                    <property name="defaultDelay" class="ptolemy.data.expr.Parameter" value="1.0">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="290.0, 250.0">
                    </property>
                </entity>
                <entity name="Uniform" class="ptolemy.actor.lib.Uniform">
                    <property name="seed" class="ptolemy.data.expr.Parameter" value="0L">
                    </property>
                    <property name="lowerBound" class="ptolemy.data.expr.Parameter" value="MinWaiting">
                    </property>
                    <property name="upperBound" class="ptolemy.data.expr.Parameter" value="MaxWaiting">
                    </property>
                    <doc>Create a sequence of uniformly distributed random numbers</doc>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="190.0, 315.0">
                    </property>
                </entity>
                <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                    <vertex name="vertex1" value="145.0, 240.0">
                    </vertex>
                </relation>
                <relation name="relation" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                </relation>
                <link port="randomWait" relation="relation2"/>
                <link port="wakeUp" relation="relation3"/>
                <link port="VariableDelay.input" relation="relation2"/>
                <link port="VariableDelay.output" relation="relation3"/>
                <link port="VariableDelay.delay" relation="relation"/>
                <link port="Uniform.output" relation="relation"/>
                <link port="Uniform.trigger" relation="relation2"/>
            </entity>
            <entity name="Emit" class="ptolemy.domains.fsm.modal.Refinement">
                <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
                    <property name="startTime" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                    <property name="stopTime" class="ptolemy.data.expr.Parameter" value="1.7976931348623E308">
                    </property>
                    <property name="stopWhenQueueIsEmpty" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="synchronizeToRealTime" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="isCQAdaptive" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="minBinCount" class="ptolemy.data.expr.Parameter" value="2">
                    </property>
                    <property name="binCountFactor" class="ptolemy.data.expr.Parameter" value="2">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="270.0, 85.0">
                    </property>
                </property>
                <port name="data" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="55.0, 305.0">
                    </property>
                </port>
                <port name="channelState" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="100.0, 150.0">
                    </property>
                </port>
                <port name="senseChannel" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="90.0, 60.0">
                    </property>
                </port>
                <port name="outMSG" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="40.0, 205.0">
                    </property>
                </port>
                <port name="randomWait" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="85.0, 275.0">
                    </property>
                </port>
                <port name="wakeUp" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="485.0, 210.0">
                    </property>
                </port>
                <entity name="Uniform" class="ptolemy.actor.lib.Uniform">
                    <property name="seed" class="ptolemy.data.expr.Parameter" value="10L">
                    </property>
                    <property name="lowerBound" class="ptolemy.data.expr.Parameter" value="MinTxTime">
                    </property>
                    <property name="upperBound" class="ptolemy.data.expr.Parameter" value="MaxTxTime">
                    </property>
                    <doc>Create a sequence of uniformly distributed random numbers</doc>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="190.0, 315.0">
                    </property>
                </entity>
                <entity name="VariableDelay" class="ptolemy.domains.de.lib.VariableDelay">
                    <property name="defaultDelay" class="ptolemy.data.expr.Parameter" value="1.0">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="290.0, 250.0">
                    </property>
                </entity>
                <relation name="relation" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                    <vertex name="vertex1" value="145.0, 240.0">
                    </vertex>
                </relation>
                <relation name="relation4" class="ptolemy.actor.TypedIORelation">
                </relation>
                <link port="randomWait" relation="relation2"/>
                <link port="wakeUp" relation="relation4"/>
                <link port="Uniform.output" relation="relation"/>
                <link port="Uniform.trigger" relation="relation2"/>
                <link port="VariableDelay.input" relation="relation2"/>
                <link port="VariableDelay.output" relation="relation4"/>
                <link port="VariableDelay.delay" relation="relation"/>
            </entity>
            <relation name="dataRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="channelStateRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="senseChannelRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="outMSGRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="randomWaitRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="wakeUpRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="data" relation="dataRelation"/>
            <link port="channelState" relation="channelStateRelation"/>
            <link port="senseChannel" relation="senseChannelRelation"/>
            <link port="outMSG" relation="outMSGRelation"/>
            <link port="randomWait" relation="randomWaitRelation"/>
            <link port="wakeUp" relation="wakeUpRelation"/>
            <link port="_Controller.data" relation="dataRelation"/>
            <link port="_Controller.channelState" relation="channelStateRelation"/>
            <link port="_Controller.senseChannel" relation="senseChannelRelation"/>
            <link port="_Controller.outMSG" relation="outMSGRelation"/>
            <link port="_Controller.randomWait" relation="randomWaitRelation"/>
            <link port="_Controller.wakeUp" relation="wakeUpRelation"/>
            <link port="randomWait.data" relation="dataRelation"/>
            <link port="randomWait.channelState" relation="channelStateRelation"/>
            <link port="randomWait.senseChannel" relation="senseChannelRelation"/>
            <link port="randomWait.outMSG" relation="outMSGRelation"/>
            <link port="randomWait.randomWait" relation="randomWaitRelation"/>
            <link port="randomWait.wakeUp" relation="wakeUpRelation"/>
            <link port="Emit.data" relation="dataRelation"/>
            <link port="Emit.channelState" relation="channelStateRelation"/>
            <link port="Emit.senseChannel" relation="senseChannelRelation"/>
            <link port="Emit.outMSG" relation="outMSGRelation"/>
            <link port="Emit.randomWait" relation="randomWaitRelation"/>
            <link port="Emit.wakeUp" relation="wakeUpRelation"/>
        </entity>
        <entity name="TimedDelay" class="ptolemy.domains.de.lib.TimedDelay">
            <property name="delay" class="ptolemy.data.expr.Parameter" value="1.0">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="505.0, 300.0">
            </property>
        </entity>
        <entity name="For analysis" class="ptolemy.actor.TypedCompositeActor">
            <property name="_location" class="ptolemy.kernel.util.Location" value="470.0, 65.0">
            </property>
            <port name="time1" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 130.0">
                </property>
            </port>
            <port name="time2" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 185.0">
                </property>
            </port>
            <port name="report" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="465.0, 150.0">
                </property>
            </port>
            <port name="collision" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="SOUTH">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 255.0">
                </property>
            </port>
            <port name="report2" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="SOUTH">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="440.0, 265.0">
                </property>
            </port>
            <entity name="WaitingTime" class="ptolemy.domains.de.lib.WaitingTime">
                <property name="_location" class="ptolemy.kernel.util.Location" value="210.0, 140.0">
                </property>
            </entity>
            <entity name="RecordAssembler" class="ptolemy.actor.lib.RecordAssembler">
                <property name="_location" class="ptolemy.kernel.util.Location" value="340.0, 110.0">
                </property>
                <port name="id" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
                <port name="time" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
            </entity>
            <entity name="Const" class="ptolemy.actor.lib.Const">
                <property name="value" class="ptolemy.data.expr.Parameter" value="id">
                </property>
                <doc>Create a constant sequence</doc>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="300.0, 85.0">
                </property>
            </entity>
            <entity name="CurrentTime" class="ptolemy.actor.lib.CurrentTime">
                <doc>Output the current time.</doc>
                <property name="_location" class="ptolemy.kernel.util.Location" value="165.0, 290.0">
                </property>
            </entity>
            <entity name="RecordAssembler2" class="ptolemy.actor.lib.RecordAssembler">
                <property name="_location" class="ptolemy.kernel.util.Location" value="300.0, 245.0">
                </property>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                    </property>
                </port>
                <port name="collisionId" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="detectTime" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
            </entity>
            <entity name="Const2" class="ptolemy.actor.lib.Const">
                <property name="value" class="ptolemy.data.expr.Parameter" value="id">
                </property>
                <doc>Create a constant sequence</doc>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="165.0, 220.0">
                </property>
            </entity>
            <relation name="relation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation2" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="270.0, 140.0">
                </vertex>
            </relation>
            <relation name="relation4" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation8" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="120.0, 255.0">
                </vertex>
            </relation>
            <relation name="relation7" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation10" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation5" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation6" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="time1" relation="relation"/>
            <link port="time2" relation="relation2"/>
            <link port="report" relation="relation6"/>
            <link port="collision" relation="relation8"/>
            <link port="report2" relation="relation5"/>
            <link port="WaitingTime.output" relation="relation3"/>
            <link port="WaitingTime.waiter" relation="relation"/>
            <link port="WaitingTime.waitee" relation="relation2"/>
            <link port="RecordAssembler.output" relation="relation6"/>
            <link port="RecordAssembler.id" relation="relation4"/>
            <link port="RecordAssembler.time" relation="relation3"/>
            <link port="Const.output" relation="relation4"/>
            <link port="Const.trigger" relation="relation3"/>
            <link port="CurrentTime.output" relation="relation7"/>
            <link port="CurrentTime.trigger" relation="relation8"/>
            <link port="RecordAssembler2.output" relation="relation5"/>
            <link port="RecordAssembler2.collisionId" relation="relation10"/>
            <link port="RecordAssembler2.detectTime" relation="relation7"/>
            <link port="Const2.output" relation="relation10"/>
            <link port="Const2.trigger" relation="relation8"/>
        </entity>
        <entity name="modal model2" class="ptolemy.domains.fsm.modal.ModalModel">
            <property name="_tableauFactory" class="ptolemy.vergil.fsm.modal.ModalTableauFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="145.0, 185.0">
            </property>
            <port name="inMSG" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="channelState" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
            </port>
            <port name="senseChannel" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="collision" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
            </port>
            <entity name="_Controller" class="ptolemy.domains.fsm.modal.ModalController">
                <property name="initialStateName" class="ptolemy.kernel.util.StringAttribute" value="idle">
                </property>
                <property name="_library" class="ptolemy.moml.LibraryAttribute">
                    <configure>
        <entity name="state library" class="ptolemy.kernel.CompositeEntity"><input source="ptolemy/configs/basicUtilities.xml"></input><entity name="state" class="ptolemy.domains.fsm.kernel.State"><property name="_centerName" class="ptolemy.kernel.util.Attribute"></property><property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory"></property></entity></entity>
      </configure>
                </property>
                <port name="inMSG" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="0.0, 0.0">
                    </property>
                </port>
                <port name="channelState" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="335.0, 90.0">
                    </property>
                </port>
                <port name="senseChannel" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="-5.0, 90.0">
                    </property>
                </port>
                <port name="collision" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="240.0, 25.0">
                    </property>
                </port>
                <entity name="idle" class="ptolemy.domains.fsm.kernel.State">
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="190.5, 187.28129322224544">
                    </property>
                </entity>
                <entity name="receive" class="ptolemy.domains.fsm.kernel.State">
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="425.0, 195.0">
                    </property>
                </entity>
                <relation name="relation" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="inMSG_isPresent &amp;&amp; inMSG == &quot;END&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.9564982454336546">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation2" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="inMSG_isPresent &amp;&amp; inMSG == &quot;MSG&quot;">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="collision = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="2.512139297546763">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-0.21451248805933695">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation3" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="senseChannel_isPresent &amp;&amp; ! inMSG_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="channelState = &quot;BUSY&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="2.356194490192345">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.0687929371738796">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation4" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="senseChannel_isPresent &amp;&amp; !inMSG_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="channelState = &quot;FREE&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="2.13592263986528">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="1.4616814519565946">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation5" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="inMSG_isPresent &amp;&amp; inMSG == &quot;MSG&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="0.11144946119379541">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <link port="idle.incomingPort" relation="relation"/>
                <link port="idle.incomingPort" relation="relation4"/>
                <link port="idle.outgoingPort" relation="relation5"/>
                <link port="idle.outgoingPort" relation="relation4"/>
                <link port="receive.incomingPort" relation="relation5"/>
                <link port="receive.incomingPort" relation="relation2"/>
                <link port="receive.incomingPort" relation="relation3"/>
                <link port="receive.outgoingPort" relation="relation"/>
                <link port="receive.outgoingPort" relation="relation2"/>
                <link port="receive.outgoingPort" relation="relation3"/>
            </entity>
            <relation name="inMSGRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="channelStateRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="senseChannelRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="collisionRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="inMSG" relation="inMSGRelation"/>
            <link port="channelState" relation="channelStateRelation"/>
            <link port="senseChannel" relation="senseChannelRelation"/>
            <link port="collision" relation="collisionRelation"/>
            <link port="_Controller.inMSG" relation="inMSGRelation"/>
            <link port="_Controller.channelState" relation="channelStateRelation"/>
            <link port="_Controller.senseChannel" relation="senseChannelRelation"/>
            <link port="_Controller.collision" relation="collisionRelation"/>
        </entity>
        <relation name="relation5" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation7" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation8" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="210.0, 55.0">
            </vertex>
        </relation>
        <relation name="relation2" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="405.0, 75.0">
            </vertex>
        </relation>
        <relation name="relation6" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="465.0, 195.0">
            </vertex>
        </relation>
        <relation name="relation9" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation10" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation4" class="ptolemy.actor.TypedIORelation">
        </relation>
        <link port="in" relation="relation10"/>
        <link port="out" relation="relation2"/>
        <link port="report" relation="relation7"/>
        <link port="report2" relation="relation9"/>
        <link port="PoissonClock.output" relation="relation8"/>
        <link port="modal model.data" relation="relation8"/>
        <link port="modal model.channelState" relation="relation4"/>
        <link port="modal model.senseChannel" relation="relation5"/>
        <link port="modal model.outMSG" relation="relation2"/>
        <link port="TimedDelay.input" relation="relation5"/>
        <link port="TimedDelay.output" relation="relation"/>
        <link port="For analysis.time1" relation="relation8"/>
        <link port="For analysis.time2" relation="relation2"/>
        <link port="For analysis.report" relation="relation7"/>
        <link port="For analysis.collision" relation="relation6"/>
        <link port="For analysis.report2" relation="relation9"/>
        <link port="modal model2.inMSG" relation="relation10"/>
        <link port="modal model2.channelState" relation="relation4"/>
        <link port="modal model2.senseChannel" relation="relation"/>
        <link port="modal model2.collision" relation="relation6"/>
    </entity>
    <entity name="node27" class="ptolemy.domains.wireless.kernel.WirelessComposite">
        <property name="_location" class="ptolemy.kernel.util.Location" value="380.0, 215.0">
        </property>
        <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
            <property name="startTime" class="ptolemy.data.expr.Parameter" value="0.0">
            </property>
            <property name="stopTime" class="ptolemy.data.expr.Parameter" value="1.7976931348623E308">
            </property>
            <property name="stopWhenQueueIsEmpty" class="ptolemy.data.expr.Parameter" value="true">
            </property>
            <property name="synchronizeToRealTime" class="ptolemy.data.expr.Parameter" value="false">
            </property>
            <property name="isCQAdaptive" class="ptolemy.data.expr.Parameter" value="true">
            </property>
            <property name="minBinCount" class="ptolemy.data.expr.Parameter" value="2">
            </property>
            <property name="binCountFactor" class="ptolemy.data.expr.Parameter" value="2">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 40.0">
            </property>
        </property>
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={106, 164, 815, 518}, maximized=false}">
        </property>
        <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[600, 400]">
        </property>
        <property name="id" class="ptolemy.data.expr.Parameter" value="9">
        </property>
        <property name="annotation" class="ptolemy.kernel.util.Attribute">
            <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
            <property name="_iconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure><svg><text x="20" y="20" style="font-size:14; font-family:SansSerif; fill:blue">The protocol assumes that propagation takes no time but transmission takes time
that depends on the package's size. When having data to send, it first sense 
whether the channel is free or busy. If free, send the data, if not, then wait
for a random time and try again. The detection inteface is provided by the senseAir 
component. </text></svg></configure>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-A-</text>
      </svg>
    </configure>
            </property>
            <property name="_controllerFactory" class="ptolemy.vergil.basic.NodeControllerFactory">
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.AnnotationEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="-50.0, 370.0">
            </property>
        </property>
        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <port name="in" class="ptolemy.domains.wireless.kernel.WirelessIOPort">
            <property name="input"/>
            <property name="outsideChannel" class="ptolemy.data.expr.StringParameter" value="LimitedRangeChannel">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="70.0, 175.0">
            </property>
            <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
        </port>
        <port name="out" class="ptolemy.domains.wireless.kernel.WirelessIOPort">
            <property name="output"/>
            <property name="outsideChannel" class="ptolemy.data.expr.StringParameter" value="LimitedRangeChannel">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="425.0, 145.0">
            </property>
            <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
        </port>
        <port name="report" class="ptolemy.domains.wireless.kernel.WirelessIOPort">
            <property name="output"/>
            <property name="outsideChannel" class="ptolemy.data.expr.StringParameter" value="DataCollectChannel">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="545.0, 65.0">
            </property>
            <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
        </port>
        <port name="report2" class="ptolemy.domains.wireless.kernel.WirelessIOPort">
            <property name="output"/>
            <property name="outsideChannel" class="ptolemy.data.expr.StringParameter" value="CollisionReportChannel">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="545.0, 105.0">
            </property>
            <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
        </port>
        <entity name="PoissonClock" class="ptolemy.actor.lib.PoissonClock">
            <property name="meanTime" class="ptolemy.data.expr.Parameter" value="TrafficDensity">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="85.0, 105.0">
            </property>
        </entity>
        <entity name="modal model" class="ptolemy.domains.fsm.modal.ModalModel">
            <property name="_tableauFactory" class="ptolemy.vergil.fsm.modal.ModalTableauFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="270.0, 115.0">
            </property>
            <port name="data" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="channelState" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="senseChannel" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
            </port>
            <port name="outMSG" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="NORTH">
                </property>
            </port>
            <port name="randomWait" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="output"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="wakeUp" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="output"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <entity name="_Controller" class="ptolemy.domains.fsm.modal.ModalController">
                <property name="initialStateName" class="ptolemy.kernel.util.StringAttribute" value="idle">
                </property>
                <property name="_library" class="ptolemy.moml.LibraryAttribute">
                    <configure><entity name="state library" class="ptolemy.kernel.CompositeEntity"><input source="ptolemy/configs/basicUtilities.xml"></input><entity name="state" class="ptolemy.domains.fsm.kernel.State"><property name="_centerName" class="ptolemy.kernel.util.Attribute"></property></entity></entity></configure>
                </property>
                <port name="data" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="40.0, 95.0">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="channelState" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="35.0, 185.0">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="senseChannel" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="535.0, 70.0">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="outMSG" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="535.0, 155.0">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="randomWait" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="30.0, 260.0">
                    </property>
                    <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                </port>
                <port name="wakeUp" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="30.0, 330.0">
                    </property>
                    <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                </port>
                <entity name="idle" class="ptolemy.domains.fsm.kernel.State">
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="115.0, 145.0">
                    </property>
                </entity>
                <entity name="senseAir" class="ptolemy.domains.fsm.kernel.State">
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="255.0, 120.0">
                    </property>
                </entity>
                <entity name="randomWait" class="ptolemy.domains.fsm.kernel.State">
                    <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="randomWait">
                    </property>
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="460.0, 125.0">
                    </property>
                </entity>
                <entity name="Emit" class="ptolemy.domains.fsm.kernel.State">
                    <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="Emit">
                    </property>
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="270.0, 355.0">
                    </property>
                </entity>
                <relation name="relation" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="data_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="senseChannel = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.7290251868073567">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-0.2479894981275352">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation2" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="channelState_isPresent &amp;&amp; channelState == &quot;BUSY&quot;">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="randomWait = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.8816266690949863">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="0.3014559376966855">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation3" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="wakeUp_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="senseChannel = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.7432607920971347">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.969499643808648">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation4" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="channelState_isPresent &amp;&amp; channelState == &quot;FREE&quot;">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="outMSG = &quot;MSG&quot;; randomWait = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.04481040911079372">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="1.5101165449404714">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation5" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="wakeUp_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="outMSG = &quot;END&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.28882718043739275">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.217615632874857">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <link port="idle.incomingPort" relation="relation5"/>
                <link port="idle.outgoingPort" relation="relation"/>
                <link port="senseAir.incomingPort" relation="relation"/>
                <link port="senseAir.incomingPort" relation="relation3"/>
                <link port="senseAir.outgoingPort" relation="relation2"/>
                <link port="senseAir.outgoingPort" relation="relation4"/>
                <link port="randomWait.incomingPort" relation="relation2"/>
                <link port="randomWait.outgoingPort" relation="relation3"/>
                <link port="Emit.incomingPort" relation="relation4"/>
                <link port="Emit.outgoingPort" relation="relation5"/>
            </entity>
            <entity name="randomWait" class="ptolemy.domains.fsm.modal.Refinement">
                <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
                    <property name="startTime" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                    <property name="stopTime" class="ptolemy.data.expr.Parameter" value="1.7976931348623E308">
                    </property>
                    <property name="stopWhenQueueIsEmpty" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="synchronizeToRealTime" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="isCQAdaptive" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="minBinCount" class="ptolemy.data.expr.Parameter" value="2">
                    </property>
                    <property name="binCountFactor" class="ptolemy.data.expr.Parameter" value="2">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 40.0">
                    </property>
                </property>
                <port name="data" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="45.0, 125.0">
                    </property>
                </port>
                <port name="channelState" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="55.0, 215.0">
                    </property>
                </port>
                <port name="senseChannel" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="415.0, 160.0">
                    </property>
                </port>
                <port name="outMSG" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="525.0, 325.0">
                    </property>
                </port>
                <port name="randomWait" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="70.0, 280.0">
                    </property>
                </port>
                <port name="wakeUp" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="420.0, 255.0">
                    </property>
                </port>
                <entity name="VariableDelay" class="ptolemy.domains.de.lib.VariableDelay">
                    <property name="defaultDelay" class="ptolemy.data.expr.Parameter" value="1.0">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="290.0, 250.0">
                    </property>
                </entity>
                <entity name="Uniform" class="ptolemy.actor.lib.Uniform">
                    <property name="seed" class="ptolemy.data.expr.Parameter" value="0L">
                    </property>
                    <property name="lowerBound" class="ptolemy.data.expr.Parameter" value="MinWaiting">
                    </property>
                    <property name="upperBound" class="ptolemy.data.expr.Parameter" value="MaxWaiting">
                    </property>
                    <doc>Create a sequence of uniformly distributed random numbers</doc>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="190.0, 315.0">
                    </property>
                </entity>
                <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                    <vertex name="vertex1" value="145.0, 240.0">
                    </vertex>
                </relation>
                <relation name="relation" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                </relation>
                <link port="randomWait" relation="relation2"/>
                <link port="wakeUp" relation="relation3"/>
                <link port="VariableDelay.input" relation="relation2"/>
                <link port="VariableDelay.output" relation="relation3"/>
                <link port="VariableDelay.delay" relation="relation"/>
                <link port="Uniform.output" relation="relation"/>
                <link port="Uniform.trigger" relation="relation2"/>
            </entity>
            <entity name="Emit" class="ptolemy.domains.fsm.modal.Refinement">
                <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
                    <property name="startTime" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                    <property name="stopTime" class="ptolemy.data.expr.Parameter" value="1.7976931348623E308">
                    </property>
                    <property name="stopWhenQueueIsEmpty" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="synchronizeToRealTime" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="isCQAdaptive" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="minBinCount" class="ptolemy.data.expr.Parameter" value="2">
                    </property>
                    <property name="binCountFactor" class="ptolemy.data.expr.Parameter" value="2">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="270.0, 85.0">
                    </property>
                </property>
                <port name="data" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="55.0, 305.0">
                    </property>
                </port>
                <port name="channelState" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="100.0, 150.0">
                    </property>
                </port>
                <port name="senseChannel" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="90.0, 60.0">
                    </property>
                </port>
                <port name="outMSG" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="40.0, 205.0">
                    </property>
                </port>
                <port name="randomWait" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="85.0, 275.0">
                    </property>
                </port>
                <port name="wakeUp" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="485.0, 210.0">
                    </property>
                </port>
                <entity name="Uniform" class="ptolemy.actor.lib.Uniform">
                    <property name="seed" class="ptolemy.data.expr.Parameter" value="10L">
                    </property>
                    <property name="lowerBound" class="ptolemy.data.expr.Parameter" value="MinTxTime">
                    </property>
                    <property name="upperBound" class="ptolemy.data.expr.Parameter" value="MaxTxTime">
                    </property>
                    <doc>Create a sequence of uniformly distributed random numbers</doc>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="190.0, 315.0">
                    </property>
                </entity>
                <entity name="VariableDelay" class="ptolemy.domains.de.lib.VariableDelay">
                    <property name="defaultDelay" class="ptolemy.data.expr.Parameter" value="1.0">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="290.0, 250.0">
                    </property>
                </entity>
                <relation name="relation" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                    <vertex name="vertex1" value="145.0, 240.0">
                    </vertex>
                </relation>
                <relation name="relation4" class="ptolemy.actor.TypedIORelation">
                </relation>
                <link port="randomWait" relation="relation2"/>
                <link port="wakeUp" relation="relation4"/>
                <link port="Uniform.output" relation="relation"/>
                <link port="Uniform.trigger" relation="relation2"/>
                <link port="VariableDelay.input" relation="relation2"/>
                <link port="VariableDelay.output" relation="relation4"/>
                <link port="VariableDelay.delay" relation="relation"/>
            </entity>
            <relation name="dataRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="channelStateRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="senseChannelRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="outMSGRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="randomWaitRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="wakeUpRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="data" relation="dataRelation"/>
            <link port="channelState" relation="channelStateRelation"/>
            <link port="senseChannel" relation="senseChannelRelation"/>
            <link port="outMSG" relation="outMSGRelation"/>
            <link port="randomWait" relation="randomWaitRelation"/>
            <link port="wakeUp" relation="wakeUpRelation"/>
            <link port="_Controller.data" relation="dataRelation"/>
            <link port="_Controller.channelState" relation="channelStateRelation"/>
            <link port="_Controller.senseChannel" relation="senseChannelRelation"/>
            <link port="_Controller.outMSG" relation="outMSGRelation"/>
            <link port="_Controller.randomWait" relation="randomWaitRelation"/>
            <link port="_Controller.wakeUp" relation="wakeUpRelation"/>
            <link port="randomWait.data" relation="dataRelation"/>
            <link port="randomWait.channelState" relation="channelStateRelation"/>
            <link port="randomWait.senseChannel" relation="senseChannelRelation"/>
            <link port="randomWait.outMSG" relation="outMSGRelation"/>
            <link port="randomWait.randomWait" relation="randomWaitRelation"/>
            <link port="randomWait.wakeUp" relation="wakeUpRelation"/>
            <link port="Emit.data" relation="dataRelation"/>
            <link port="Emit.channelState" relation="channelStateRelation"/>
            <link port="Emit.senseChannel" relation="senseChannelRelation"/>
            <link port="Emit.outMSG" relation="outMSGRelation"/>
            <link port="Emit.randomWait" relation="randomWaitRelation"/>
            <link port="Emit.wakeUp" relation="wakeUpRelation"/>
        </entity>
        <entity name="TimedDelay" class="ptolemy.domains.de.lib.TimedDelay">
            <property name="delay" class="ptolemy.data.expr.Parameter" value="1.0">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="505.0, 300.0">
            </property>
        </entity>
        <entity name="For analysis" class="ptolemy.actor.TypedCompositeActor">
            <property name="_location" class="ptolemy.kernel.util.Location" value="470.0, 65.0">
            </property>
            <port name="time1" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 130.0">
                </property>
            </port>
            <port name="time2" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 185.0">
                </property>
            </port>
            <port name="report" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="465.0, 150.0">
                </property>
            </port>
            <port name="collision" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="SOUTH">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 255.0">
                </property>
            </port>
            <port name="report2" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="SOUTH">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="440.0, 265.0">
                </property>
            </port>
            <entity name="WaitingTime" class="ptolemy.domains.de.lib.WaitingTime">
                <property name="_location" class="ptolemy.kernel.util.Location" value="210.0, 140.0">
                </property>
            </entity>
            <entity name="RecordAssembler" class="ptolemy.actor.lib.RecordAssembler">
                <property name="_location" class="ptolemy.kernel.util.Location" value="340.0, 110.0">
                </property>
                <port name="id" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
                <port name="time" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
            </entity>
            <entity name="Const" class="ptolemy.actor.lib.Const">
                <property name="value" class="ptolemy.data.expr.Parameter" value="id">
                </property>
                <doc>Create a constant sequence</doc>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="300.0, 85.0">
                </property>
            </entity>
            <entity name="CurrentTime" class="ptolemy.actor.lib.CurrentTime">
                <doc>Output the current time.</doc>
                <property name="_location" class="ptolemy.kernel.util.Location" value="165.0, 290.0">
                </property>
            </entity>
            <entity name="RecordAssembler2" class="ptolemy.actor.lib.RecordAssembler">
                <property name="_location" class="ptolemy.kernel.util.Location" value="300.0, 245.0">
                </property>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                    </property>
                </port>
                <port name="collisionId" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="detectTime" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
            </entity>
            <entity name="Const2" class="ptolemy.actor.lib.Const">
                <property name="value" class="ptolemy.data.expr.Parameter" value="id">
                </property>
                <doc>Create a constant sequence</doc>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="165.0, 220.0">
                </property>
            </entity>
            <relation name="relation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation2" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="270.0, 140.0">
                </vertex>
            </relation>
            <relation name="relation4" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation8" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="120.0, 255.0">
                </vertex>
            </relation>
            <relation name="relation7" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation10" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation5" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation6" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="time1" relation="relation"/>
            <link port="time2" relation="relation2"/>
            <link port="report" relation="relation6"/>
            <link port="collision" relation="relation8"/>
            <link port="report2" relation="relation5"/>
            <link port="WaitingTime.output" relation="relation3"/>
            <link port="WaitingTime.waiter" relation="relation"/>
            <link port="WaitingTime.waitee" relation="relation2"/>
            <link port="RecordAssembler.output" relation="relation6"/>
            <link port="RecordAssembler.id" relation="relation4"/>
            <link port="RecordAssembler.time" relation="relation3"/>
            <link port="Const.output" relation="relation4"/>
            <link port="Const.trigger" relation="relation3"/>
            <link port="CurrentTime.output" relation="relation7"/>
            <link port="CurrentTime.trigger" relation="relation8"/>
            <link port="RecordAssembler2.output" relation="relation5"/>
            <link port="RecordAssembler2.collisionId" relation="relation10"/>
            <link port="RecordAssembler2.detectTime" relation="relation7"/>
            <link port="Const2.output" relation="relation10"/>
            <link port="Const2.trigger" relation="relation8"/>
        </entity>
        <entity name="modal model2" class="ptolemy.domains.fsm.modal.ModalModel">
            <property name="_tableauFactory" class="ptolemy.vergil.fsm.modal.ModalTableauFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="145.0, 185.0">
            </property>
            <port name="inMSG" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="channelState" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
            </port>
            <port name="senseChannel" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="collision" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
            </port>
            <entity name="_Controller" class="ptolemy.domains.fsm.modal.ModalController">
                <property name="initialStateName" class="ptolemy.kernel.util.StringAttribute" value="idle">
                </property>
                <property name="_library" class="ptolemy.moml.LibraryAttribute">
                    <configure>
        <entity name="state library" class="ptolemy.kernel.CompositeEntity"><input source="ptolemy/configs/basicUtilities.xml"></input><entity name="state" class="ptolemy.domains.fsm.kernel.State"><property name="_centerName" class="ptolemy.kernel.util.Attribute"></property><property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory"></property></entity></entity>
      </configure>
                </property>
                <port name="inMSG" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="0.0, 0.0">
                    </property>
                </port>
                <port name="channelState" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="335.0, 90.0">
                    </property>
                </port>
                <port name="senseChannel" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="-5.0, 90.0">
                    </property>
                </port>
                <port name="collision" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="240.0, 25.0">
                    </property>
                </port>
                <entity name="idle" class="ptolemy.domains.fsm.kernel.State">
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="190.5, 187.28129322224544">
                    </property>
                </entity>
                <entity name="receive" class="ptolemy.domains.fsm.kernel.State">
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="425.0, 195.0">
                    </property>
                </entity>
                <relation name="relation" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="inMSG_isPresent &amp;&amp; inMSG == &quot;END&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.9564982454336546">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation2" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="inMSG_isPresent &amp;&amp; inMSG == &quot;MSG&quot;">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="collision = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="2.512139297546763">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-0.21451248805933695">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation3" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="senseChannel_isPresent &amp;&amp; ! inMSG_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="channelState = &quot;BUSY&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="2.356194490192345">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.0687929371738796">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation4" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="senseChannel_isPresent &amp;&amp; !inMSG_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="channelState = &quot;FREE&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="2.13592263986528">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="1.4616814519565946">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation5" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="inMSG_isPresent &amp;&amp; inMSG == &quot;MSG&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="0.11144946119379541">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <link port="idle.incomingPort" relation="relation"/>
                <link port="idle.incomingPort" relation="relation4"/>
                <link port="idle.outgoingPort" relation="relation5"/>
                <link port="idle.outgoingPort" relation="relation4"/>
                <link port="receive.incomingPort" relation="relation5"/>
                <link port="receive.incomingPort" relation="relation2"/>
                <link port="receive.incomingPort" relation="relation3"/>
                <link port="receive.outgoingPort" relation="relation"/>
                <link port="receive.outgoingPort" relation="relation2"/>
                <link port="receive.outgoingPort" relation="relation3"/>
            </entity>
            <relation name="inMSGRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="channelStateRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="senseChannelRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="collisionRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="inMSG" relation="inMSGRelation"/>
            <link port="channelState" relation="channelStateRelation"/>
            <link port="senseChannel" relation="senseChannelRelation"/>
            <link port="collision" relation="collisionRelation"/>
            <link port="_Controller.inMSG" relation="inMSGRelation"/>
            <link port="_Controller.channelState" relation="channelStateRelation"/>
            <link port="_Controller.senseChannel" relation="senseChannelRelation"/>
            <link port="_Controller.collision" relation="collisionRelation"/>
        </entity>
        <relation name="relation5" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation7" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation8" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="210.0, 55.0">
            </vertex>
        </relation>
        <relation name="relation2" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="405.0, 75.0">
            </vertex>
        </relation>
        <relation name="relation6" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="465.0, 195.0">
            </vertex>
        </relation>
        <relation name="relation9" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation10" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation4" class="ptolemy.actor.TypedIORelation">
        </relation>
        <link port="in" relation="relation10"/>
        <link port="out" relation="relation2"/>
        <link port="report" relation="relation7"/>
        <link port="report2" relation="relation9"/>
        <link port="PoissonClock.output" relation="relation8"/>
        <link port="modal model.data" relation="relation8"/>
        <link port="modal model.channelState" relation="relation4"/>
        <link port="modal model.senseChannel" relation="relation5"/>
        <link port="modal model.outMSG" relation="relation2"/>
        <link port="TimedDelay.input" relation="relation5"/>
        <link port="TimedDelay.output" relation="relation"/>
        <link port="For analysis.time1" relation="relation8"/>
        <link port="For analysis.time2" relation="relation2"/>
        <link port="For analysis.report" relation="relation7"/>
        <link port="For analysis.collision" relation="relation6"/>
        <link port="For analysis.report2" relation="relation9"/>
        <link port="modal model2.inMSG" relation="relation10"/>
        <link port="modal model2.channelState" relation="relation4"/>
        <link port="modal model2.senseChannel" relation="relation"/>
        <link port="modal model2.collision" relation="relation6"/>
    </entity>
    <entity name="node28" class="ptolemy.domains.wireless.kernel.WirelessComposite">
        <property name="_location" class="ptolemy.kernel.util.Location" value="380.0, 515.0">
        </property>
        <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
            <property name="startTime" class="ptolemy.data.expr.Parameter" value="0.0">
            </property>
            <property name="stopTime" class="ptolemy.data.expr.Parameter" value="1.7976931348623E308">
            </property>
            <property name="stopWhenQueueIsEmpty" class="ptolemy.data.expr.Parameter" value="true">
            </property>
            <property name="synchronizeToRealTime" class="ptolemy.data.expr.Parameter" value="false">
            </property>
            <property name="isCQAdaptive" class="ptolemy.data.expr.Parameter" value="true">
            </property>
            <property name="minBinCount" class="ptolemy.data.expr.Parameter" value="2">
            </property>
            <property name="binCountFactor" class="ptolemy.data.expr.Parameter" value="2">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 40.0">
            </property>
        </property>
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={106, 164, 815, 518}, maximized=false}">
        </property>
        <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[600, 400]">
        </property>
        <property name="id" class="ptolemy.data.expr.Parameter" value="24">
        </property>
        <property name="annotation" class="ptolemy.kernel.util.Attribute">
            <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
            <property name="_iconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure><svg><text x="20" y="20" style="font-size:14; font-family:SansSerif; fill:blue">The protocol assumes that propagation takes no time but transmission takes time
that depends on the package's size. When having data to send, it first sense 
whether the channel is free or busy. If free, send the data, if not, then wait
for a random time and try again. The detection inteface is provided by the senseAir 
component. </text></svg></configure>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-A-</text>
      </svg>
    </configure>
            </property>
            <property name="_controllerFactory" class="ptolemy.vergil.basic.NodeControllerFactory">
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.AnnotationEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="-50.0, 370.0">
            </property>
        </property>
        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <port name="in" class="ptolemy.domains.wireless.kernel.WirelessIOPort">
            <property name="input"/>
            <property name="outsideChannel" class="ptolemy.data.expr.StringParameter" value="LimitedRangeChannel">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="70.0, 175.0">
            </property>
            <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
        </port>
        <port name="out" class="ptolemy.domains.wireless.kernel.WirelessIOPort">
            <property name="output"/>
            <property name="outsideChannel" class="ptolemy.data.expr.StringParameter" value="LimitedRangeChannel">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="425.0, 145.0">
            </property>
            <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
        </port>
        <port name="report" class="ptolemy.domains.wireless.kernel.WirelessIOPort">
            <property name="output"/>
            <property name="outsideChannel" class="ptolemy.data.expr.StringParameter" value="DataCollectChannel">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="545.0, 65.0">
            </property>
            <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
        </port>
        <port name="report2" class="ptolemy.domains.wireless.kernel.WirelessIOPort">
            <property name="output"/>
            <property name="outsideChannel" class="ptolemy.data.expr.StringParameter" value="CollisionReportChannel">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="545.0, 105.0">
            </property>
            <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
        </port>
        <entity name="PoissonClock" class="ptolemy.actor.lib.PoissonClock">
            <property name="meanTime" class="ptolemy.data.expr.Parameter" value="TrafficDensity">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="85.0, 105.0">
            </property>
        </entity>
        <entity name="modal model" class="ptolemy.domains.fsm.modal.ModalModel">
            <property name="_tableauFactory" class="ptolemy.vergil.fsm.modal.ModalTableauFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="270.0, 115.0">
            </property>
            <port name="data" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="channelState" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="senseChannel" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
            </port>
            <port name="outMSG" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="NORTH">
                </property>
            </port>
            <port name="randomWait" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="output"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="wakeUp" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="output"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <entity name="_Controller" class="ptolemy.domains.fsm.modal.ModalController">
                <property name="initialStateName" class="ptolemy.kernel.util.StringAttribute" value="idle">
                </property>
                <property name="_library" class="ptolemy.moml.LibraryAttribute">
                    <configure><entity name="state library" class="ptolemy.kernel.CompositeEntity"><input source="ptolemy/configs/basicUtilities.xml"></input><entity name="state" class="ptolemy.domains.fsm.kernel.State"><property name="_centerName" class="ptolemy.kernel.util.Attribute"></property></entity></entity></configure>
                </property>
                <port name="data" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="40.0, 95.0">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="channelState" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="35.0, 185.0">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="senseChannel" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="535.0, 70.0">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="outMSG" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="535.0, 155.0">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="randomWait" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="30.0, 260.0">
                    </property>
                    <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                </port>
                <port name="wakeUp" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="30.0, 330.0">
                    </property>
                    <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                </port>
                <entity name="idle" class="ptolemy.domains.fsm.kernel.State">
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="115.0, 145.0">
                    </property>
                </entity>
                <entity name="senseAir" class="ptolemy.domains.fsm.kernel.State">
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="255.0, 120.0">
                    </property>
                </entity>
                <entity name="randomWait" class="ptolemy.domains.fsm.kernel.State">
                    <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="randomWait">
                    </property>
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="460.0, 125.0">
                    </property>
                </entity>
                <entity name="Emit" class="ptolemy.domains.fsm.kernel.State">
                    <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="Emit">
                    </property>
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="270.0, 355.0">
                    </property>
                </entity>
                <relation name="relation" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="data_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="senseChannel = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.7290251868073567">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-0.2479894981275352">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation2" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="channelState_isPresent &amp;&amp; channelState == &quot;BUSY&quot;">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="randomWait = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.8816266690949863">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="0.3014559376966855">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation3" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="wakeUp_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="senseChannel = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.7432607920971347">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.969499643808648">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation4" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="channelState_isPresent &amp;&amp; channelState == &quot;FREE&quot;">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="outMSG = &quot;MSG&quot;; randomWait = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.04481040911079372">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="1.5101165449404714">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation5" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="wakeUp_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="outMSG = &quot;END&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.28882718043739275">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.217615632874857">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <link port="idle.incomingPort" relation="relation5"/>
                <link port="idle.outgoingPort" relation="relation"/>
                <link port="senseAir.incomingPort" relation="relation"/>
                <link port="senseAir.incomingPort" relation="relation3"/>
                <link port="senseAir.outgoingPort" relation="relation2"/>
                <link port="senseAir.outgoingPort" relation="relation4"/>
                <link port="randomWait.incomingPort" relation="relation2"/>
                <link port="randomWait.outgoingPort" relation="relation3"/>
                <link port="Emit.incomingPort" relation="relation4"/>
                <link port="Emit.outgoingPort" relation="relation5"/>
            </entity>
            <entity name="randomWait" class="ptolemy.domains.fsm.modal.Refinement">
                <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
                    <property name="startTime" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                    <property name="stopTime" class="ptolemy.data.expr.Parameter" value="1.7976931348623E308">
                    </property>
                    <property name="stopWhenQueueIsEmpty" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="synchronizeToRealTime" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="isCQAdaptive" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="minBinCount" class="ptolemy.data.expr.Parameter" value="2">
                    </property>
                    <property name="binCountFactor" class="ptolemy.data.expr.Parameter" value="2">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 40.0">
                    </property>
                </property>
                <port name="data" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="45.0, 125.0">
                    </property>
                </port>
                <port name="channelState" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="55.0, 215.0">
                    </property>
                </port>
                <port name="senseChannel" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="415.0, 160.0">
                    </property>
                </port>
                <port name="outMSG" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="525.0, 325.0">
                    </property>
                </port>
                <port name="randomWait" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="70.0, 280.0">
                    </property>
                </port>
                <port name="wakeUp" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="420.0, 255.0">
                    </property>
                </port>
                <entity name="VariableDelay" class="ptolemy.domains.de.lib.VariableDelay">
                    <property name="defaultDelay" class="ptolemy.data.expr.Parameter" value="1.0">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="290.0, 250.0">
                    </property>
                </entity>
                <entity name="Uniform" class="ptolemy.actor.lib.Uniform">
                    <property name="seed" class="ptolemy.data.expr.Parameter" value="0L">
                    </property>
                    <property name="lowerBound" class="ptolemy.data.expr.Parameter" value="MinWaiting">
                    </property>
                    <property name="upperBound" class="ptolemy.data.expr.Parameter" value="MaxWaiting">
                    </property>
                    <doc>Create a sequence of uniformly distributed random numbers</doc>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="190.0, 315.0">
                    </property>
                </entity>
                <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                    <vertex name="vertex1" value="145.0, 240.0">
                    </vertex>
                </relation>
                <relation name="relation" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                </relation>
                <link port="randomWait" relation="relation2"/>
                <link port="wakeUp" relation="relation3"/>
                <link port="VariableDelay.input" relation="relation2"/>
                <link port="VariableDelay.output" relation="relation3"/>
                <link port="VariableDelay.delay" relation="relation"/>
                <link port="Uniform.output" relation="relation"/>
                <link port="Uniform.trigger" relation="relation2"/>
            </entity>
            <entity name="Emit" class="ptolemy.domains.fsm.modal.Refinement">
                <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
                    <property name="startTime" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                    <property name="stopTime" class="ptolemy.data.expr.Parameter" value="1.7976931348623E308">
                    </property>
                    <property name="stopWhenQueueIsEmpty" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="synchronizeToRealTime" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="isCQAdaptive" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="minBinCount" class="ptolemy.data.expr.Parameter" value="2">
                    </property>
                    <property name="binCountFactor" class="ptolemy.data.expr.Parameter" value="2">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="270.0, 85.0">
                    </property>
                </property>
                <port name="data" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="55.0, 305.0">
                    </property>
                </port>
                <port name="channelState" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="100.0, 150.0">
                    </property>
                </port>
                <port name="senseChannel" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="90.0, 60.0">
                    </property>
                </port>
                <port name="outMSG" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="40.0, 205.0">
                    </property>
                </port>
                <port name="randomWait" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="85.0, 275.0">
                    </property>
                </port>
                <port name="wakeUp" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="485.0, 210.0">
                    </property>
                </port>
                <entity name="Uniform" class="ptolemy.actor.lib.Uniform">
                    <property name="seed" class="ptolemy.data.expr.Parameter" value="10L">
                    </property>
                    <property name="lowerBound" class="ptolemy.data.expr.Parameter" value="MinTxTime">
                    </property>
                    <property name="upperBound" class="ptolemy.data.expr.Parameter" value="MaxTxTime">
                    </property>
                    <doc>Create a sequence of uniformly distributed random numbers</doc>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="190.0, 315.0">
                    </property>
                </entity>
                <entity name="VariableDelay" class="ptolemy.domains.de.lib.VariableDelay">
                    <property name="defaultDelay" class="ptolemy.data.expr.Parameter" value="1.0">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="290.0, 250.0">
                    </property>
                </entity>
                <relation name="relation" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                    <vertex name="vertex1" value="145.0, 240.0">
                    </vertex>
                </relation>
                <relation name="relation4" class="ptolemy.actor.TypedIORelation">
                </relation>
                <link port="randomWait" relation="relation2"/>
                <link port="wakeUp" relation="relation4"/>
                <link port="Uniform.output" relation="relation"/>
                <link port="Uniform.trigger" relation="relation2"/>
                <link port="VariableDelay.input" relation="relation2"/>
                <link port="VariableDelay.output" relation="relation4"/>
                <link port="VariableDelay.delay" relation="relation"/>
            </entity>
            <relation name="dataRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="channelStateRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="senseChannelRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="outMSGRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="randomWaitRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="wakeUpRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="data" relation="dataRelation"/>
            <link port="channelState" relation="channelStateRelation"/>
            <link port="senseChannel" relation="senseChannelRelation"/>
            <link port="outMSG" relation="outMSGRelation"/>
            <link port="randomWait" relation="randomWaitRelation"/>
            <link port="wakeUp" relation="wakeUpRelation"/>
            <link port="_Controller.data" relation="dataRelation"/>
            <link port="_Controller.channelState" relation="channelStateRelation"/>
            <link port="_Controller.senseChannel" relation="senseChannelRelation"/>
            <link port="_Controller.outMSG" relation="outMSGRelation"/>
            <link port="_Controller.randomWait" relation="randomWaitRelation"/>
            <link port="_Controller.wakeUp" relation="wakeUpRelation"/>
            <link port="randomWait.data" relation="dataRelation"/>
            <link port="randomWait.channelState" relation="channelStateRelation"/>
            <link port="randomWait.senseChannel" relation="senseChannelRelation"/>
            <link port="randomWait.outMSG" relation="outMSGRelation"/>
            <link port="randomWait.randomWait" relation="randomWaitRelation"/>
            <link port="randomWait.wakeUp" relation="wakeUpRelation"/>
            <link port="Emit.data" relation="dataRelation"/>
            <link port="Emit.channelState" relation="channelStateRelation"/>
            <link port="Emit.senseChannel" relation="senseChannelRelation"/>
            <link port="Emit.outMSG" relation="outMSGRelation"/>
            <link port="Emit.randomWait" relation="randomWaitRelation"/>
            <link port="Emit.wakeUp" relation="wakeUpRelation"/>
        </entity>
        <entity name="TimedDelay" class="ptolemy.domains.de.lib.TimedDelay">
            <property name="delay" class="ptolemy.data.expr.Parameter" value="1.0">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="505.0, 300.0">
            </property>
        </entity>
        <entity name="For analysis" class="ptolemy.actor.TypedCompositeActor">
            <property name="_location" class="ptolemy.kernel.util.Location" value="470.0, 65.0">
            </property>
            <port name="time1" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 130.0">
                </property>
            </port>
            <port name="time2" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 185.0">
                </property>
            </port>
            <port name="report" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="465.0, 150.0">
                </property>
            </port>
            <port name="collision" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="SOUTH">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 255.0">
                </property>
            </port>
            <port name="report2" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="SOUTH">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="440.0, 265.0">
                </property>
            </port>
            <entity name="WaitingTime" class="ptolemy.domains.de.lib.WaitingTime">
                <property name="_location" class="ptolemy.kernel.util.Location" value="210.0, 140.0">
                </property>
            </entity>
            <entity name="RecordAssembler" class="ptolemy.actor.lib.RecordAssembler">
                <property name="_location" class="ptolemy.kernel.util.Location" value="340.0, 110.0">
                </property>
                <port name="id" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
                <port name="time" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
            </entity>
            <entity name="Const" class="ptolemy.actor.lib.Const">
                <property name="value" class="ptolemy.data.expr.Parameter" value="id">
                </property>
                <doc>Create a constant sequence</doc>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="300.0, 85.0">
                </property>
            </entity>
            <entity name="CurrentTime" class="ptolemy.actor.lib.CurrentTime">
                <doc>Output the current time.</doc>
                <property name="_location" class="ptolemy.kernel.util.Location" value="165.0, 290.0">
                </property>
            </entity>
            <entity name="RecordAssembler2" class="ptolemy.actor.lib.RecordAssembler">
                <property name="_location" class="ptolemy.kernel.util.Location" value="300.0, 245.0">
                </property>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                    </property>
                </port>
                <port name="collisionId" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="detectTime" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
            </entity>
            <entity name="Const2" class="ptolemy.actor.lib.Const">
                <property name="value" class="ptolemy.data.expr.Parameter" value="id">
                </property>
                <doc>Create a constant sequence</doc>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="165.0, 220.0">
                </property>
            </entity>
            <relation name="relation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation2" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="270.0, 140.0">
                </vertex>
            </relation>
            <relation name="relation4" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation8" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="120.0, 255.0">
                </vertex>
            </relation>
            <relation name="relation7" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation10" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation5" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation6" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="time1" relation="relation"/>
            <link port="time2" relation="relation2"/>
            <link port="report" relation="relation6"/>
            <link port="collision" relation="relation8"/>
            <link port="report2" relation="relation5"/>
            <link port="WaitingTime.output" relation="relation3"/>
            <link port="WaitingTime.waiter" relation="relation"/>
            <link port="WaitingTime.waitee" relation="relation2"/>
            <link port="RecordAssembler.output" relation="relation6"/>
            <link port="RecordAssembler.id" relation="relation4"/>
            <link port="RecordAssembler.time" relation="relation3"/>
            <link port="Const.output" relation="relation4"/>
            <link port="Const.trigger" relation="relation3"/>
            <link port="CurrentTime.output" relation="relation7"/>
            <link port="CurrentTime.trigger" relation="relation8"/>
            <link port="RecordAssembler2.output" relation="relation5"/>
            <link port="RecordAssembler2.collisionId" relation="relation10"/>
            <link port="RecordAssembler2.detectTime" relation="relation7"/>
            <link port="Const2.output" relation="relation10"/>
            <link port="Const2.trigger" relation="relation8"/>
        </entity>
        <entity name="modal model2" class="ptolemy.domains.fsm.modal.ModalModel">
            <property name="_tableauFactory" class="ptolemy.vergil.fsm.modal.ModalTableauFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="145.0, 185.0">
            </property>
            <port name="inMSG" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="channelState" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
            </port>
            <port name="senseChannel" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="collision" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
            </port>
            <entity name="_Controller" class="ptolemy.domains.fsm.modal.ModalController">
                <property name="initialStateName" class="ptolemy.kernel.util.StringAttribute" value="idle">
                </property>
                <property name="_library" class="ptolemy.moml.LibraryAttribute">
                    <configure>
        <entity name="state library" class="ptolemy.kernel.CompositeEntity"><input source="ptolemy/configs/basicUtilities.xml"></input><entity name="state" class="ptolemy.domains.fsm.kernel.State"><property name="_centerName" class="ptolemy.kernel.util.Attribute"></property><property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory"></property></entity></entity>
      </configure>
                </property>
                <port name="inMSG" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="0.0, 0.0">
                    </property>
                </port>
                <port name="channelState" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="335.0, 90.0">
                    </property>
                </port>
                <port name="senseChannel" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="-5.0, 90.0">
                    </property>
                </port>
                <port name="collision" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="240.0, 25.0">
                    </property>
                </port>
                <entity name="idle" class="ptolemy.domains.fsm.kernel.State">
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="190.5, 187.28129322224544">
                    </property>
                </entity>
                <entity name="receive" class="ptolemy.domains.fsm.kernel.State">
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="425.0, 195.0">
                    </property>
                </entity>
                <relation name="relation" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="inMSG_isPresent &amp;&amp; inMSG == &quot;END&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.9564982454336546">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation2" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="inMSG_isPresent &amp;&amp; inMSG == &quot;MSG&quot;">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="collision = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="2.512139297546763">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-0.21451248805933695">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation3" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="senseChannel_isPresent &amp;&amp; ! inMSG_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="channelState = &quot;BUSY&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="2.356194490192345">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.0687929371738796">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation4" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="senseChannel_isPresent &amp;&amp; !inMSG_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="channelState = &quot;FREE&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="2.13592263986528">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="1.4616814519565946">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation5" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="inMSG_isPresent &amp;&amp; inMSG == &quot;MSG&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="0.11144946119379541">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <link port="idle.incomingPort" relation="relation"/>
                <link port="idle.incomingPort" relation="relation4"/>
                <link port="idle.outgoingPort" relation="relation5"/>
                <link port="idle.outgoingPort" relation="relation4"/>
                <link port="receive.incomingPort" relation="relation5"/>
                <link port="receive.incomingPort" relation="relation2"/>
                <link port="receive.incomingPort" relation="relation3"/>
                <link port="receive.outgoingPort" relation="relation"/>
                <link port="receive.outgoingPort" relation="relation2"/>
                <link port="receive.outgoingPort" relation="relation3"/>
            </entity>
            <relation name="inMSGRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="channelStateRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="senseChannelRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="collisionRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="inMSG" relation="inMSGRelation"/>
            <link port="channelState" relation="channelStateRelation"/>
            <link port="senseChannel" relation="senseChannelRelation"/>
            <link port="collision" relation="collisionRelation"/>
            <link port="_Controller.inMSG" relation="inMSGRelation"/>
            <link port="_Controller.channelState" relation="channelStateRelation"/>
            <link port="_Controller.senseChannel" relation="senseChannelRelation"/>
            <link port="_Controller.collision" relation="collisionRelation"/>
        </entity>
        <relation name="relation5" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation7" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation8" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="210.0, 55.0">
            </vertex>
        </relation>
        <relation name="relation2" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="405.0, 75.0">
            </vertex>
        </relation>
        <relation name="relation6" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="465.0, 195.0">
            </vertex>
        </relation>
        <relation name="relation9" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation10" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation4" class="ptolemy.actor.TypedIORelation">
        </relation>
        <link port="in" relation="relation10"/>
        <link port="out" relation="relation2"/>
        <link port="report" relation="relation7"/>
        <link port="report2" relation="relation9"/>
        <link port="PoissonClock.output" relation="relation8"/>
        <link port="modal model.data" relation="relation8"/>
        <link port="modal model.channelState" relation="relation4"/>
        <link port="modal model.senseChannel" relation="relation5"/>
        <link port="modal model.outMSG" relation="relation2"/>
        <link port="TimedDelay.input" relation="relation5"/>
        <link port="TimedDelay.output" relation="relation"/>
        <link port="For analysis.time1" relation="relation8"/>
        <link port="For analysis.time2" relation="relation2"/>
        <link port="For analysis.report" relation="relation7"/>
        <link port="For analysis.collision" relation="relation6"/>
        <link port="For analysis.report2" relation="relation9"/>
        <link port="modal model2.inMSG" relation="relation10"/>
        <link port="modal model2.channelState" relation="relation4"/>
        <link port="modal model2.senseChannel" relation="relation"/>
        <link port="modal model2.collision" relation="relation6"/>
    </entity>
    <entity name="node29" class="ptolemy.domains.wireless.kernel.WirelessComposite">
        <property name="_location" class="ptolemy.kernel.util.Location" value="380.0, 120.0">
        </property>
        <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
            <property name="startTime" class="ptolemy.data.expr.Parameter" value="0.0">
            </property>
            <property name="stopTime" class="ptolemy.data.expr.Parameter" value="1.7976931348623E308">
            </property>
            <property name="stopWhenQueueIsEmpty" class="ptolemy.data.expr.Parameter" value="true">
            </property>
            <property name="synchronizeToRealTime" class="ptolemy.data.expr.Parameter" value="false">
            </property>
            <property name="isCQAdaptive" class="ptolemy.data.expr.Parameter" value="true">
            </property>
            <property name="minBinCount" class="ptolemy.data.expr.Parameter" value="2">
            </property>
            <property name="binCountFactor" class="ptolemy.data.expr.Parameter" value="2">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 40.0">
            </property>
        </property>
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={106, 164, 815, 518}, maximized=false}">
        </property>
        <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[600, 400]">
        </property>
        <property name="id" class="ptolemy.data.expr.Parameter" value="4">
        </property>
        <property name="annotation" class="ptolemy.kernel.util.Attribute">
            <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
            <property name="_iconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure><svg><text x="20" y="20" style="font-size:14; font-family:SansSerif; fill:blue">The protocol assumes that propagation takes no time but transmission takes time
that depends on the package's size. When having data to send, it first sense 
whether the channel is free or busy. If free, send the data, if not, then wait
for a random time and try again. The detection inteface is provided by the senseAir 
component. </text></svg></configure>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-A-</text>
      </svg>
    </configure>
            </property>
            <property name="_controllerFactory" class="ptolemy.vergil.basic.NodeControllerFactory">
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.AnnotationEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="-50.0, 370.0">
            </property>
        </property>
        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <port name="in" class="ptolemy.domains.wireless.kernel.WirelessIOPort">
            <property name="input"/>
            <property name="outsideChannel" class="ptolemy.data.expr.StringParameter" value="LimitedRangeChannel">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="70.0, 175.0">
            </property>
            <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
        </port>
        <port name="out" class="ptolemy.domains.wireless.kernel.WirelessIOPort">
            <property name="output"/>
            <property name="outsideChannel" class="ptolemy.data.expr.StringParameter" value="LimitedRangeChannel">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="425.0, 145.0">
            </property>
            <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
        </port>
        <port name="report" class="ptolemy.domains.wireless.kernel.WirelessIOPort">
            <property name="output"/>
            <property name="outsideChannel" class="ptolemy.data.expr.StringParameter" value="DataCollectChannel">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="545.0, 65.0">
            </property>
            <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
        </port>
        <port name="report2" class="ptolemy.domains.wireless.kernel.WirelessIOPort">
            <property name="output"/>
            <property name="outsideChannel" class="ptolemy.data.expr.StringParameter" value="CollisionReportChannel">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="545.0, 105.0">
            </property>
            <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
        </port>
        <entity name="PoissonClock" class="ptolemy.actor.lib.PoissonClock">
            <property name="meanTime" class="ptolemy.data.expr.Parameter" value="TrafficDensity">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="85.0, 105.0">
            </property>
        </entity>
        <entity name="modal model" class="ptolemy.domains.fsm.modal.ModalModel">
            <property name="_tableauFactory" class="ptolemy.vergil.fsm.modal.ModalTableauFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="270.0, 115.0">
            </property>
            <port name="data" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="channelState" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="senseChannel" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
            </port>
            <port name="outMSG" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="NORTH">
                </property>
            </port>
            <port name="randomWait" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="output"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="wakeUp" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="output"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <entity name="_Controller" class="ptolemy.domains.fsm.modal.ModalController">
                <property name="initialStateName" class="ptolemy.kernel.util.StringAttribute" value="idle">
                </property>
                <property name="_library" class="ptolemy.moml.LibraryAttribute">
                    <configure><entity name="state library" class="ptolemy.kernel.CompositeEntity"><input source="ptolemy/configs/basicUtilities.xml"></input><entity name="state" class="ptolemy.domains.fsm.kernel.State"><property name="_centerName" class="ptolemy.kernel.util.Attribute"></property></entity></entity></configure>
                </property>
                <port name="data" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="40.0, 95.0">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="channelState" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="35.0, 185.0">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="senseChannel" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="535.0, 70.0">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="outMSG" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="535.0, 155.0">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="randomWait" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="30.0, 260.0">
                    </property>
                    <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                </port>
                <port name="wakeUp" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="30.0, 330.0">
                    </property>
                    <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                </port>
                <entity name="idle" class="ptolemy.domains.fsm.kernel.State">
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="115.0, 145.0">
                    </property>
                </entity>
                <entity name="senseAir" class="ptolemy.domains.fsm.kernel.State">
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="255.0, 120.0">
                    </property>
                </entity>
                <entity name="randomWait" class="ptolemy.domains.fsm.kernel.State">
                    <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="randomWait">
                    </property>
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="460.0, 125.0">
                    </property>
                </entity>
                <entity name="Emit" class="ptolemy.domains.fsm.kernel.State">
                    <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="Emit">
                    </property>
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="270.0, 355.0">
                    </property>
                </entity>
                <relation name="relation" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="data_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="senseChannel = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.7290251868073567">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-0.2479894981275352">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation2" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="channelState_isPresent &amp;&amp; channelState == &quot;BUSY&quot;">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="randomWait = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.8816266690949863">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="0.3014559376966855">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation3" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="wakeUp_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="senseChannel = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.7432607920971347">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.969499643808648">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation4" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="channelState_isPresent &amp;&amp; channelState == &quot;FREE&quot;">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="outMSG = &quot;MSG&quot;; randomWait = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.04481040911079372">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="1.5101165449404714">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation5" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="wakeUp_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="outMSG = &quot;END&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.28882718043739275">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.217615632874857">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <link port="idle.incomingPort" relation="relation5"/>
                <link port="idle.outgoingPort" relation="relation"/>
                <link port="senseAir.incomingPort" relation="relation"/>
                <link port="senseAir.incomingPort" relation="relation3"/>
                <link port="senseAir.outgoingPort" relation="relation2"/>
                <link port="senseAir.outgoingPort" relation="relation4"/>
                <link port="randomWait.incomingPort" relation="relation2"/>
                <link port="randomWait.outgoingPort" relation="relation3"/>
                <link port="Emit.incomingPort" relation="relation4"/>
                <link port="Emit.outgoingPort" relation="relation5"/>
            </entity>
            <entity name="randomWait" class="ptolemy.domains.fsm.modal.Refinement">
                <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
                    <property name="startTime" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                    <property name="stopTime" class="ptolemy.data.expr.Parameter" value="1.7976931348623E308">
                    </property>
                    <property name="stopWhenQueueIsEmpty" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="synchronizeToRealTime" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="isCQAdaptive" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="minBinCount" class="ptolemy.data.expr.Parameter" value="2">
                    </property>
                    <property name="binCountFactor" class="ptolemy.data.expr.Parameter" value="2">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 40.0">
                    </property>
                </property>
                <port name="data" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="45.0, 125.0">
                    </property>
                </port>
                <port name="channelState" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="55.0, 215.0">
                    </property>
                </port>
                <port name="senseChannel" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="415.0, 160.0">
                    </property>
                </port>
                <port name="outMSG" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="525.0, 325.0">
                    </property>
                </port>
                <port name="randomWait" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="70.0, 280.0">
                    </property>
                </port>
                <port name="wakeUp" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="420.0, 255.0">
                    </property>
                </port>
                <entity name="VariableDelay" class="ptolemy.domains.de.lib.VariableDelay">
                    <property name="defaultDelay" class="ptolemy.data.expr.Parameter" value="1.0">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="290.0, 250.0">
                    </property>
                </entity>
                <entity name="Uniform" class="ptolemy.actor.lib.Uniform">
                    <property name="seed" class="ptolemy.data.expr.Parameter" value="0L">
                    </property>
                    <property name="lowerBound" class="ptolemy.data.expr.Parameter" value="MinWaiting">
                    </property>
                    <property name="upperBound" class="ptolemy.data.expr.Parameter" value="MaxWaiting">
                    </property>
                    <doc>Create a sequence of uniformly distributed random numbers</doc>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="190.0, 315.0">
                    </property>
                </entity>
                <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                    <vertex name="vertex1" value="145.0, 240.0">
                    </vertex>
                </relation>
                <relation name="relation" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                </relation>
                <link port="randomWait" relation="relation2"/>
                <link port="wakeUp" relation="relation3"/>
                <link port="VariableDelay.input" relation="relation2"/>
                <link port="VariableDelay.output" relation="relation3"/>
                <link port="VariableDelay.delay" relation="relation"/>
                <link port="Uniform.output" relation="relation"/>
                <link port="Uniform.trigger" relation="relation2"/>
            </entity>
            <entity name="Emit" class="ptolemy.domains.fsm.modal.Refinement">
                <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
                    <property name="startTime" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                    <property name="stopTime" class="ptolemy.data.expr.Parameter" value="1.7976931348623E308">
                    </property>
                    <property name="stopWhenQueueIsEmpty" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="synchronizeToRealTime" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="isCQAdaptive" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="minBinCount" class="ptolemy.data.expr.Parameter" value="2">
                    </property>
                    <property name="binCountFactor" class="ptolemy.data.expr.Parameter" value="2">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="270.0, 85.0">
                    </property>
                </property>
                <port name="data" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="55.0, 305.0">
                    </property>
                </port>
                <port name="channelState" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="100.0, 150.0">
                    </property>
                </port>
                <port name="senseChannel" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="90.0, 60.0">
                    </property>
                </port>
                <port name="outMSG" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="40.0, 205.0">
                    </property>
                </port>
                <port name="randomWait" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="85.0, 275.0">
                    </property>
                </port>
                <port name="wakeUp" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="485.0, 210.0">
                    </property>
                </port>
                <entity name="Uniform" class="ptolemy.actor.lib.Uniform">
                    <property name="seed" class="ptolemy.data.expr.Parameter" value="10L">
                    </property>
                    <property name="lowerBound" class="ptolemy.data.expr.Parameter" value="MinTxTime">
                    </property>
                    <property name="upperBound" class="ptolemy.data.expr.Parameter" value="MaxTxTime">
                    </property>
                    <doc>Create a sequence of uniformly distributed random numbers</doc>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="190.0, 315.0">
                    </property>
                </entity>
                <entity name="VariableDelay" class="ptolemy.domains.de.lib.VariableDelay">
                    <property name="defaultDelay" class="ptolemy.data.expr.Parameter" value="1.0">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="290.0, 250.0">
                    </property>
                </entity>
                <relation name="relation" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                    <vertex name="vertex1" value="145.0, 240.0">
                    </vertex>
                </relation>
                <relation name="relation4" class="ptolemy.actor.TypedIORelation">
                </relation>
                <link port="randomWait" relation="relation2"/>
                <link port="wakeUp" relation="relation4"/>
                <link port="Uniform.output" relation="relation"/>
                <link port="Uniform.trigger" relation="relation2"/>
                <link port="VariableDelay.input" relation="relation2"/>
                <link port="VariableDelay.output" relation="relation4"/>
                <link port="VariableDelay.delay" relation="relation"/>
            </entity>
            <relation name="dataRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="channelStateRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="senseChannelRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="outMSGRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="randomWaitRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="wakeUpRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="data" relation="dataRelation"/>
            <link port="channelState" relation="channelStateRelation"/>
            <link port="senseChannel" relation="senseChannelRelation"/>
            <link port="outMSG" relation="outMSGRelation"/>
            <link port="randomWait" relation="randomWaitRelation"/>
            <link port="wakeUp" relation="wakeUpRelation"/>
            <link port="_Controller.data" relation="dataRelation"/>
            <link port="_Controller.channelState" relation="channelStateRelation"/>
            <link port="_Controller.senseChannel" relation="senseChannelRelation"/>
            <link port="_Controller.outMSG" relation="outMSGRelation"/>
            <link port="_Controller.randomWait" relation="randomWaitRelation"/>
            <link port="_Controller.wakeUp" relation="wakeUpRelation"/>
            <link port="randomWait.data" relation="dataRelation"/>
            <link port="randomWait.channelState" relation="channelStateRelation"/>
            <link port="randomWait.senseChannel" relation="senseChannelRelation"/>
            <link port="randomWait.outMSG" relation="outMSGRelation"/>
            <link port="randomWait.randomWait" relation="randomWaitRelation"/>
            <link port="randomWait.wakeUp" relation="wakeUpRelation"/>
            <link port="Emit.data" relation="dataRelation"/>
            <link port="Emit.channelState" relation="channelStateRelation"/>
            <link port="Emit.senseChannel" relation="senseChannelRelation"/>
            <link port="Emit.outMSG" relation="outMSGRelation"/>
            <link port="Emit.randomWait" relation="randomWaitRelation"/>
            <link port="Emit.wakeUp" relation="wakeUpRelation"/>
        </entity>
        <entity name="TimedDelay" class="ptolemy.domains.de.lib.TimedDelay">
            <property name="delay" class="ptolemy.data.expr.Parameter" value="1.0">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="505.0, 300.0">
            </property>
        </entity>
        <entity name="For analysis" class="ptolemy.actor.TypedCompositeActor">
            <property name="_location" class="ptolemy.kernel.util.Location" value="470.0, 65.0">
            </property>
            <port name="time1" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 130.0">
                </property>
            </port>
            <port name="time2" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 185.0">
                </property>
            </port>
            <port name="report" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="465.0, 150.0">
                </property>
            </port>
            <port name="collision" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="SOUTH">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 255.0">
                </property>
            </port>
            <port name="report2" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="SOUTH">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="440.0, 265.0">
                </property>
            </port>
            <entity name="WaitingTime" class="ptolemy.domains.de.lib.WaitingTime">
                <property name="_location" class="ptolemy.kernel.util.Location" value="210.0, 140.0">
                </property>
            </entity>
            <entity name="RecordAssembler" class="ptolemy.actor.lib.RecordAssembler">
                <property name="_location" class="ptolemy.kernel.util.Location" value="340.0, 110.0">
                </property>
                <port name="id" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
                <port name="time" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
            </entity>
            <entity name="Const" class="ptolemy.actor.lib.Const">
                <property name="value" class="ptolemy.data.expr.Parameter" value="id">
                </property>
                <doc>Create a constant sequence</doc>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="300.0, 85.0">
                </property>
            </entity>
            <entity name="CurrentTime" class="ptolemy.actor.lib.CurrentTime">
                <doc>Output the current time.</doc>
                <property name="_location" class="ptolemy.kernel.util.Location" value="165.0, 290.0">
                </property>
            </entity>
            <entity name="RecordAssembler2" class="ptolemy.actor.lib.RecordAssembler">
                <property name="_location" class="ptolemy.kernel.util.Location" value="300.0, 245.0">
                </property>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                    </property>
                </port>
                <port name="collisionId" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="detectTime" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
            </entity>
            <entity name="Const2" class="ptolemy.actor.lib.Const">
                <property name="value" class="ptolemy.data.expr.Parameter" value="id">
                </property>
                <doc>Create a constant sequence</doc>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="165.0, 220.0">
                </property>
            </entity>
            <relation name="relation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation2" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="270.0, 140.0">
                </vertex>
            </relation>
            <relation name="relation4" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation8" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="120.0, 255.0">
                </vertex>
            </relation>
            <relation name="relation7" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation10" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation5" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation6" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="time1" relation="relation"/>
            <link port="time2" relation="relation2"/>
            <link port="report" relation="relation6"/>
            <link port="collision" relation="relation8"/>
            <link port="report2" relation="relation5"/>
            <link port="WaitingTime.output" relation="relation3"/>
            <link port="WaitingTime.waiter" relation="relation"/>
            <link port="WaitingTime.waitee" relation="relation2"/>
            <link port="RecordAssembler.output" relation="relation6"/>
            <link port="RecordAssembler.id" relation="relation4"/>
            <link port="RecordAssembler.time" relation="relation3"/>
            <link port="Const.output" relation="relation4"/>
            <link port="Const.trigger" relation="relation3"/>
            <link port="CurrentTime.output" relation="relation7"/>
            <link port="CurrentTime.trigger" relation="relation8"/>
            <link port="RecordAssembler2.output" relation="relation5"/>
            <link port="RecordAssembler2.collisionId" relation="relation10"/>
            <link port="RecordAssembler2.detectTime" relation="relation7"/>
            <link port="Const2.output" relation="relation10"/>
            <link port="Const2.trigger" relation="relation8"/>
        </entity>
        <entity name="modal model2" class="ptolemy.domains.fsm.modal.ModalModel">
            <property name="_tableauFactory" class="ptolemy.vergil.fsm.modal.ModalTableauFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="145.0, 185.0">
            </property>
            <port name="inMSG" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="channelState" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
            </port>
            <port name="senseChannel" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="collision" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
            </port>
            <entity name="_Controller" class="ptolemy.domains.fsm.modal.ModalController">
                <property name="initialStateName" class="ptolemy.kernel.util.StringAttribute" value="idle">
                </property>
                <property name="_library" class="ptolemy.moml.LibraryAttribute">
                    <configure>
        <entity name="state library" class="ptolemy.kernel.CompositeEntity"><input source="ptolemy/configs/basicUtilities.xml"></input><entity name="state" class="ptolemy.domains.fsm.kernel.State"><property name="_centerName" class="ptolemy.kernel.util.Attribute"></property><property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory"></property></entity></entity>
      </configure>
                </property>
                <port name="inMSG" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="0.0, 0.0">
                    </property>
                </port>
                <port name="channelState" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="335.0, 90.0">
                    </property>
                </port>
                <port name="senseChannel" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="-5.0, 90.0">
                    </property>
                </port>
                <port name="collision" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="240.0, 25.0">
                    </property>
                </port>
                <entity name="idle" class="ptolemy.domains.fsm.kernel.State">
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="190.5, 187.28129322224544">
                    </property>
                </entity>
                <entity name="receive" class="ptolemy.domains.fsm.kernel.State">
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="425.0, 195.0">
                    </property>
                </entity>
                <relation name="relation" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="inMSG_isPresent &amp;&amp; inMSG == &quot;END&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.9564982454336546">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation2" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="inMSG_isPresent &amp;&amp; inMSG == &quot;MSG&quot;">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="collision = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="2.512139297546763">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-0.21451248805933695">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation3" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="senseChannel_isPresent &amp;&amp; ! inMSG_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="channelState = &quot;BUSY&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="2.356194490192345">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.0687929371738796">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation4" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="senseChannel_isPresent &amp;&amp; !inMSG_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="channelState = &quot;FREE&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="2.13592263986528">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="1.4616814519565946">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation5" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="inMSG_isPresent &amp;&amp; inMSG == &quot;MSG&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="0.11144946119379541">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <link port="idle.incomingPort" relation="relation"/>
                <link port="idle.incomingPort" relation="relation4"/>
                <link port="idle.outgoingPort" relation="relation5"/>
                <link port="idle.outgoingPort" relation="relation4"/>
                <link port="receive.incomingPort" relation="relation5"/>
                <link port="receive.incomingPort" relation="relation2"/>
                <link port="receive.incomingPort" relation="relation3"/>
                <link port="receive.outgoingPort" relation="relation"/>
                <link port="receive.outgoingPort" relation="relation2"/>
                <link port="receive.outgoingPort" relation="relation3"/>
            </entity>
            <relation name="inMSGRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="channelStateRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="senseChannelRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="collisionRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="inMSG" relation="inMSGRelation"/>
            <link port="channelState" relation="channelStateRelation"/>
            <link port="senseChannel" relation="senseChannelRelation"/>
            <link port="collision" relation="collisionRelation"/>
            <link port="_Controller.inMSG" relation="inMSGRelation"/>
            <link port="_Controller.channelState" relation="channelStateRelation"/>
            <link port="_Controller.senseChannel" relation="senseChannelRelation"/>
            <link port="_Controller.collision" relation="collisionRelation"/>
        </entity>
        <relation name="relation5" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation7" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation8" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="210.0, 55.0">
            </vertex>
        </relation>
        <relation name="relation2" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="405.0, 75.0">
            </vertex>
        </relation>
        <relation name="relation6" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="465.0, 195.0">
            </vertex>
        </relation>
        <relation name="relation9" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation10" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation4" class="ptolemy.actor.TypedIORelation">
        </relation>
        <link port="in" relation="relation10"/>
        <link port="out" relation="relation2"/>
        <link port="report" relation="relation7"/>
        <link port="report2" relation="relation9"/>
        <link port="PoissonClock.output" relation="relation8"/>
        <link port="modal model.data" relation="relation8"/>
        <link port="modal model.channelState" relation="relation4"/>
        <link port="modal model.senseChannel" relation="relation5"/>
        <link port="modal model.outMSG" relation="relation2"/>
        <link port="TimedDelay.input" relation="relation5"/>
        <link port="TimedDelay.output" relation="relation"/>
        <link port="For analysis.time1" relation="relation8"/>
        <link port="For analysis.time2" relation="relation2"/>
        <link port="For analysis.report" relation="relation7"/>
        <link port="For analysis.collision" relation="relation6"/>
        <link port="For analysis.report2" relation="relation9"/>
        <link port="modal model2.inMSG" relation="relation10"/>
        <link port="modal model2.channelState" relation="relation4"/>
        <link port="modal model2.senseChannel" relation="relation"/>
        <link port="modal model2.collision" relation="relation6"/>
    </entity>
    <entity name="node30" class="ptolemy.domains.wireless.kernel.WirelessComposite">
        <property name="_location" class="ptolemy.kernel.util.Location" value="380.0, 415.0">
        </property>
        <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
            <property name="startTime" class="ptolemy.data.expr.Parameter" value="0.0">
            </property>
            <property name="stopTime" class="ptolemy.data.expr.Parameter" value="1.7976931348623E308">
            </property>
            <property name="stopWhenQueueIsEmpty" class="ptolemy.data.expr.Parameter" value="true">
            </property>
            <property name="synchronizeToRealTime" class="ptolemy.data.expr.Parameter" value="false">
            </property>
            <property name="isCQAdaptive" class="ptolemy.data.expr.Parameter" value="true">
            </property>
            <property name="minBinCount" class="ptolemy.data.expr.Parameter" value="2">
            </property>
            <property name="binCountFactor" class="ptolemy.data.expr.Parameter" value="2">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 40.0">
            </property>
        </property>
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={106, 164, 815, 518}, maximized=false}">
        </property>
        <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[600, 400]">
        </property>
        <property name="id" class="ptolemy.data.expr.Parameter" value="19">
        </property>
        <property name="annotation" class="ptolemy.kernel.util.Attribute">
            <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
            <property name="_iconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure><svg><text x="20" y="20" style="font-size:14; font-family:SansSerif; fill:blue">The protocol assumes that propagation takes no time but transmission takes time
that depends on the package's size. When having data to send, it first sense 
whether the channel is free or busy. If free, send the data, if not, then wait
for a random time and try again. The detection inteface is provided by the senseAir 
component. </text></svg></configure>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-A-</text>
      </svg>
    </configure>
            </property>
            <property name="_controllerFactory" class="ptolemy.vergil.basic.NodeControllerFactory">
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.AnnotationEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="-50.0, 370.0">
            </property>
        </property>
        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <port name="in" class="ptolemy.domains.wireless.kernel.WirelessIOPort">
            <property name="input"/>
            <property name="outsideChannel" class="ptolemy.data.expr.StringParameter" value="LimitedRangeChannel">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="70.0, 175.0">
            </property>
            <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
        </port>
        <port name="out" class="ptolemy.domains.wireless.kernel.WirelessIOPort">
            <property name="output"/>
            <property name="outsideChannel" class="ptolemy.data.expr.StringParameter" value="LimitedRangeChannel">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="425.0, 145.0">
            </property>
            <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
        </port>
        <port name="report" class="ptolemy.domains.wireless.kernel.WirelessIOPort">
            <property name="output"/>
            <property name="outsideChannel" class="ptolemy.data.expr.StringParameter" value="DataCollectChannel">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="545.0, 65.0">
            </property>
            <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
        </port>
        <port name="report2" class="ptolemy.domains.wireless.kernel.WirelessIOPort">
            <property name="output"/>
            <property name="outsideChannel" class="ptolemy.data.expr.StringParameter" value="CollisionReportChannel">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="545.0, 105.0">
            </property>
            <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
        </port>
        <entity name="PoissonClock" class="ptolemy.actor.lib.PoissonClock">
            <property name="meanTime" class="ptolemy.data.expr.Parameter" value="TrafficDensity">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="85.0, 105.0">
            </property>
        </entity>
        <entity name="modal model" class="ptolemy.domains.fsm.modal.ModalModel">
            <property name="_tableauFactory" class="ptolemy.vergil.fsm.modal.ModalTableauFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="270.0, 115.0">
            </property>
            <port name="data" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="channelState" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="senseChannel" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
            </port>
            <port name="outMSG" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="NORTH">
                </property>
            </port>
            <port name="randomWait" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="output"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="wakeUp" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="output"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <entity name="_Controller" class="ptolemy.domains.fsm.modal.ModalController">
                <property name="initialStateName" class="ptolemy.kernel.util.StringAttribute" value="idle">
                </property>
                <property name="_library" class="ptolemy.moml.LibraryAttribute">
                    <configure><entity name="state library" class="ptolemy.kernel.CompositeEntity"><input source="ptolemy/configs/basicUtilities.xml"></input><entity name="state" class="ptolemy.domains.fsm.kernel.State"><property name="_centerName" class="ptolemy.kernel.util.Attribute"></property></entity></entity></configure>
                </property>
                <port name="data" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="40.0, 95.0">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="channelState" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="35.0, 185.0">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="senseChannel" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="535.0, 70.0">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="outMSG" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="535.0, 155.0">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="randomWait" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="30.0, 260.0">
                    </property>
                    <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                </port>
                <port name="wakeUp" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="30.0, 330.0">
                    </property>
                    <property name="_hide" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                </port>
                <entity name="idle" class="ptolemy.domains.fsm.kernel.State">
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="115.0, 145.0">
                    </property>
                </entity>
                <entity name="senseAir" class="ptolemy.domains.fsm.kernel.State">
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="255.0, 120.0">
                    </property>
                </entity>
                <entity name="randomWait" class="ptolemy.domains.fsm.kernel.State">
                    <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="randomWait">
                    </property>
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="460.0, 125.0">
                    </property>
                </entity>
                <entity name="Emit" class="ptolemy.domains.fsm.kernel.State">
                    <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="Emit">
                    </property>
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="270.0, 355.0">
                    </property>
                </entity>
                <relation name="relation" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="data_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="senseChannel = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.7290251868073567">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-0.2479894981275352">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation2" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="channelState_isPresent &amp;&amp; channelState == &quot;BUSY&quot;">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="randomWait = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.8816266690949863">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="0.3014559376966855">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation3" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="wakeUp_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="senseChannel = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.7432607920971347">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.969499643808648">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation4" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="channelState_isPresent &amp;&amp; channelState == &quot;FREE&quot;">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="outMSG = &quot;MSG&quot;; randomWait = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.04481040911079372">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="1.5101165449404714">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation5" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="wakeUp_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="outMSG = &quot;END&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.28882718043739275">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.217615632874857">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <link port="idle.incomingPort" relation="relation5"/>
                <link port="idle.outgoingPort" relation="relation"/>
                <link port="senseAir.incomingPort" relation="relation"/>
                <link port="senseAir.incomingPort" relation="relation3"/>
                <link port="senseAir.outgoingPort" relation="relation2"/>
                <link port="senseAir.outgoingPort" relation="relation4"/>
                <link port="randomWait.incomingPort" relation="relation2"/>
                <link port="randomWait.outgoingPort" relation="relation3"/>
                <link port="Emit.incomingPort" relation="relation4"/>
                <link port="Emit.outgoingPort" relation="relation5"/>
            </entity>
            <entity name="randomWait" class="ptolemy.domains.fsm.modal.Refinement">
                <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
                    <property name="startTime" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                    <property name="stopTime" class="ptolemy.data.expr.Parameter" value="1.7976931348623E308">
                    </property>
                    <property name="stopWhenQueueIsEmpty" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="synchronizeToRealTime" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="isCQAdaptive" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="minBinCount" class="ptolemy.data.expr.Parameter" value="2">
                    </property>
                    <property name="binCountFactor" class="ptolemy.data.expr.Parameter" value="2">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 40.0">
                    </property>
                </property>
                <port name="data" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="45.0, 125.0">
                    </property>
                </port>
                <port name="channelState" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="55.0, 215.0">
                    </property>
                </port>
                <port name="senseChannel" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="415.0, 160.0">
                    </property>
                </port>
                <port name="outMSG" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="525.0, 325.0">
                    </property>
                </port>
                <port name="randomWait" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="70.0, 280.0">
                    </property>
                </port>
                <port name="wakeUp" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="420.0, 255.0">
                    </property>
                </port>
                <entity name="VariableDelay" class="ptolemy.domains.de.lib.VariableDelay">
                    <property name="defaultDelay" class="ptolemy.data.expr.Parameter" value="1.0">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="290.0, 250.0">
                    </property>
                </entity>
                <entity name="Uniform" class="ptolemy.actor.lib.Uniform">
                    <property name="seed" class="ptolemy.data.expr.Parameter" value="0L">
                    </property>
                    <property name="lowerBound" class="ptolemy.data.expr.Parameter" value="MinWaiting">
                    </property>
                    <property name="upperBound" class="ptolemy.data.expr.Parameter" value="MaxWaiting">
                    </property>
                    <doc>Create a sequence of uniformly distributed random numbers</doc>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="190.0, 315.0">
                    </property>
                </entity>
                <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                    <vertex name="vertex1" value="145.0, 240.0">
                    </vertex>
                </relation>
                <relation name="relation" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                </relation>
                <link port="randomWait" relation="relation2"/>
                <link port="wakeUp" relation="relation3"/>
                <link port="VariableDelay.input" relation="relation2"/>
                <link port="VariableDelay.output" relation="relation3"/>
                <link port="VariableDelay.delay" relation="relation"/>
                <link port="Uniform.output" relation="relation"/>
                <link port="Uniform.trigger" relation="relation2"/>
            </entity>
            <entity name="Emit" class="ptolemy.domains.fsm.modal.Refinement">
                <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
                    <property name="startTime" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                    <property name="stopTime" class="ptolemy.data.expr.Parameter" value="1.7976931348623E308">
                    </property>
                    <property name="stopWhenQueueIsEmpty" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="synchronizeToRealTime" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="isCQAdaptive" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="minBinCount" class="ptolemy.data.expr.Parameter" value="2">
                    </property>
                    <property name="binCountFactor" class="ptolemy.data.expr.Parameter" value="2">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="270.0, 85.0">
                    </property>
                </property>
                <port name="data" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="55.0, 305.0">
                    </property>
                </port>
                <port name="channelState" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="100.0, 150.0">
                    </property>
                </port>
                <port name="senseChannel" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="90.0, 60.0">
                    </property>
                </port>
                <port name="outMSG" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="40.0, 205.0">
                    </property>
                </port>
                <port name="randomWait" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="85.0, 275.0">
                    </property>
                </port>
                <port name="wakeUp" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="485.0, 210.0">
                    </property>
                </port>
                <entity name="Uniform" class="ptolemy.actor.lib.Uniform">
                    <property name="seed" class="ptolemy.data.expr.Parameter" value="10L">
                    </property>
                    <property name="lowerBound" class="ptolemy.data.expr.Parameter" value="MinTxTime">
                    </property>
                    <property name="upperBound" class="ptolemy.data.expr.Parameter" value="MaxTxTime">
                    </property>
                    <doc>Create a sequence of uniformly distributed random numbers</doc>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="190.0, 315.0">
                    </property>
                </entity>
                <entity name="VariableDelay" class="ptolemy.domains.de.lib.VariableDelay">
                    <property name="defaultDelay" class="ptolemy.data.expr.Parameter" value="1.0">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="290.0, 250.0">
                    </property>
                </entity>
                <relation name="relation" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                    <vertex name="vertex1" value="145.0, 240.0">
                    </vertex>
                </relation>
                <relation name="relation4" class="ptolemy.actor.TypedIORelation">
                </relation>
                <link port="randomWait" relation="relation2"/>
                <link port="wakeUp" relation="relation4"/>
                <link port="Uniform.output" relation="relation"/>
                <link port="Uniform.trigger" relation="relation2"/>
                <link port="VariableDelay.input" relation="relation2"/>
                <link port="VariableDelay.output" relation="relation4"/>
                <link port="VariableDelay.delay" relation="relation"/>
            </entity>
            <relation name="dataRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="channelStateRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="senseChannelRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="outMSGRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="randomWaitRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="wakeUpRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="data" relation="dataRelation"/>
            <link port="channelState" relation="channelStateRelation"/>
            <link port="senseChannel" relation="senseChannelRelation"/>
            <link port="outMSG" relation="outMSGRelation"/>
            <link port="randomWait" relation="randomWaitRelation"/>
            <link port="wakeUp" relation="wakeUpRelation"/>
            <link port="_Controller.data" relation="dataRelation"/>
            <link port="_Controller.channelState" relation="channelStateRelation"/>
            <link port="_Controller.senseChannel" relation="senseChannelRelation"/>
            <link port="_Controller.outMSG" relation="outMSGRelation"/>
            <link port="_Controller.randomWait" relation="randomWaitRelation"/>
            <link port="_Controller.wakeUp" relation="wakeUpRelation"/>
            <link port="randomWait.data" relation="dataRelation"/>
            <link port="randomWait.channelState" relation="channelStateRelation"/>
            <link port="randomWait.senseChannel" relation="senseChannelRelation"/>
            <link port="randomWait.outMSG" relation="outMSGRelation"/>
            <link port="randomWait.randomWait" relation="randomWaitRelation"/>
            <link port="randomWait.wakeUp" relation="wakeUpRelation"/>
            <link port="Emit.data" relation="dataRelation"/>
            <link port="Emit.channelState" relation="channelStateRelation"/>
            <link port="Emit.senseChannel" relation="senseChannelRelation"/>
            <link port="Emit.outMSG" relation="outMSGRelation"/>
            <link port="Emit.randomWait" relation="randomWaitRelation"/>
            <link port="Emit.wakeUp" relation="wakeUpRelation"/>
        </entity>
        <entity name="TimedDelay" class="ptolemy.domains.de.lib.TimedDelay">
            <property name="delay" class="ptolemy.data.expr.Parameter" value="1.0">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="505.0, 300.0">
            </property>
        </entity>
        <entity name="For analysis" class="ptolemy.actor.TypedCompositeActor">
            <property name="_location" class="ptolemy.kernel.util.Location" value="470.0, 65.0">
            </property>
            <port name="time1" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 130.0">
                </property>
            </port>
            <port name="time2" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 185.0">
                </property>
            </port>
            <port name="report" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="465.0, 150.0">
                </property>
            </port>
            <port name="collision" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="SOUTH">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 255.0">
                </property>
            </port>
            <port name="report2" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="SOUTH">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="440.0, 265.0">
                </property>
            </port>
            <entity name="WaitingTime" class="ptolemy.domains.de.lib.WaitingTime">
                <property name="_location" class="ptolemy.kernel.util.Location" value="210.0, 140.0">
                </property>
            </entity>
            <entity name="RecordAssembler" class="ptolemy.actor.lib.RecordAssembler">
                <property name="_location" class="ptolemy.kernel.util.Location" value="340.0, 110.0">
                </property>
                <port name="id" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
                <port name="time" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
            </entity>
            <entity name="Const" class="ptolemy.actor.lib.Const">
                <property name="value" class="ptolemy.data.expr.Parameter" value="id">
                </property>
                <doc>Create a constant sequence</doc>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="300.0, 85.0">
                </property>
            </entity>
            <entity name="CurrentTime" class="ptolemy.actor.lib.CurrentTime">
                <doc>Output the current time.</doc>
                <property name="_location" class="ptolemy.kernel.util.Location" value="165.0, 290.0">
                </property>
            </entity>
            <entity name="RecordAssembler2" class="ptolemy.actor.lib.RecordAssembler">
                <property name="_location" class="ptolemy.kernel.util.Location" value="300.0, 245.0">
                </property>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                    </property>
                </port>
                <port name="collisionId" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="detectTime" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
            </entity>
            <entity name="Const2" class="ptolemy.actor.lib.Const">
                <property name="value" class="ptolemy.data.expr.Parameter" value="id">
                </property>
                <doc>Create a constant sequence</doc>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="165.0, 220.0">
                </property>
            </entity>
            <relation name="relation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation2" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="270.0, 140.0">
                </vertex>
            </relation>
            <relation name="relation4" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation8" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="120.0, 255.0">
                </vertex>
            </relation>
            <relation name="relation7" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation10" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation5" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation6" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="time1" relation="relation"/>
            <link port="time2" relation="relation2"/>
            <link port="report" relation="relation6"/>
            <link port="collision" relation="relation8"/>
            <link port="report2" relation="relation5"/>
            <link port="WaitingTime.output" relation="relation3"/>
            <link port="WaitingTime.waiter" relation="relation"/>
            <link port="WaitingTime.waitee" relation="relation2"/>
            <link port="RecordAssembler.output" relation="relation6"/>
            <link port="RecordAssembler.id" relation="relation4"/>
            <link port="RecordAssembler.time" relation="relation3"/>
            <link port="Const.output" relation="relation4"/>
            <link port="Const.trigger" relation="relation3"/>
            <link port="CurrentTime.output" relation="relation7"/>
            <link port="CurrentTime.trigger" relation="relation8"/>
            <link port="RecordAssembler2.output" relation="relation5"/>
            <link port="RecordAssembler2.collisionId" relation="relation10"/>
            <link port="RecordAssembler2.detectTime" relation="relation7"/>
            <link port="Const2.output" relation="relation10"/>
            <link port="Const2.trigger" relation="relation8"/>
        </entity>
        <entity name="modal model2" class="ptolemy.domains.fsm.modal.ModalModel">
            <property name="_tableauFactory" class="ptolemy.vergil.fsm.modal.ModalTableauFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="145.0, 185.0">
            </property>
            <port name="inMSG" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="channelState" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
            </port>
            <port name="senseChannel" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="collision" class="ptolemy.domains.fsm.modal.ModalPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
            </port>
            <entity name="_Controller" class="ptolemy.domains.fsm.modal.ModalController">
                <property name="initialStateName" class="ptolemy.kernel.util.StringAttribute" value="idle">
                </property>
                <property name="_library" class="ptolemy.moml.LibraryAttribute">
                    <configure>
        <entity name="state library" class="ptolemy.kernel.CompositeEntity"><input source="ptolemy/configs/basicUtilities.xml"></input><entity name="state" class="ptolemy.domains.fsm.kernel.State"><property name="_centerName" class="ptolemy.kernel.util.Attribute"></property><property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory"></property></entity></entity>
      </configure>
                </property>
                <port name="inMSG" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="0.0, 0.0">
                    </property>
                </port>
                <port name="channelState" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="335.0, 90.0">
                    </property>
                </port>
                <port name="senseChannel" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="-5.0, 90.0">
                    </property>
                </port>
                <port name="collision" class="ptolemy.domains.fsm.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="240.0, 25.0">
                    </property>
                </port>
                <entity name="idle" class="ptolemy.domains.fsm.kernel.State">
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="190.5, 187.28129322224544">
                    </property>
                </entity>
                <entity name="receive" class="ptolemy.domains.fsm.kernel.State">
                    <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="425.0, 195.0">
                    </property>
                </entity>
                <relation name="relation" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="inMSG_isPresent &amp;&amp; inMSG == &quot;END&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.9564982454336546">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation2" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="inMSG_isPresent &amp;&amp; inMSG == &quot;MSG&quot;">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="collision = 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="2.512139297546763">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-0.21451248805933695">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation3" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="senseChannel_isPresent &amp;&amp; ! inMSG_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="channelState = &quot;BUSY&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="2.356194490192345">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.0687929371738796">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation4" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="senseChannel_isPresent &amp;&amp; !inMSG_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.fsm.kernel.OutputActionsAttribute" value="channelState = &quot;FREE&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="2.13592263986528">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="1.4616814519565946">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation5" class="ptolemy.domains.fsm.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="inMSG_isPresent &amp;&amp; inMSG == &quot;MSG&quot;">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="0.11144946119379541">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <link port="idle.incomingPort" relation="relation"/>
                <link port="idle.incomingPort" relation="relation4"/>
                <link port="idle.outgoingPort" relation="relation5"/>
                <link port="idle.outgoingPort" relation="relation4"/>
                <link port="receive.incomingPort" relation="relation5"/>
                <link port="receive.incomingPort" relation="relation2"/>
                <link port="receive.incomingPort" relation="relation3"/>
                <link port="receive.outgoingPort" relation="relation"/>
                <link port="receive.outgoingPort" relation="relation2"/>
                <link port="receive.outgoingPort" relation="relation3"/>
            </entity>
            <relation name="inMSGRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="channelStateRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="senseChannelRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="collisionRelation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="inMSG" relation="inMSGRelation"/>
            <link port="channelState" relation="channelStateRelation"/>
            <link port="senseChannel" relation="senseChannelRelation"/>
            <link port="collision" relation="collisionRelation"/>
            <link port="_Controller.inMSG" relation="inMSGRelation"/>
            <link port="_Controller.channelState" relation="channelStateRelation"/>
            <link port="_Controller.senseChannel" relation="senseChannelRelation"/>
            <link port="_Controller.collision" relation="collisionRelation"/>
        </entity>
        <relation name="relation5" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation7" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation8" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="210.0, 55.0">
            </vertex>
        </relation>
        <relation name="relation2" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="405.0, 75.0">
            </vertex>
        </relation>
        <relation name="relation6" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="465.0, 195.0">
            </vertex>
        </relation>
        <relation name="relation9" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation10" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation4" class="ptolemy.actor.TypedIORelation">
        </relation>
        <link port="in" relation="relation10"/>
        <link port="out" relation="relation2"/>
        <link port="report" relation="relation7"/>
        <link port="report2" relation="relation9"/>
        <link port="PoissonClock.output" relation="relation8"/>
        <link port="modal model.data" relation="relation8"/>
        <link port="modal model.channelState" relation="relation4"/>
        <link port="modal model.senseChannel" relation="relation5"/>
        <link port="modal model.outMSG" relation="relation2"/>
        <link port="TimedDelay.input" relation="relation5"/>
        <link port="TimedDelay.output" relation="relation"/>
        <link port="For analysis.time1" relation="relation8"/>
        <link port="For analysis.time2" relation="relation2"/>
        <link port="For analysis.report" relation="relation7"/>
        <link port="For analysis.collision" relation="relation6"/>
        <link port="For analysis.report2" relation="relation9"/>
        <link port="modal model2.inMSG" relation="relation10"/>
        <link port="modal model2.channelState" relation="relation4"/>
        <link port="modal model2.senseChannel" relation="relation"/>
        <link port="modal model2.collision" relation="relation6"/>
    </entity>
</entity>
