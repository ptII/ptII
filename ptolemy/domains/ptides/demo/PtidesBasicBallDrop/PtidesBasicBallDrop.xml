<?xml version="1.0" standalone="no"?>
<!DOCTYPE entity PUBLIC "-//UC Berkeley//DTD MoML 1//EN"
    "http://ptolemy.eecs.berkeley.edu/xml/dtd/MoML_1.dtd">
<entity name="PtidesBasicBallDrop" class="ptolemy.actor.TypedCompositeActor">
    <property name="_createdBy" class="ptolemy.kernel.attributes.VersionAttribute" value="8.1.devel">
    </property>
    <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
        <property name="stopTime" class="ptolemy.data.expr.Parameter" value="5.0">
        </property>
        <property name="stopWhenQueueIsEmpty" class="ptolemy.data.expr.Parameter" value="false">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[-115.0, 155.0]">
        </property>
    </property>
    <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={35, 67, 1245, 649}, maximized=false}">
    </property>
    <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[1030, 542]">
    </property>
    <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0">
    </property>
    <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{325.4898200757576, 362.6242108585859}">
    </property>
    <property name="defaultDiscRate" class="ptolemy.data.expr.Parameter" value="4 * encoderTicksPerRevolution">
        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
            </property>
        </property>
        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[-160.0, 215.0]">
        </property>
    </property>
    <property name="maxDiscRate" class="ptolemy.data.expr.Parameter" value="12 * encoderTicksPerRevolution">
        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
            </property>
        </property>
        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[-160.0, 230.0]">
        </property>
    </property>
    <property name="Annotation" class="ptolemy.vergil.kernel.attributes.TextAttribute">
        <property name="text" class="ptolemy.kernel.util.StringAttribute" value="Simulate a ball dropping towards a rotating disc. The disc has a hole (or door)&#10;that will allow the ball to drop through if the disc is properly aligned at the&#10;time of impact (zero rotation).&#10;&#10;Ball drops are detected by a photosensor, which reports the time at which the&#10;ball was detected, as well as its initial velocity. The controller adjusts the&#10;speed of the disc to ensure the door is directly below the ball at the time of&#10;impact.&#10;&#10;Following the initial ball drop (t=0), the next ball will drop after a small&#10;delay. Between ball drops, the disc should return to its default speed.&#10;&#10;All units used in this model are SI (meters, seconds, radians).">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[160.0, 140.0]">
        </property>
    </property>
    <property name="initialAltitude" class="ptolemy.data.expr.Parameter" value="10.0">
        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
            </property>
        </property>
        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[-160.0, 245.0]">
        </property>
    </property>
    <property name="encoderTicksPerRevolution" class="ptolemy.data.expr.Parameter" value="360.0">
        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
            </property>
        </property>
        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[-160.0, 200.0]">
        </property>
    </property>
    <class name="Ball Kinematics" extends="ptolemy.actor.TypedCompositeActor">
        <property name="_location" class="ptolemy.kernel.util.Location" value="[-100.0, 325.0]">
        </property>
        <property name="g" class="ptolemy.data.expr.Parameter" value="9.80665">
            <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                </property>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[50.0, 10.0]">
            </property>
        </property>
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={0, 0, 1192, 623}, maximized=false}">
        </property>
        <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[977, 516]">
        </property>
        <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0">
        </property>
        <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{616.1006944444443, -40.1199494949495}">
        </property>
        <property name="Annotation" class="ptolemy.vergil.kernel.attributes.TextAttribute">
            <property name="text" class="ptolemy.kernel.util.StringAttribute" value="Simple kinematics model for a dropping ball. Given initial altitude, initial&#10;velocity, and the time at which these values were valid (t0), calculate&#10;the final velocity and time of impact (with respect to global time).&#10;&#10;impactTime = (sqrt(initialVelocity^2 + 2*g*initialAltitude) - initialVelocity) / g&#10;impactVelocity = initialVelocity + g*impactTime&#10;&#10;These equations are effectively calculated by the actor network below.">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[35.0, -260.0]">
            </property>
        </property>
        <port name="dropEvent" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[55.0, -70.0]">
            </property>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </port>
        <port name="impactTime" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[920.0, -65.0]">
            </property>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </port>
        <port name="impactVelocity" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[920.0, -20.0]">
            </property>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </port>
        <entity name="MultiplyDivide" class="ptolemy.actor.lib.MultiplyDivide">
            <property name="_location" class="ptolemy.kernel.util.Location" value="[775.0, 10.0]">
            </property>
            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </entity>
        <entity name="UnaryMathFunction" class="ptolemy.actor.lib.UnaryMathFunction">
            <property name="function" class="ptolemy.data.expr.StringParameter" value="square">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="function">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[375.0, -55.0]">
            </property>
            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </entity>
        <entity name="UnaryMathFunction2" class="ptolemy.actor.lib.UnaryMathFunction">
            <property name="function" class="ptolemy.data.expr.StringParameter" value="sqrt">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="function">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[560.0, -40.0]">
            </property>
            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </entity>
        <entity name="AddSubtract" class="ptolemy.actor.lib.AddSubtract">
            <property name="_location" class="ptolemy.kernel.util.Location" value="[470.0, -40.0]">
            </property>
            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </entity>
        <entity name="AddSubtract2" class="ptolemy.actor.lib.AddSubtract">
            <property name="_location" class="ptolemy.kernel.util.Location" value="[665.0, 0.0]">
            </property>
            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </entity>
        <entity name="AddSubtract3" class="ptolemy.actor.lib.AddSubtract">
            <property name="_location" class="ptolemy.kernel.util.Location" value="[855.0, -65.0]">
            </property>
            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </entity>
        <entity name="Const2" class="ptolemy.actor.lib.Const">
            <property name="value" class="ptolemy.data.expr.Parameter" value="g">
            </property>
            <doc>Create a constant sequence.</doc>
            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                </property>
                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[725.0, 20.0]">
            </property>
            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </entity>
        <entity name="RecordDisassembler" class="ptolemy.actor.lib.RecordDisassembler">
            <property name="_location" class="ptolemy.kernel.util.Location" value="[150.0, -90.0]">
            </property>
            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <port name="t0" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <port name="initialVelocity" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
        </entity>
        <entity name="Const" class="ptolemy.actor.lib.Const">
            <property name="value" class="ptolemy.data.expr.Parameter" value="initialAltitude * 2.0 * g">
            </property>
            <doc>Create a constant sequence.</doc>
            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                </property>
                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[340.0, -15.0]">
            </property>
            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </entity>
        <relation name="relation4" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation11" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation5" class="ptolemy.actor.TypedIORelation">
            <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                </property>
            </property>
            <vertex name="vertex1" value="[630.0, -40.0]">
            </vertex>
        </relation>
        <relation name="relation8" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation9" class="ptolemy.actor.TypedIORelation">
            <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
            </property>
            <vertex name="vertex1" value="[705.0, 0.0]">
            </vertex>
        </relation>
        <relation name="relation3" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation6" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation10" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation2" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="[230.0, -55.0]">
            </vertex>
        </relation>
        <relation name="relation13" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="[230.0, 10.0]">
            </vertex>
        </relation>
        <relation name="relation" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation7" class="ptolemy.actor.TypedIORelation">
        </relation>
        <link port="dropEvent" relation="relation3"/>
        <link port="impactTime" relation="relation7"/>
        <link port="impactVelocity" relation="relation5"/>
        <link port="MultiplyDivide.multiply" relation="relation9"/>
        <link port="MultiplyDivide.divide" relation="relation8"/>
        <link port="MultiplyDivide.output" relation="relation10"/>
        <link port="UnaryMathFunction.input" relation="relation2"/>
        <link port="UnaryMathFunction.output" relation="relation4"/>
        <link port="UnaryMathFunction2.input" relation="relation11"/>
        <link port="UnaryMathFunction2.output" relation="relation5"/>
        <link port="AddSubtract.plus" relation="relation4"/>
        <link port="AddSubtract.plus" relation="relation"/>
        <link port="AddSubtract.output" relation="relation11"/>
        <link port="AddSubtract2.plus" relation="relation5"/>
        <link port="AddSubtract2.minus" relation="relation13"/>
        <link port="AddSubtract2.output" relation="relation9"/>
        <link port="AddSubtract3.plus" relation="relation6"/>
        <link port="AddSubtract3.plus" relation="relation10"/>
        <link port="AddSubtract3.output" relation="relation7"/>
        <link port="Const2.output" relation="relation8"/>
        <link port="Const2.trigger" relation="relation9"/>
        <link port="RecordDisassembler.input" relation="relation3"/>
        <link port="RecordDisassembler.t0" relation="relation6"/>
        <link port="RecordDisassembler.initialVelocity" relation="relation2"/>
        <link port="Const.output" relation="relation"/>
        <link port="Const.trigger" relation="relation13"/>
        <link relation1="relation2" relation2="relation13"/>
    </class>
    <entity name="Servo Model" class="ptolemy.actor.TypedCompositeActor">
        <property name="_location" class="ptolemy.kernel.util.Location" value="[495.0, 445.0]">
        </property>
        <property name="Continuous Director" class="ptolemy.domains.continuous.kernel.ContinuousDirector">
            <property name="synchronizeToRealTime" class="ptolemy.data.expr.Parameter" value="false">
            </property>
            <property name="stopTime" class="ptolemy.data.expr.Parameter" value="Infinity">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[-125.0, -30.0]">
            </property>
        </property>
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={0, 348, 921, 457}, maximized=false}">
        </property>
        <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[706, 350]">
        </property>
        <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0">
        </property>
        <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{167.2329545454545, 95.5618686868687}">
        </property>
        <property name="A" class="ptolemy.data.expr.Parameter" value="[ -1.775e4,0,-16.77; 0,0,1 ; 2.30e4,0,0.472]">
        </property>
        <property name="B" class="ptolemy.data.expr.Parameter" value="[92.46 / .039 ; 0 ; 0]">
        </property>
        <property name="C" class="ptolemy.data.expr.Parameter" value="[0,1,0]">
        </property>
        <property name="D" class="ptolemy.data.expr.Parameter" value="[0.0]">
        </property>
        <property name="initialStates" class="ptolemy.data.expr.Parameter" value="[0,0,0]">
        </property>
        <property name="Annotation" class="ptolemy.vergil.kernel.attributes.TextAttribute">
            <property name="text" class="ptolemy.kernel.util.StringAttribute" value="torque">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[100.0, 35.0]">
            </property>
        </property>
        <property name="Annotation2" class="ptolemy.vergil.kernel.attributes.TextAttribute">
            <property name="text" class="ptolemy.kernel.util.StringAttribute" value="speed">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[320.0, 35.0]">
            </property>
        </property>
        <property name="Annotation3" class="ptolemy.vergil.kernel.attributes.TextAttribute">
            <property name="text" class="ptolemy.kernel.util.StringAttribute" value="angle">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[420.0, 35.0]">
            </property>
        </property>
        <property name="Annotation4" class="ptolemy.vergil.kernel.attributes.TextAttribute">
            <property name="text" class="ptolemy.kernel.util.StringAttribute" value="accel">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[230.0, 35.0]">
            </property>
        </property>
        <port name="controlSignal" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[-160.0, 55.0]">
            </property>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </port>
        <port name="encoderSignal" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[715.0, 55.0]">
            </property>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </port>
        <entity name="Integrator" class="ptolemy.domains.continuous.lib.Integrator">
            <property name="initialState" class="ptolemy.actor.parameters.PortParameter" value="0.0">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[295.0, 55.0]">
            </property>
        </entity>
        <entity name="Amplifier" class="ptolemy.actor.lib.Scale">
            <property name="factor" class="ptolemy.data.expr.Parameter" value=".25">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[65.0, 55.0]">
            </property>
        </entity>
        <entity name="Torque Const" class="ptolemy.actor.lib.Scale">
            <property name="factor" class="ptolemy.data.expr.Parameter" value="9.43e-4">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[190.0, 55.0]">
            </property>
        </entity>
        <entity name="LevelCrossingDetector" class="ptolemy.domains.continuous.lib.LevelCrossingDetector">
            <property name="level" class="ptolemy.data.expr.Parameter" value="2.0*pi / encoderTicksPerRevolution">
            </property>
            <property name="direction" class="ptolemy.data.expr.StringParameter" value="rising">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[505.0, 55.0]">
            </property>
        </entity>
        <entity name="Integrator2" class="ptolemy.domains.continuous.lib.Integrator">
            <property name="_location" class="ptolemy.kernel.util.Location" value="{390.0, 55.0}">
            </property>
        </entity>
        <entity name="Tick Value" class="ptolemy.actor.lib.Const">
            <display name="Tick Value "/>
            <property name="value" class="ptolemy.data.expr.Parameter" value="1.0">
            </property>
            <doc>Create a constant sequence.</doc>
            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                </property>
                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[645.0, 55.0]">
            </property>
        </entity>
        <entity name="ZeroOrderHold" class="ptolemy.domains.continuous.lib.ZeroOrderHold">
            <property name="defaultValue" class="ptolemy.data.expr.Parameter" value="0.0">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[-45.0, 55.0]">
            </property>
        </entity>
        <entity name="Scale" class="ptolemy.actor.lib.Scale">
            <property name="factor" class="ptolemy.data.expr.Parameter" value="-1">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[500.0, 120.0]">
            </property>
            <property name="_flipPortsHorizontal" class="ptolemy.data.expr.Parameter" value="true">
            </property>
        </entity>
        <relation name="relation" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation4" class="ptolemy.actor.TypedIORelation">
            <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
            </property>
            <vertex name="vertex1" value="[585.0, 55.0]">
            </vertex>
        </relation>
        <relation name="relation10" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation3" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation11" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation5" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation7" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation2" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation6" class="ptolemy.actor.TypedIORelation">
        </relation>
        <link port="controlSignal" relation="relation3"/>
        <link port="encoderSignal" relation="relation11"/>
        <link port="Integrator.derivative" relation="relation5"/>
        <link port="Integrator.state" relation="relation7"/>
        <link port="Amplifier.input" relation="relation10"/>
        <link port="Amplifier.output" relation="relation"/>
        <link port="Torque Const.input" relation="relation"/>
        <link port="Torque Const.output" relation="relation5"/>
        <link port="LevelCrossingDetector.output" relation="relation4"/>
        <link port="LevelCrossingDetector.trigger" relation="relation6"/>
        <link port="Integrator2.impulse" relation="relation2"/>
        <link port="Integrator2.derivative" relation="relation7"/>
        <link port="Integrator2.state" relation="relation6"/>
        <link port="Tick Value.output" relation="relation11"/>
        <link port="Tick Value.trigger" relation="relation4"/>
        <link port="ZeroOrderHold.input" relation="relation3"/>
        <link port="ZeroOrderHold.output" relation="relation10"/>
        <link port="Scale.input" relation="relation4"/>
        <link port="Scale.output" relation="relation2"/>
    </entity>
    <entity name="Control Delay" class="ptolemy.domains.de.lib.TimedDelay">
        <property name="delay" class="ptolemy.data.expr.Parameter" value="1.0 / maxDiscRate">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[350.0, 575.0]">
        </property>
        <property name="_flipPortsHorizontal" class="ptolemy.data.expr.Parameter" value="true">
        </property>
    </entity>
    <entity name="Drop Sensor" class="ptolemy.actor.TypedCompositeActor">
        <property name="_location" class="ptolemy.kernel.util.Location" value="{75.0, 445.0}">
        </property>
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={31, 165, 1169, 725}, maximized=false}">
        </property>
        <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[954, 618]">
        </property>
        <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0">
        </property>
        <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{460.4444444444446, -206.7272727272728}">
        </property>
        <property name="Annotation" class="ptolemy.vergil.kernel.attributes.TextAttribute">
            <property name="text" class="ptolemy.kernel.util.StringAttribute" value="Trigger a ball drop sensor event; drop event occurs at time t0 (current time)&#10;and ball has initial velocity determined by a uniform distribution.&#10;&#10;Generate a new ball drop event following the impact of the previous ball.">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[-85.0, -285.0]">
            </property>
        </property>
        <port name="nextDrop" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[570.0, -95.0]">
            </property>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </port>
        <port name="trigger" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="multiport"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[-60.0, -160.0]">
            </property>
            <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
            </property>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </port>
        <port name="dropEvent" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[570.0, -150.0]">
            </property>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </port>
        <entity name="CurrentTime" class="ptolemy.actor.lib.CurrentTime">
            <doc>Output the current time.</doc>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[180.0, -160.0]">
            </property>
        </entity>
        <entity name="Uniform Velocity" class="ptolemy.actor.lib.Uniform">
            <property name="upperBound" class="ptolemy.actor.parameters.PortParameter" value="5.0">
            </property>
            <doc>Create a sequence of uniformly distributed random numbers</doc>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[190.0, -80.0]">
            </property>
        </entity>
        <entity name="RecordAssembler" class="ptolemy.actor.lib.RecordAssembler">
            <property name="_location" class="ptolemy.kernel.util.Location" value="[330.0, -170.0]">
            </property>
            <port name="t0" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <port name="initialVelocity" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
        </entity>
        <entity name="Generate Next Drop" class="ptolemy.actor.TypedCompositeActor">
            <property name="_location" class="ptolemy.kernel.util.Location" value="[450.0, -95.0]">
            </property>
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={1546, 249, 995, 457}, maximized=false}">
            </property>
            <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[780, 350]">
            </property>
            <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0">
            </property>
            <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{700.4870580808083, -17.4992897727273}">
            </property>
            <port name="dropEvent" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[345.0, -65.0]">
                </property>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <port name="nextDrop" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[900.0, -65.0]">
                </property>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <entity name="Ball Kinematics" class="Ball Kinematics">
                <property name="_location" class="ptolemy.kernel.util.Location" value="{460.0, -65.0}">
                </property>
            </entity>
            <entity name="VariableDelay" class="ptolemy.domains.de.lib.VariableDelay">
                <property name="_location" class="ptolemy.kernel.util.Location" value="[810.0, -65.0]">
                </property>
                <port name="input" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                </port>
                <port name="delay" class="ptolemy.actor.parameters.ParameterPort">
                    <property name="input"/>
                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                </port>
            </entity>
            <entity name="Const" class="ptolemy.actor.lib.Const">
                <property name="value" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <doc>Create a constant sequence.</doc>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[685.0, -75.0]">
                </property>
                <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </entity>
            <entity name="AddSubtract" class="ptolemy.actor.lib.AddSubtract">
                <property name="_location" class="ptolemy.kernel.util.Location" value="[735.0, -20.0]">
                </property>
                <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </entity>
            <entity name="Const2" class="ptolemy.actor.lib.Const">
                <property name="value" class="ptolemy.data.expr.Parameter" value="1.0">
                </property>
                <doc>Create a constant sequence.</doc>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{615.0, -30.0}">
                </property>
                <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </entity>
            <entity name="CurrentTime" class="ptolemy.actor.lib.CurrentTime">
                <doc>Output the current time.</doc>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[615.0, 20.0]">
                </property>
            </entity>
            <entity name="Display Events" class="ptolemy.actor.TypedCompositeActor">
                <property name="_location" class="ptolemy.kernel.util.Location" value="[640.0, -150.0]">
                </property>
                <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={369, 112, 996, 732}, maximized=false}">
                </property>
                <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[781, 625]">
                </property>
                <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0">
                </property>
                <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{382.4272411616162, -24.0628156565656}">
                </property>
                <port name="dropEvent" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[10.0, -190.0]">
                    </property>
                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                </port>
                <port name="impactTime" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[10.0, -60.0]">
                    </property>
                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                </port>
                <port name="impactVelocity" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[10.0, -105.0]">
                    </property>
                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                </port>
                <entity name="Display" class="ptolemy.actor.lib.gui.Display">
                    <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={1879, 616, 633, 231}, maximized=false}">
                    </property>
                    <property name="_paneSize" class="ptolemy.actor.gui.SizeAttribute" value="[625, 183]">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[615.0, -175.0]">
                    </property>
                    <port name="input" class="ptolemy.actor.TypedIOPort">
                        <property name="input"/>
                        <property name="multiport"/>
                        <property name="minDelay" class="ptolemy.data.expr.Parameter" value="{Infinity}">
                        </property>
                    </port>
                </entity>
                <entity name="AddSubtract" class="ptolemy.actor.lib.AddSubtract">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[510.0, -175.0]">
                    </property>
                    <port name="plus" class="ptolemy.actor.TypedIOPort">
                        <property name="input"/>
                        <property name="multiport"/>
                        <property name="minDelay" class="ptolemy.data.expr.Parameter" value="{0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0}">
                        </property>
                    </port>
                </entity>
                <entity name="StringConst" class="ptolemy.actor.lib.StringConst">
                    <property name="value" class="ptolemy.data.expr.Parameter" value="t0=">
                    </property>
                    <doc>Create a constant sequence with a string value.</doc>
                    <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                        <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                        </property>
                        <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="80">
                        </property>
                        <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                        </property>
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[245.0, -220.0]">
                    </property>
                    <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                    <port name="trigger" class="ptolemy.actor.TypedIOPort">
                        <property name="input"/>
                        <property name="multiport"/>
                        <property name="minDelay" class="ptolemy.data.expr.Parameter" value="{0.0}">
                        </property>
                    </port>
                </entity>
                <entity name="StringConst2" class="ptolemy.actor.lib.StringConst">
                    <property name="value" class="ptolemy.data.expr.Parameter" value=" v0=">
                    </property>
                    <doc>Create a constant sequence with a string value.</doc>
                    <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                        <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                        </property>
                        <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="80">
                        </property>
                        <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                        </property>
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{245.0, -175.0}">
                    </property>
                    <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                    <port name="trigger" class="ptolemy.actor.TypedIOPort">
                        <property name="input"/>
                        <property name="multiport"/>
                        <property name="minDelay" class="ptolemy.data.expr.Parameter" value="{0.0}">
                        </property>
                    </port>
                </entity>
                <entity name="StringConst4" class="ptolemy.actor.lib.StringConst">
                    <property name="value" class="ptolemy.data.expr.Parameter" value=" tI=">
                    </property>
                    <doc>Create a constant sequence with a string value.</doc>
                    <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                        <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                        </property>
                        <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="80">
                        </property>
                        <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                        </property>
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[245.0, -85.0]">
                    </property>
                    <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                    <port name="trigger" class="ptolemy.actor.TypedIOPort">
                        <property name="input"/>
                        <property name="multiport"/>
                        <property name="minDelay" class="ptolemy.data.expr.Parameter" value="{0.0}">
                        </property>
                    </port>
                </entity>
                <entity name="StringConst5" class="ptolemy.actor.lib.StringConst">
                    <property name="value" class="ptolemy.data.expr.Parameter" value=" vF=">
                    </property>
                    <doc>Create a constant sequence with a string value.</doc>
                    <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                        <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                        </property>
                        <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="80">
                        </property>
                        <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                        </property>
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[250.0, -135.0]">
                    </property>
                    <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                    <port name="trigger" class="ptolemy.actor.TypedIOPort">
                        <property name="input"/>
                        <property name="multiport"/>
                        <property name="minDelay" class="ptolemy.data.expr.Parameter" value="{0.0}">
                        </property>
                    </port>
                </entity>
                <entity name="RecordDisassembler" class="ptolemy.actor.lib.RecordDisassembler">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[110.0, -210.0]">
                    </property>
                    <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                    <port name="input" class="ptolemy.actor.TypedIOPort">
                        <property name="input"/>
                        <property name="minDelay" class="ptolemy.data.expr.Parameter" value="{0.0}">
                        </property>
                    </port>
                    <port name="t0" class="ptolemy.actor.TypedIOPort">
                        <property name="output"/>
                        <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                        </property>
                    </port>
                    <port name="initialVelocity" class="ptolemy.actor.TypedIOPort">
                        <property name="output"/>
                        <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                        </property>
                    </port>
                </entity>
                <relation name="relation" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                    <vertex name="vertex1" value="[210.0, -200.0]">
                    </vertex>
                </relation>
                <relation name="relation8" class="ptolemy.actor.TypedIORelation">
                    <vertex name="vertex1" value="[210.0, -150.0]">
                    </vertex>
                </relation>
                <relation name="relation11" class="ptolemy.actor.TypedIORelation">
                    <vertex name="vertex1" value="[210.0, -60.0]">
                    </vertex>
                </relation>
                <relation name="relation14" class="ptolemy.actor.TypedIORelation">
                    <vertex name="vertex1" value="[210.0, -105.0]">
                    </vertex>
                </relation>
                <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation6" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation7" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation9" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation4" class="ptolemy.actor.TypedIORelation">
                </relation>
                <link port="dropEvent" relation="relation4"/>
                <link port="impactTime" relation="relation11"/>
                <link port="impactVelocity" relation="relation14"/>
                <link port="Display.input" relation="relation"/>
                <link port="AddSubtract.plus" relation="relation2"/>
                <link port="AddSubtract.plus" relation="relation3"/>
                <link port="AddSubtract.plus" relation="relation6"/>
                <link port="AddSubtract.plus" relation="relation8"/>
                <link port="AddSubtract.plus" relation="relation7"/>
                <link port="AddSubtract.plus" relation="relation14"/>
                <link port="AddSubtract.plus" relation="relation9"/>
                <link port="AddSubtract.plus" relation="relation11"/>
                <link port="AddSubtract.output" relation="relation"/>
                <link port="StringConst.output" relation="relation2"/>
                <link port="StringConst.trigger" relation="relation3"/>
                <link port="StringConst2.output" relation="relation6"/>
                <link port="StringConst2.trigger" relation="relation8"/>
                <link port="StringConst4.output" relation="relation9"/>
                <link port="StringConst4.trigger" relation="relation11"/>
                <link port="StringConst5.output" relation="relation7"/>
                <link port="StringConst5.trigger" relation="relation14"/>
                <link port="RecordDisassembler.input" relation="relation4"/>
                <link port="RecordDisassembler.t0" relation="relation3"/>
                <link port="RecordDisassembler.initialVelocity" relation="relation8"/>
            </entity>
            <relation name="relation8" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                </property>
                <vertex name="vertex1" value="[580.0, -75.0]">
                </vertex>
            </relation>
            <relation name="relation9" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation4" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation6" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                </property>
                <vertex name="vertex1" value="[395.0, -160.0]">
                </vertex>
            </relation>
            <relation name="relation3" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation5" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="dropEvent" relation="relation2"/>
            <link port="nextDrop" relation="relation6"/>
            <link port="Ball Kinematics.dropEvent" relation="relation2"/>
            <link port="Ball Kinematics.impactTime" relation="relation8"/>
            <link port="Ball Kinematics.impactVelocity" relation="relation5"/>
            <link port="VariableDelay.input" relation="relation"/>
            <link port="VariableDelay.output" relation="relation6"/>
            <link port="VariableDelay.delay" relation="relation4"/>
            <link port="Const.output" relation="relation"/>
            <link port="Const.trigger" relation="relation8"/>
            <link port="AddSubtract.plus" relation="relation8"/>
            <link port="AddSubtract.plus" relation="relation3"/>
            <link port="AddSubtract.minus" relation="relation9"/>
            <link port="AddSubtract.output" relation="relation4"/>
            <link port="Const2.output" relation="relation3"/>
            <link port="Const2.trigger" relation="relation8"/>
            <link port="CurrentTime.output" relation="relation9"/>
            <link port="CurrentTime.trigger" relation="relation8"/>
            <link port="Display Events.dropEvent" relation="relation2"/>
            <link port="Display Events.impactTime" relation="relation8"/>
            <link port="Display Events.impactVelocity" relation="relation5"/>
        </entity>
        <relation name="relation7" class="ptolemy.actor.TypedIORelation">
            <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
            </property>
            <vertex name="vertex1" value="[110.0, -160.0]">
            </vertex>
        </relation>
        <relation name="relation6" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation2" class="ptolemy.actor.TypedIORelation">
            <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
            </property>
            <vertex name="vertex1" value="[365.0, -150.0]">
            </vertex>
        </relation>
        <relation name="relation3" class="ptolemy.actor.TypedIORelation">
        </relation>
        <link port="nextDrop" relation="relation3"/>
        <link port="trigger" relation="relation7"/>
        <link port="dropEvent" relation="relation2"/>
        <link port="CurrentTime.output" relation="relation"/>
        <link port="CurrentTime.trigger" relation="relation7"/>
        <link port="Uniform Velocity.output" relation="relation6"/>
        <link port="Uniform Velocity.trigger" relation="relation7"/>
        <link port="RecordAssembler.output" relation="relation2"/>
        <link port="RecordAssembler.t0" relation="relation"/>
        <link port="RecordAssembler.initialVelocity" relation="relation6"/>
        <link port="Generate Next Drop.dropEvent" relation="relation2"/>
        <link port="Generate Next Drop.nextDrop" relation="relation3"/>
    </entity>
    <entity name="SingleEvent" class="ptolemy.domains.de.lib.SingleEvent">
        <property name="time" class="ptolemy.data.expr.Parameter" value="0.0">
        </property>
        <property name="value" class="ptolemy.data.expr.Parameter" value="0.0">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[-150.0, 445.0]">
        </property>
    </entity>
    <entity name="Controller" class="ptolemy.actor.TypedCompositeActor">
        <property name="_location" class="ptolemy.kernel.util.Location" value="{220.0, 465.0}">
        </property>
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={137, 225, 1143, 595}, maximized=false}">
        </property>
        <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[928, 488]">
        </property>
        <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0">
        </property>
        <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{500.3431186868687, -99.3124210858587}">
        </property>
        <property name="Annotation" class="ptolemy.vergil.kernel.attributes.TextAttribute">
            <property name="text" class="ptolemy.kernel.util.StringAttribute" value="When a ball drop is detected (an event is present on the dropEvent port), record the initial time&#10;and velocity of the ball and determine when the ball will impact the disc. These values are stored&#10;in registers and used as controller parameters.&#10;&#10;When disc state changes, the servo encoder receives a tick event. These events are frequent and&#10;pseudo-periodic, and are the driving signal of the controller. If a ball is in the air, the Disc&#10;Control actor adjusts the servo control signal in order to align the disc door at the time of impact.&#10;If no ball is in the air, the Disc Control actor adjusts the disc rate to its default value.&#10;&#10;It is important to note that the encoder signal directly sets the controller rate. If a high-&#10;precision controller is used (more ticks per rotation), or the default disc rate is high, then&#10;the controller will operate at a higher frequency.">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[245.0, -290.0]">
            </property>
        </property>
        <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
            <property name="_location" class="ptolemy.kernel.util.Location" value="[165.0, -265.0]">
            </property>
        </property>
        <port name="dropEvent" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[115.0, 15.0]">
            </property>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </port>
        <port name="encoderTick" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[115.0, 90.0]">
            </property>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </port>
        <port name="controlSignal" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[770.0, 25.0]">
            </property>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </port>
        <port name="angleError" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[580.0, 75.0]">
            </property>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </port>
        <port name="rateError" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[580.0, 110.0]">
            </property>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </port>
        <port name="discState" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[580.0, 155.0]">
            </property>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </port>
        <entity name="Disc Kinematics" class="ptolemy.actor.TypedCompositeActor">
            <property name="_location" class="ptolemy.kernel.util.Location" value="{450.0, 15.0}">
            </property>
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={172, 412, 1108, 457}, maximized=false}">
            </property>
            <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[893, 268]">
            </property>
            <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0">
            </property>
            <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{256.4303977272726, 148.3399621212121}">
            </property>
            <property name="Annotation" class="ptolemy.vergil.kernel.attributes.TextAttribute">
                <property name="text" class="ptolemy.kernel.util.StringAttribute" value="Prior to impact: output the projected angle of the disc at impact. The desired angle of the disc is zero degrees.&#10;Because angle is the variable we wish to control, no rate error is output.&#10;&#10;After impact: we wish to control rate, which is fixed at a default rate. No angle error is output.">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[-160.0, -60.0]">
                </property>
            </property>
            <port name="impactTime" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{-135.0, 90.0}">
                </property>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <port name="discState" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[-135.0, 180.0]">
                </property>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <port name="angleError" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[565.0, 90.0]">
                </property>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <port name="rateError" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[565.0, 190.0]">
                </property>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <entity name="Time to Impact" class="ptolemy.actor.TypedCompositeActor">
                <property name="_location" class="ptolemy.kernel.util.Location" value="[35.0, 90.0]">
                </property>
                <property name="Annotation" class="ptolemy.vergil.kernel.attributes.TextAttribute">
                    <property name="text" class="ptolemy.kernel.util.StringAttribute" value="Return the physical time until impact, or zero if impact has occured.">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{45.0, 125.0}">
                    </property>
                </property>
                <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={312, 196, 815, 507}, maximized=false}">
                </property>
                <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[600, 400]">
                </property>
                <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0">
                </property>
                <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{300.0, 200.0}">
                </property>
                <port name="impactTime" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="false">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[60.0, 200.0]">
                    </property>
                </port>
                <port name="timeToImpact" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="false">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[530.5, 200.0]">
                    </property>
                </port>
                <entity name="AddSubtract" class="ptolemy.actor.lib.AddSubtract">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[315.5, 210.0]">
                    </property>
                    <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                    <port name="plus" class="ptolemy.actor.TypedIOPort">
                        <property name="input"/>
                        <property name="multiport"/>
                        <property name="minDelay" class="ptolemy.data.expr.Parameter" value="{0.0}">
                        </property>
                    </port>
                    <port name="minus" class="ptolemy.actor.TypedIOPort">
                        <property name="input"/>
                        <property name="multiport"/>
                        <property name="minDelay" class="ptolemy.data.expr.Parameter" value="{0.0}">
                        </property>
                    </port>
                </entity>
                <entity name="Maximum" class="ptolemy.actor.lib.Maximum">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[455.5, 210.0]">
                    </property>
                    <port name="input" class="ptolemy.actor.TypedIOPort">
                        <property name="input"/>
                        <property name="multiport"/>
                        <property name="minDelay" class="ptolemy.data.expr.Parameter" value="{0.0, 0.0}">
                        </property>
                    </port>
                </entity>
                <entity name="Const" class="ptolemy.actor.lib.Const">
                    <property name="value" class="ptolemy.data.expr.Parameter" value="0">
                    </property>
                    <doc>Create a constant sequence.</doc>
                    <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                        <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                        </property>
                        <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                        </property>
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{385.0, 190.0}">
                    </property>
                    <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                    <port name="trigger" class="ptolemy.actor.TypedIOPort">
                        <property name="input"/>
                        <property name="multiport"/>
                        <property name="minDelay" class="ptolemy.data.expr.Parameter" value="{0.0}">
                        </property>
                    </port>
                </entity>
                <entity name="CurrentTime" class="ptolemy.actor.lib.CurrentTime">
                    <doc>Output the current time.</doc>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{180, 250}">
                    </property>
                </entity>
                <relation name="relation" class="ptolemy.actor.TypedIORelation">
                    <vertex name="vertex1" value="[110.0, 200.0]">
                    </vertex>
                </relation>
                <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation5" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                    </property>
                    <vertex name="vertex1" value="[355.5, 210.0]">
                    </vertex>
                </relation>
                <relation name="relation4" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                </relation>
                <link port="impactTime" relation="relation"/>
                <link port="timeToImpact" relation="relation4"/>
                <link port="AddSubtract.plus" relation="relation"/>
                <link port="AddSubtract.minus" relation="relation3"/>
                <link port="AddSubtract.output" relation="relation5"/>
                <link port="Maximum.input" relation="relation2"/>
                <link port="Maximum.input" relation="relation5"/>
                <link port="Maximum.maximumValue" relation="relation4"/>
                <link port="Const.output" relation="relation2"/>
                <link port="Const.trigger" relation="relation5"/>
                <link port="CurrentTime.output" relation="relation3"/>
                <link port="CurrentTime.trigger" relation="relation"/>
            </entity>
            <entity name="Register" class="ptolemy.domains.de.lib.Register">
                <property name="initialValue" class="ptolemy.data.expr.Parameter" value="0.0">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[-55.0, 90.0]">
                </property>
                <property name="_highlightColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 1.0, 1.0, 1.0}">
                </property>
                <port name="input" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="multiport"/>
                    <property name="minDelay" class="ptolemy.data.expr.Parameter" value="{0.0}">
                    </property>
                </port>
                <port name="trigger" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="minDelay" class="ptolemy.data.expr.Parameter" value="{0.0}">
                    </property>
                </port>
            </entity>
            <entity name="Angle at Impact" class="ptolemy.actor.TypedCompositeActor">
                <property name="_location" class="ptolemy.kernel.util.Location" value="[435.0, 90.0]">
                </property>
                <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={230, 134, 1032, 472}, maximized=false}">
                </property>
                <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[817, 365]">
                </property>
                <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0">
                </property>
                <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{393.4867424242424, 303.9933712121212}">
                </property>
                <property name="Annotation" class="ptolemy.vergil.kernel.attributes.TextAttribute">
                    <property name="text" class="ptolemy.kernel.util.StringAttribute" value="Given the current disc state, determine the angle of the disc at the time of impact.">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[5.0, 160.0]">
                    </property>
                </property>
                <port name="timeToImpact" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[20.0, 280.0]">
                    </property>
                </port>
                <port name="discState" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[20.0, 230.0]">
                    </property>
                </port>
                <port name="angleAtImpact" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[495.0, 235.0]">
                    </property>
                </port>
                <entity name="MultiplyDivide" class="ptolemy.actor.lib.MultiplyDivide">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[200.0, 265.0]">
                    </property>
                    <port name="multiply" class="ptolemy.actor.TypedIOPort">
                        <property name="input"/>
                        <property name="multiport"/>
                        <property name="minDelay" class="ptolemy.data.expr.Parameter" value="{0.0, 0.0}">
                        </property>
                    </port>
                </entity>
                <entity name="RecordDisassembler" class="ptolemy.actor.lib.RecordDisassembler">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[100.0, 210.0]">
                    </property>
                    <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                    <port name="input" class="ptolemy.actor.TypedIOPort">
                        <property name="input"/>
                        <property name="minDelay" class="ptolemy.data.expr.Parameter" value="{0.0}">
                        </property>
                    </port>
                    <port name="discAngle" class="ptolemy.actor.TypedIOPort">
                        <property name="output"/>
                        <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                        </property>
                    </port>
                    <port name="discRate" class="ptolemy.actor.TypedIOPort">
                        <property name="output"/>
                        <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                        </property>
                    </port>
                </entity>
                <entity name="AddSubtract" class="ptolemy.actor.lib.AddSubtract">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[325.0, 235.0]">
                    </property>
                    <port name="plus" class="ptolemy.actor.TypedIOPort">
                        <property name="input"/>
                        <property name="multiport"/>
                        <property name="minDelay" class="ptolemy.data.expr.Parameter" value="{0.0, 0.0}">
                        </property>
                    </port>
                </entity>
                <entity name="Remainder" class="ptolemy.actor.lib.Remainder">
                    <property name="divisor" class="ptolemy.data.expr.Parameter" value="encoderTicksPerRevolution">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[415.0, 235.0]">
                    </property>
                    <port name="input" class="ptolemy.actor.TypedIOPort">
                        <property name="input"/>
                        <property name="minDelay" class="ptolemy.data.expr.Parameter" value="{0.0}">
                        </property>
                    </port>
                </entity>
                <relation name="relation" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation5" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation6" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation7" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation4" class="ptolemy.actor.TypedIORelation">
                </relation>
                <link port="timeToImpact" relation="relation6"/>
                <link port="discState" relation="relation"/>
                <link port="angleAtImpact" relation="relation5"/>
                <link port="MultiplyDivide.multiply" relation="relation2"/>
                <link port="MultiplyDivide.multiply" relation="relation6"/>
                <link port="MultiplyDivide.output" relation="relation4"/>
                <link port="RecordDisassembler.input" relation="relation"/>
                <link port="RecordDisassembler.discAngle" relation="relation7"/>
                <link port="RecordDisassembler.discRate" relation="relation2"/>
                <link port="AddSubtract.plus" relation="relation7"/>
                <link port="AddSubtract.plus" relation="relation4"/>
                <link port="AddSubtract.output" relation="relation3"/>
                <link port="Remainder.input" relation="relation3"/>
                <link port="Remainder.output" relation="relation5"/>
            </entity>
            <entity name="Rate Error" class="ptolemy.actor.TypedCompositeActor">
                <property name="_location" class="ptolemy.kernel.util.Location" value="[435.0, 190.0]">
                </property>
                <port name="discState" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-265.0, 170.0]">
                    </property>
                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                </port>
                <port name="rateError" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[210.0, 190.0]">
                    </property>
                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                </port>
                <entity name="RecordDisassembler" class="ptolemy.actor.lib.RecordDisassembler">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-200.0, 150.0]">
                    </property>
                    <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                    <port name="input" class="ptolemy.actor.TypedIOPort">
                        <property name="input"/>
                        <property name="minDelay" class="ptolemy.data.expr.Parameter" value="{0.0}">
                        </property>
                    </port>
                    <port name="discAngle" class="ptolemy.actor.TypedIOPort">
                        <property name="output"/>
                        <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                        </property>
                    </port>
                    <port name="discRate" class="ptolemy.actor.TypedIOPort">
                        <property name="output"/>
                        <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                        </property>
                    </port>
                </entity>
                <entity name="Default Rate" class="ptolemy.actor.lib.Const">
                    <property name="value" class="ptolemy.data.expr.Parameter" value="defaultDiscRate">
                    </property>
                    <doc>Create a constant sequence.</doc>
                    <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                        <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                        </property>
                        <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                        </property>
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-70.0, 200.0]">
                    </property>
                    <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                    <port name="trigger" class="ptolemy.actor.TypedIOPort">
                        <property name="input"/>
                        <property name="multiport"/>
                        <property name="minDelay" class="ptolemy.data.expr.Parameter" value="{0.0}">
                        </property>
                    </port>
                </entity>
                <entity name="AddSubtract" class="ptolemy.actor.lib.AddSubtract">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[120.0, 190.0]">
                    </property>
                    <port name="plus" class="ptolemy.actor.TypedIOPort">
                        <property name="input"/>
                        <property name="multiport"/>
                        <property name="minDelay" class="ptolemy.data.expr.Parameter" value="{0.0}">
                        </property>
                    </port>
                    <port name="minus" class="ptolemy.actor.TypedIOPort">
                        <property name="input"/>
                        <property name="multiport"/>
                        <property name="minDelay" class="ptolemy.data.expr.Parameter" value="{0.0}">
                        </property>
                    </port>
                </entity>
                <relation name="relation" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation4" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                    </property>
                    <vertex name="vertex1" value="[-140.0, 180.0]">
                    </vertex>
                </relation>
                <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                </relation>
                <link port="discState" relation="relation"/>
                <link port="rateError" relation="relation2"/>
                <link port="RecordDisassembler.input" relation="relation"/>
                <link port="RecordDisassembler.discRate" relation="relation4"/>
                <link port="Default Rate.output" relation="relation3"/>
                <link port="Default Rate.trigger" relation="relation4"/>
                <link port="AddSubtract.plus" relation="relation4"/>
                <link port="AddSubtract.minus" relation="relation3"/>
                <link port="AddSubtract.output" relation="relation2"/>
            </entity>
            <entity name="BooleanSwitch" class="ptolemy.actor.lib.BooleanSwitch">
                <property name="_location" class="ptolemy.kernel.util.Location" value="[235.0, 90.0]">
                </property>
                <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <port name="input" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="multiport"/>
                    <property name="minDelay" class="ptolemy.data.expr.Parameter" value="{0.0}">
                    </property>
                </port>
                <port name="control" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="minDelay" class="ptolemy.data.expr.Parameter" value="{0.0}">
                    </property>
                </port>
            </entity>
            <entity name="Comparator" class="ptolemy.actor.lib.logic.Comparator">
                <property name="comparison" class="ptolemy.kernel.util.StringAttribute" value="&gt;">
                    <property name="style" class="ptolemy.actor.gui.style.ChoiceStyle">
                        <property name="gt" class="ptolemy.kernel.util.StringAttribute" value="&gt;">
                        </property>
                        <property name="ge" class="ptolemy.kernel.util.StringAttribute" value="&gt;=">
                        </property>
                        <property name="lt" class="ptolemy.kernel.util.StringAttribute" value="&lt;">
                        </property>
                        <property name="le" class="ptolemy.kernel.util.StringAttribute" value="&lt;=">
                        </property>
                        <property name="eq" class="ptolemy.kernel.util.StringAttribute" value="==">
                        </property>
                    </property>
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="comparison">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[180.0, 130.0]">
                </property>
                <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <port name="left" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="minDelay" class="ptolemy.data.expr.Parameter" value="{0.0}">
                    </property>
                </port>
                <port name="right" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="minDelay" class="ptolemy.data.expr.Parameter" value="{0.0}">
                    </property>
                </port>
            </entity>
            <entity name="Const" class="ptolemy.actor.lib.Const">
                <property name="value" class="ptolemy.data.expr.Parameter" value="0">
                </property>
                <doc>Create a constant sequence.</doc>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[115.0, 140.0]">
                </property>
                <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <port name="trigger" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="multiport"/>
                    <property name="minDelay" class="ptolemy.data.expr.Parameter" value="{0.0}">
                    </property>
                </port>
            </entity>
            <entity name="BooleanSwitch2" class="ptolemy.actor.lib.BooleanSwitch">
                <property name="_location" class="ptolemy.kernel.util.Location" value="[270.0, 180.0]">
                </property>
                <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <port name="input" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="multiport"/>
                    <property name="minDelay" class="ptolemy.data.expr.Parameter" value="{0.0}">
                    </property>
                </port>
                <port name="control" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="minDelay" class="ptolemy.data.expr.Parameter" value="{0.0}">
                    </property>
                </port>
            </entity>
            <entity name="Discard" class="ptolemy.actor.lib.Discard">
                <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[315.0, 130.0]">
                </property>
                <port name="input" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="multiport"/>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="NORTH">
                    </property>
                    <property name="minDelay" class="ptolemy.data.expr.Parameter" value="{Infinity}">
                    </property>
                </port>
            </entity>
            <entity name="timeToImpact" class="ptolemy.actor.lib.gui.TimedPlotter">
                <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={1876, 18, 440, 292}, maximized=false}">
                </property>
                <property name="_plotSize" class="ptolemy.actor.gui.SizeAttribute" value="[432, 244]">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[170.90625, 61.875]">
                </property>
                <port name="input" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="multiport"/>
                    <property name="minDelay" class="ptolemy.data.expr.Parameter" value="{Infinity}">
                    </property>
                </port>
                <configure>
<?plotml <!DOCTYPE plot PUBLIC "-//UC Berkeley//DTD PlotML 1//EN"
"http://ptolemy.eecs.berkeley.edu/xml/dtd/PlotML_1.dtd">
<plot>
<title>timeToImpact</title>
<xLabel>time (s)</xLabel>
<yLabel>time to impact (s)</yLabel>
<xRange min="0.0" max="2.6614929114"/>
<yRange min="0.0" max="1.1703370473090018"/>
</plot>?>
                </configure>
            </entity>
            <relation name="relation7" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="[-65.0, 180.0]">
                </vertex>
            </relation>
            <relation name="relation3" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation2" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation5" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                </property>
                <vertex name="vertex1" value="[85.0, 90.0]">
                </vertex>
            </relation>
            <relation name="relation6" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation8" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                </property>
                <vertex name="vertex1" value="{235.0, 130.0}">
                </vertex>
            </relation>
            <relation name="relation4" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation9" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation10" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation11" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation12" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="impactTime" relation="relation3"/>
            <link port="discState" relation="relation7"/>
            <link port="angleError" relation="relation11"/>
            <link port="rateError" relation="relation12"/>
            <link port="Time to Impact.impactTime" relation="relation"/>
            <link port="Time to Impact.timeToImpact" relation="relation5"/>
            <link port="Register.input" relation="relation3"/>
            <link port="Register.output" relation="relation"/>
            <link port="Register.trigger" relation="relation7"/>
            <link port="Angle at Impact.timeToImpact" relation="relation6"/>
            <link port="Angle at Impact.discState" relation="relation9"/>
            <link port="Angle at Impact.angleAtImpact" relation="relation11"/>
            <link port="Rate Error.discState" relation="relation10"/>
            <link port="Rate Error.rateError" relation="relation12"/>
            <link port="BooleanSwitch.input" relation="relation5"/>
            <link port="BooleanSwitch.control" relation="relation8"/>
            <link port="BooleanSwitch.trueOutput" relation="relation6"/>
            <link port="BooleanSwitch.falseOutput" relation="relation4"/>
            <link port="Comparator.left" relation="relation5"/>
            <link port="Comparator.right" relation="relation2"/>
            <link port="Comparator.output" relation="relation8"/>
            <link port="Const.output" relation="relation2"/>
            <link port="Const.trigger" relation="relation5"/>
            <link port="BooleanSwitch2.input" relation="relation7"/>
            <link port="BooleanSwitch2.control" relation="relation8"/>
            <link port="BooleanSwitch2.trueOutput" relation="relation9"/>
            <link port="BooleanSwitch2.falseOutput" relation="relation10"/>
            <link port="Discard.input" relation="relation4"/>
            <link port="timeToImpact.input" relation="relation5"/>
        </entity>
        <entity name="Decoder" class="ptolemy.actor.TypedCompositeActor">
            <property name="_location" class="ptolemy.kernel.util.Location" value="{260.0, 100.0}">
            </property>
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={170, 213, 1097, 484}, maximized=false}">
            </property>
            <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[882, 377]">
            </property>
            <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0">
            </property>
            <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{600.9472853535353, 277.3368055555555}">
            </property>
            <property name="Annotation" class="ptolemy.vergil.kernel.attributes.TextAttribute">
                <property name="text" class="ptolemy.kernel.util.StringAttribute" value="Convert the servo encoder signal into the disc rate and angle. Each tick event corresponds to a fractional&#10;degree of rotation; the time delay between these ticks is inversely proportional to the rate.&#10;&#10;The value of the encoder tick reflects the number of ticks recorded for a single encoder event; this value&#10;should be 1, though values of 0 can force controller output without affecting disc state.">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[195.0, 30.0]">
                </property>
            </property>
            <port name="encoderTick" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[215.0, 280.0]">
                </property>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <port name="discState" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[860.0, 300.0]">
                </property>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <port name="reset" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[560.0, 410.0]">
                </property>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <entity name="MultiplyDivide" class="ptolemy.actor.lib.MultiplyDivide">
                <property name="_location" class="ptolemy.kernel.util.Location" value="[630.0, 290.0]">
                </property>
                <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <port name="multiply" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="multiport"/>
                    <property name="minDelay" class="ptolemy.data.expr.Parameter" value="{0.0, 0.0}">
                    </property>
                </port>
                <port name="divide" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="multiport"/>
                    <property name="minDelay" class="ptolemy.data.expr.Parameter" value="{Infinity}">
                    </property>
                </port>
            </entity>
            <entity name="Integrator" class="ptolemy.actor.lib.Accumulator">
                <property name="init" class="ptolemy.data.expr.Parameter" value="0.0">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[635.0, 380.0]">
                </property>
                <port name="input" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="multiport"/>
                    <property name="minDelay" class="ptolemy.data.expr.Parameter" value="{0.0}">
                    </property>
                </port>
            </entity>
            <entity name="RecordAssembler" class="ptolemy.actor.lib.RecordAssembler">
                <property name="_location" class="ptolemy.kernel.util.Location" value="[805.0, 280.0]">
                </property>
                <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <port name="discRate" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                    <property name="minDelay" class="ptolemy.data.expr.Parameter" value="{0.0}">
                    </property>
                </port>
                <port name="discAngle" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                    <property name="minDelay" class="ptolemy.data.expr.Parameter" value="{0.0}">
                    </property>
                </port>
            </entity>
            <entity name="Remainder" class="ptolemy.actor.lib.Remainder">
                <property name="divisor" class="ptolemy.data.expr.Parameter" value="encoderTicksPerRevolution">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[725.0, 380.0]">
                </property>
                <port name="input" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="minDelay" class="ptolemy.data.expr.Parameter" value="{0.0}">
                    </property>
                </port>
            </entity>
            <entity name="Register" class="ptolemy.domains.de.lib.Register">
                <property name="initialValue" class="ptolemy.data.expr.Parameter" value="1">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[425.0, 235.0]">
                </property>
                <property name="_highlightColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 1.0, 1.0, 1.0}">
                </property>
                <port name="input" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="multiport"/>
                    <property name="minDelay" class="ptolemy.data.expr.Parameter" value="{0.0}">
                    </property>
                </port>
                <port name="trigger" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="minDelay" class="ptolemy.data.expr.Parameter" value="{0.0}">
                    </property>
                </port>
            </entity>
            <entity name="AddSubtract" class="ptolemy.actor.lib.AddSubtract">
                <property name="_location" class="ptolemy.kernel.util.Location" value="[505.0, 200.0]">
                </property>
            </entity>
            <entity name="CurrentTime" class="ptolemy.actor.lib.CurrentTime">
                <doc>Output the current time.</doc>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[330.0, 190.0]">
                </property>
            </entity>
            <relation name="relation8" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation2" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation10" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                </property>
                <vertex name="vertex1" value="[280.0, 280.0]">
                </vertex>
            </relation>
            <relation name="relation4" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation6" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                    <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                    </property>
                </property>
                <vertex name="vertex1" value="[390.0, 190.0]">
                </vertex>
            </relation>
            <relation name="relation3" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation5" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation7" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="encoderTick" relation="relation10"/>
            <link port="discState" relation="relation8"/>
            <link port="reset" relation="relation"/>
            <link port="MultiplyDivide.multiply" relation="relation10"/>
            <link port="MultiplyDivide.divide" relation="relation5"/>
            <link port="MultiplyDivide.output" relation="relation7"/>
            <link port="Integrator.input" relation="relation10"/>
            <link port="Integrator.output" relation="relation2"/>
            <link port="Integrator.reset" relation="relation"/>
            <link port="RecordAssembler.output" relation="relation8"/>
            <link port="RecordAssembler.discRate" relation="relation7"/>
            <link port="RecordAssembler.discAngle" relation="relation4"/>
            <link port="Remainder.input" relation="relation2"/>
            <link port="Remainder.output" relation="relation4"/>
            <link port="Register.input" relation="relation6"/>
            <link port="Register.output" relation="relation3"/>
            <link port="Register.trigger" relation="relation6"/>
            <link port="AddSubtract.plus" relation="relation6"/>
            <link port="AddSubtract.minus" relation="relation3"/>
            <link port="AddSubtract.output" relation="relation5"/>
            <link port="CurrentTime.output" relation="relation6"/>
            <link port="CurrentTime.trigger" relation="relation10"/>
        </entity>
        <entity name="Disc Control" class="ptolemy.actor.TypedCompositeActor">
            <property name="_location" class="ptolemy.kernel.util.Location" value="{640.0, 25.0}">
            </property>
            <property name="Annotation" class="ptolemy.vergil.kernel.attributes.TextAttribute">
                <property name="text" class="ptolemy.kernel.util.StringAttribute" value="Simple proportional-integral (PI) control for the disc.&#10;&#10;This controller will respond to angle error events, in which case the angle&#10;at the time of impact is the control variable, and rate error events, in which&#10;case the rate of the disc is the control variable. The control variable not&#10;used will have its accumulator reset.">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[-20.0, 90.0]">
                </property>
            </property>
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={296, 66, 984, 715}, maximized=false}">
            </property>
            <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[769, 608]">
            </property>
            <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0">
            </property>
            <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{327.5675675675676, 339.4054054054054}">
            </property>
            <port name="controlSignal" class="ptolemy.domains.modal.modal.RefinementPort">
                <property name="output"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[375.0, 260.0]">
                </property>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <port name="angleError" class="ptolemy.domains.modal.modal.RefinementPort">
                <property name="input"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[0.0, 310.0]">
                </property>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <port name="rateError" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{0.0, 390.0}">
                </property>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <port name="discState" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[0.0, 240.0]">
                </property>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <class name="PID Controller" extends="ptolemy.actor.TypedCompositeActor">
                <property name="_location" class="ptolemy.kernel.util.Location" value="[345.0, 390.0]">
                </property>
                <property name="Kp" class="ptolemy.data.expr.Parameter" value="1">
                    <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                        <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                        </property>
                    </property>
                    <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                        <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                    </property>
                    <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[85.0, 125.0]">
                    </property>
                </property>
                <property name="Ki" class="ptolemy.data.expr.Parameter" value="0">
                    <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                        <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                        </property>
                    </property>
                    <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                        <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                    </property>
                    <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[85.0, 140.0]">
                    </property>
                </property>
                <property name="Kd" class="ptolemy.data.expr.Parameter" value="0">
                    <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                        <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                        </property>
                    </property>
                    <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                        <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                    </property>
                    <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[85.0, 155.0]">
                    </property>
                </property>
                <port name="error" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[95.0, 225.0]">
                    </property>
                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                </port>
                <port name="reset" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[95.0, 320.0]">
                    </property>
                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                </port>
                <port name="controlSignal" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[630.0, 240.0]">
                    </property>
                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                </port>
                <entity name="Differential" class="ptolemy.actor.lib.Differential">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[265.0, 145.0]">
                    </property>
                </entity>
                <entity name="Accumulator" class="ptolemy.actor.lib.Accumulator">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[265.0, 310.0]">
                    </property>
                </entity>
                <entity name="AddSubtract" class="ptolemy.actor.lib.AddSubtract">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[545.0, 240.0]">
                    </property>
                </entity>
                <entity name="Proportional Scale" class="ptolemy.actor.lib.Scale">
                    <property name="factor" class="ptolemy.data.expr.Parameter" value="Kp">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                        <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
                        </property>
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[375.0, 225.0]">
                    </property>
                </entity>
                <entity name="Differential Scale" class="ptolemy.actor.lib.Scale">
                    <property name="factor" class="ptolemy.data.expr.Parameter" value="Kd">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                        <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
                        </property>
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[375.0, 145.0]">
                    </property>
                </entity>
                <entity name="Integral Scale" class="ptolemy.actor.lib.Scale">
                    <property name="factor" class="ptolemy.data.expr.Parameter" value="Ki">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                        <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
                        </property>
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[375.0, 310.0]">
                    </property>
                </entity>
                <entity name="Const" class="ptolemy.actor.lib.Const">
                    <property name="value" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <doc>Create a constant sequence.</doc>
                    <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                        <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                        </property>
                        <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                        </property>
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[165.0, 320.0]">
                    </property>
                    <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                    <port name="trigger" class="ptolemy.actor.TypedIOPort">
                        <property name="input"/>
                        <property name="multiport"/>
                        <property name="minDelay" class="ptolemy.data.expr.Parameter" value="{0.0}">
                        </property>
                    </port>
                </entity>
                <relation name="relation" class="ptolemy.actor.TypedIORelation">
                    <vertex name="vertex1" value="[185.0, 225.0]">
                    </vertex>
                </relation>
                <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation4" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation5" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation6" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation7" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation8" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation9" class="ptolemy.actor.TypedIORelation">
                </relation>
                <link port="error" relation="relation"/>
                <link port="reset" relation="relation3"/>
                <link port="controlSignal" relation="relation8"/>
                <link port="Differential.input" relation="relation"/>
                <link port="Differential.output" relation="relation2"/>
                <link port="Accumulator.input" relation="relation"/>
                <link port="Accumulator.output" relation="relation4"/>
                <link port="Accumulator.reset" relation="relation9"/>
                <link port="AddSubtract.plus" relation="relation5"/>
                <link port="AddSubtract.plus" relation="relation6"/>
                <link port="AddSubtract.plus" relation="relation7"/>
                <link port="AddSubtract.output" relation="relation8"/>
                <link port="Proportional Scale.input" relation="relation"/>
                <link port="Proportional Scale.output" relation="relation6"/>
                <link port="Differential Scale.input" relation="relation2"/>
                <link port="Differential Scale.output" relation="relation5"/>
                <link port="Integral Scale.input" relation="relation4"/>
                <link port="Integral Scale.output" relation="relation7"/>
                <link port="Const.output" relation="relation9"/>
                <link port="Const.trigger" relation="relation3"/>
            </class>
            <entity name="RecordDisassembler" class="ptolemy.actor.lib.RecordDisassembler">
                <property name="_location" class="ptolemy.kernel.util.Location" value="{130.0, 220.0}">
                </property>
                <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <port name="input" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="minDelay" class="ptolemy.data.expr.Parameter" value="{0.0}">
                    </property>
                </port>
                <port name="discAngle" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                </port>
                <port name="discRate" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                </port>
            </entity>
            <entity name="AddSubtract" class="ptolemy.actor.lib.AddSubtract">
                <property name="_location" class="ptolemy.kernel.util.Location" value="[305.0, 260.0]">
                </property>
                <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <port name="plus" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="multiport"/>
                    <property name="minDelay" class="ptolemy.data.expr.Parameter" value="{0.0}">
                    </property>
                </port>
                <port name="minus" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="multiport"/>
                    <property name="minDelay" class="ptolemy.data.expr.Parameter" value="{0.0, 0.0}">
                    </property>
                </port>
            </entity>
            <entity name="Angle Controller" class="PID Controller">
                <property name="_location" class="ptolemy.kernel.util.Location" value="[145.0, 320.0]">
                </property>
                <property name="Kp" class="ptolemy.data.expr.Parameter" value="250">
                </property>
                <property name="Ki" class="ptolemy.data.expr.Parameter" value="5">
                </property>
                <property name="Kd" class="ptolemy.data.expr.Parameter" value="0">
                </property>
                <entity name="Differential" class="ptolemy.actor.lib.Differential">
                    <port name="input" class="ptolemy.actor.TypedIOPort">
                        <property name="input"/>
                        <property name="minDelay" class="ptolemy.data.expr.Parameter" value="{0.0}">
                        </property>
                    </port>
                </entity>
                <entity name="Accumulator" class="ptolemy.actor.lib.Accumulator">
                    <port name="input" class="ptolemy.actor.TypedIOPort">
                        <property name="input"/>
                        <property name="multiport"/>
                        <property name="minDelay" class="ptolemy.data.expr.Parameter" value="{0.0}">
                        </property>
                    </port>
                    <port name="reset" class="ptolemy.actor.TypedIOPort">
                        <property name="input"/>
                        <property name="multiport"/>
                        <property name="minDelay" class="ptolemy.data.expr.Parameter" value="{0.0}">
                        </property>
                    </port>
                </entity>
                <entity name="AddSubtract" class="ptolemy.actor.lib.AddSubtract">
                    <port name="plus" class="ptolemy.actor.TypedIOPort">
                        <property name="input"/>
                        <property name="multiport"/>
                        <property name="minDelay" class="ptolemy.data.expr.Parameter" value="{0.0, 0.0, 0.0}">
                        </property>
                    </port>
                </entity>
                <entity name="Proportional Scale" class="ptolemy.actor.lib.Scale">
                    <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                        <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
                        </property>
                    </property>
                    <port name="input" class="ptolemy.actor.TypedIOPort">
                        <property name="input"/>
                        <property name="minDelay" class="ptolemy.data.expr.Parameter" value="{0.0}">
                        </property>
                    </port>
                </entity>
                <entity name="Differential Scale" class="ptolemy.actor.lib.Scale">
                    <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                        <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
                        </property>
                    </property>
                    <port name="input" class="ptolemy.actor.TypedIOPort">
                        <property name="input"/>
                        <property name="minDelay" class="ptolemy.data.expr.Parameter" value="{0.0}">
                        </property>
                    </port>
                </entity>
                <entity name="Integral Scale" class="ptolemy.actor.lib.Scale">
                    <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                        <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
                        </property>
                    </property>
                    <port name="input" class="ptolemy.actor.TypedIOPort">
                        <property name="input"/>
                        <property name="minDelay" class="ptolemy.data.expr.Parameter" value="{0.0}">
                        </property>
                    </port>
                </entity>
            </entity>
            <entity name="Rate Controller" class="PID Controller">
                <property name="_location" class="ptolemy.kernel.util.Location" value="[165.0, 400.0]">
                </property>
                <property name="Kp" class="ptolemy.data.expr.Parameter" value="1000">
                </property>
                <property name="Ki" class="ptolemy.data.expr.Parameter" value="10">
                </property>
                <property name="Kd" class="ptolemy.data.expr.Parameter" value="0.25">
                </property>
                <entity name="Differential" class="ptolemy.actor.lib.Differential">
                    <port name="input" class="ptolemy.actor.TypedIOPort">
                        <property name="input"/>
                        <property name="minDelay" class="ptolemy.data.expr.Parameter" value="{0.0}">
                        </property>
                    </port>
                </entity>
                <entity name="Accumulator" class="ptolemy.actor.lib.Accumulator">
                    <port name="input" class="ptolemy.actor.TypedIOPort">
                        <property name="input"/>
                        <property name="multiport"/>
                        <property name="minDelay" class="ptolemy.data.expr.Parameter" value="{0.0}">
                        </property>
                    </port>
                    <port name="reset" class="ptolemy.actor.TypedIOPort">
                        <property name="input"/>
                        <property name="multiport"/>
                        <property name="minDelay" class="ptolemy.data.expr.Parameter" value="{0.0}">
                        </property>
                    </port>
                </entity>
                <entity name="AddSubtract" class="ptolemy.actor.lib.AddSubtract">
                    <port name="plus" class="ptolemy.actor.TypedIOPort">
                        <property name="input"/>
                        <property name="multiport"/>
                        <property name="minDelay" class="ptolemy.data.expr.Parameter" value="{0.0, 0.0, 0.0}">
                        </property>
                    </port>
                </entity>
                <entity name="Proportional Scale" class="ptolemy.actor.lib.Scale">
                    <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                        <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
                        </property>
                    </property>
                    <port name="input" class="ptolemy.actor.TypedIOPort">
                        <property name="input"/>
                        <property name="minDelay" class="ptolemy.data.expr.Parameter" value="{0.0}">
                        </property>
                    </port>
                </entity>
                <entity name="Differential Scale" class="ptolemy.actor.lib.Scale">
                    <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                        <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
                        </property>
                    </property>
                    <port name="input" class="ptolemy.actor.TypedIOPort">
                        <property name="input"/>
                        <property name="minDelay" class="ptolemy.data.expr.Parameter" value="{0.0}">
                        </property>
                    </port>
                </entity>
                <entity name="Integral Scale" class="ptolemy.actor.lib.Scale">
                    <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                        <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
                        </property>
                    </property>
                    <port name="input" class="ptolemy.actor.TypedIOPort">
                        <property name="input"/>
                        <property name="minDelay" class="ptolemy.data.expr.Parameter" value="{0.0}">
                        </property>
                    </port>
                </entity>
            </entity>
            <relation name="relation2" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation13" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                </property>
                <vertex name="vertex1" value="[40.0, 310.0]">
                </vertex>
            </relation>
            <relation name="relation4" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation6" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                </property>
                <vertex name="vertex1" value="[75.0, 390.0]">
                </vertex>
            </relation>
            <relation name="relation12" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation3" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="controlSignal" relation="relation4"/>
            <link port="angleError" relation="relation13"/>
            <link port="rateError" relation="relation6"/>
            <link port="discState" relation="relation12"/>
            <link port="RecordDisassembler.input" relation="relation12"/>
            <link port="RecordDisassembler.discRate" relation="relation2"/>
            <link port="AddSubtract.plus" relation="relation2"/>
            <link port="AddSubtract.minus" relation="relation"/>
            <link port="AddSubtract.minus" relation="relation3"/>
            <link port="AddSubtract.output" relation="relation4"/>
            <link port="Angle Controller.error" relation="relation13"/>
            <link port="Angle Controller.reset" relation="relation6"/>
            <link port="Angle Controller.controlSignal" relation="relation"/>
            <link port="Rate Controller.error" relation="relation6"/>
            <link port="Rate Controller.reset" relation="relation13"/>
            <link port="Rate Controller.controlSignal" relation="relation3"/>
        </entity>
        <entity name="Ball Kinematics" class="Ball Kinematics">
            <property name="_location" class="ptolemy.kernel.util.Location" value="[260.0, 15.0]">
            </property>
            <entity name="MultiplyDivide" class="ptolemy.actor.lib.MultiplyDivide">
                <port name="multiply" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="multiport"/>
                    <property name="minDelay" class="ptolemy.data.expr.Parameter" value="{0.0}">
                    </property>
                </port>
                <port name="divide" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="multiport"/>
                    <property name="minDelay" class="ptolemy.data.expr.Parameter" value="{0.0}">
                    </property>
                </port>
            </entity>
            <entity name="UnaryMathFunction" class="ptolemy.actor.lib.UnaryMathFunction">
                <port name="input" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="minDelay" class="ptolemy.data.expr.Parameter" value="{0.0}">
                    </property>
                </port>
            </entity>
            <entity name="UnaryMathFunction2" class="ptolemy.actor.lib.UnaryMathFunction">
                <port name="input" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="minDelay" class="ptolemy.data.expr.Parameter" value="{0.0}">
                    </property>
                </port>
            </entity>
            <entity name="AddSubtract" class="ptolemy.actor.lib.AddSubtract">
                <port name="plus" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="multiport"/>
                    <property name="minDelay" class="ptolemy.data.expr.Parameter" value="{0.0, 0.0}">
                    </property>
                </port>
            </entity>
            <entity name="AddSubtract2" class="ptolemy.actor.lib.AddSubtract">
                <port name="plus" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="multiport"/>
                    <property name="minDelay" class="ptolemy.data.expr.Parameter" value="{0.0}">
                    </property>
                </port>
                <port name="minus" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="multiport"/>
                    <property name="minDelay" class="ptolemy.data.expr.Parameter" value="{0.0}">
                    </property>
                </port>
            </entity>
            <entity name="AddSubtract3" class="ptolemy.actor.lib.AddSubtract">
                <port name="plus" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="multiport"/>
                    <property name="minDelay" class="ptolemy.data.expr.Parameter" value="{0.0, 0.0}">
                    </property>
                </port>
            </entity>
            <entity name="Const2" class="ptolemy.actor.lib.Const">
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                    </property>
                </property>
                <port name="trigger" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="multiport"/>
                    <property name="minDelay" class="ptolemy.data.expr.Parameter" value="{0.0}">
                    </property>
                </port>
            </entity>
            <entity name="RecordDisassembler" class="ptolemy.actor.lib.RecordDisassembler">
                <port name="input" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="minDelay" class="ptolemy.data.expr.Parameter" value="{0.0}">
                    </property>
                </port>
            </entity>
            <entity name="Const" class="ptolemy.actor.lib.Const">
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                    </property>
                </property>
                <port name="trigger" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="multiport"/>
                    <property name="minDelay" class="ptolemy.data.expr.Parameter" value="{0.0}">
                    </property>
                </port>
            </entity>
        </entity>
        <relation name="relation10" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation7" class="ptolemy.actor.TypedIORelation">
            <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
            </property>
            <vertex name="vertex1" value="{370.0, 100.0}">
            </vertex>
        </relation>
        <relation name="relation5" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation2" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation3" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation6" class="ptolemy.actor.TypedIORelation">
            <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
            </property>
            <vertex name="vertex1" value="[550.0, 15.0]">
            </vertex>
        </relation>
        <relation name="relation" class="ptolemy.actor.TypedIORelation">
            <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
            </property>
            <vertex name="vertex1" value="[535.0, 25.0]">
            </vertex>
        </relation>
        <link port="dropEvent" relation="relation2"/>
        <link port="encoderTick" relation="relation10"/>
        <link port="controlSignal" relation="relation5"/>
        <link port="angleError" relation="relation6"/>
        <link port="rateError" relation="relation"/>
        <link port="discState" relation="relation7"/>
        <link port="Disc Kinematics.impactTime" relation="relation3"/>
        <link port="Disc Kinematics.discState" relation="relation7"/>
        <link port="Disc Kinematics.angleError" relation="relation6"/>
        <link port="Disc Kinematics.rateError" relation="relation"/>
        <link port="Decoder.encoderTick" relation="relation10"/>
        <link port="Decoder.discState" relation="relation7"/>
        <link port="Disc Control.controlSignal" relation="relation5"/>
        <link port="Disc Control.angleError" relation="relation6"/>
        <link port="Disc Control.rateError" relation="relation"/>
        <link port="Disc Control.discState" relation="relation7"/>
        <link port="Ball Kinematics.dropEvent" relation="relation2"/>
        <link port="Ball Kinematics.impactTime" relation="relation3"/>
    </entity>
    <entity name="Merge" class="ptolemy.domains.de.lib.Merge">
        <property name="_location" class="ptolemy.kernel.util.Location" value="[115.0, 540.0]">
        </property>
    </entity>
    <entity name="TimedDelay" class="ptolemy.domains.de.lib.TimedDelay">
        <property name="_location" class="ptolemy.kernel.util.Location" value="[-45.0, 445.0]">
        </property>
    </entity>
    <entity name="System Graph" class="ptolemy.actor.TypedCompositeActor">
        <property name="_location" class="ptolemy.kernel.util.Location" value="[410.0, 500.0]">
        </property>
        <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="false">
        </property>
        <port name="controlSignal" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[60.0, 130.0]">
            </property>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </port>
        <port name="angleError" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[58.0, 205.0]">
            </property>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </port>
        <port name="rateError" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[58.0, 275.0]">
            </property>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </port>
        <port name="discState" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[58.0, 340.0]">
            </property>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </port>
        <entity name="MultiplyDivide2" class="ptolemy.actor.lib.MultiplyDivide">
            <property name="_location" class="ptolemy.kernel.util.Location" value="[478.0, 215.0]">
            </property>
        </entity>
        <entity name="Const2" class="ptolemy.actor.lib.Const">
            <property name="value" class="ptolemy.data.expr.Parameter" value="encoderTicksPerRevolution">
            </property>
            <doc>Create a constant sequence.</doc>
            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                </property>
                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[318.0, 225.0]">
            </property>
            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </entity>
        <entity name="Angle Error" class="ptolemy.actor.lib.gui.TimedPlotter">
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={1877, 308, 440, 312}, maximized=false}">
            </property>
            <property name="_plotSize" class="ptolemy.actor.gui.SizeAttribute" value="[432, 264]">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[588.0, 215.0]">
            </property>
            <configure>
<?plotml <!DOCTYPE plot PUBLIC "-//UC Berkeley//DTD PlotML 1//EN"
"http://ptolemy.eecs.berkeley.edu/xml/dtd/PlotML_1.dtd">
<plot>
<title>Impact Angle Error</title>
<xLabel>time (s)</xLabel>
<yLabel>error (revs)</yLabel>
<xRange min="1.0005716968" max="2.1704028993"/>
<yRange min="-0.4498876346277427" max="0.2611335376888683"/>
</plot>?>
            </configure>
        </entity>
        <entity name="Control Signal" class="ptolemy.actor.lib.gui.TimedPlotter">
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={1441, 19, 438, 289}, maximized=false}">
            </property>
            <property name="_plotSize" class="ptolemy.actor.gui.SizeAttribute" value="[430, 241]">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[585.0, 130.0]">
            </property>
            <configure>
<?plotml <!DOCTYPE plot PUBLIC "-//UC Berkeley//DTD PlotML 1//EN"
"http://ptolemy.eecs.berkeley.edu/xml/dtd/PlotML_1.dtd">
<plot>
<title>Control Signal</title>
<xLabel>time (s)</xLabel>
<yLabel>control signal (V)</yLabel>
<xRange min="0.0" max="2.660805319"/>
<yRange min="-338306.3138947897" max="1454760.0"/>
</plot>?>
            </configure>
        </entity>
        <entity name="Disc Rate" class="ptolemy.actor.lib.gui.TimedPlotter">
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={1441, 306, 438, 306}, maximized=false}">
            </property>
            <property name="_plotSize" class="ptolemy.actor.gui.SizeAttribute" value="[430, 258]">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[583.0, 360.0]">
            </property>
            <configure>
<?plotml <!DOCTYPE plot PUBLIC "-//UC Berkeley//DTD PlotML 1//EN"
"http://ptolemy.eecs.berkeley.edu/xml/dtd/PlotML_1.dtd">
<plot>
<title>Disc Rate</title>
<xLabel>time (s)</xLabel>
<yLabel>rate (rev / s)</yLabel>
<xRange min="0.0" max="2.660805319"/>
<yRange min="-0.0" max="4.904945010562909"/>
</plot>?>
            </configure>
        </entity>
        <entity name="MultiplyDivide" class="ptolemy.actor.lib.MultiplyDivide">
            <property name="_location" class="ptolemy.kernel.util.Location" value="[468.0, 360.0]">
            </property>
        </entity>
        <entity name="Const" class="ptolemy.actor.lib.Const">
            <property name="value" class="ptolemy.data.expr.Parameter" value="encoderTicksPerRevolution">
            </property>
            <doc>Create a constant sequence.</doc>
            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                </property>
                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[318.0, 370.0]">
            </property>
            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </entity>
        <entity name="RecordDisassembler" class="ptolemy.actor.lib.RecordDisassembler">
            <property name="_location" class="ptolemy.kernel.util.Location" value="[158.0, 320.0]">
            </property>
            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <port name="input" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="minDelay" class="ptolemy.data.expr.Parameter" value="{0.0}">
                </property>
            </port>
            <port name="discAngle" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <port name="discRate" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
        </entity>
        <entity name="MultiplyDivide3" class="ptolemy.actor.lib.MultiplyDivide">
            <property name="_location" class="ptolemy.kernel.util.Location" value="[475.0, 285.0]">
            </property>
        </entity>
        <entity name="Const3" class="ptolemy.actor.lib.Const">
            <property name="value" class="ptolemy.data.expr.Parameter" value="encoderTicksPerRevolution">
            </property>
            <doc>Create a constant sequence.</doc>
            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                </property>
                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[315.0, 295.0]">
            </property>
            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </entity>
        <entity name="Rate Error" class="ptolemy.actor.lib.gui.TimedPlotter">
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={1439, 610, 439, 323}, maximized=false}">
            </property>
            <property name="_plotSize" class="ptolemy.actor.gui.SizeAttribute" value="[431, 275]">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[585.0, 285.0]">
            </property>
            <configure>
<?plotml <!DOCTYPE plot PUBLIC "-//UC Berkeley//DTD PlotML 1//EN"
"http://ptolemy.eecs.berkeley.edu/xml/dtd/PlotML_1.dtd">
<plot>
<title>Rate Error</title>
<xLabel>time (s)</xLabel>
<yLabel>error (revs / s)</yLabel>
<xRange min="0.0" max="2.660805319"/>
<yRange min="-4.0" max="0.9049450105629091"/>
</plot>?>
            </configure>
        </entity>
        <relation name="relation4" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation7" class="ptolemy.actor.TypedIORelation">
            <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
            </property>
            <vertex name="vertex1" value="[218.0, 205.0]">
            </vertex>
        </relation>
        <relation name="relation6" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation8" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation2" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation3" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation5" class="ptolemy.actor.TypedIORelation">
            <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
            </property>
            <vertex name="vertex1" value="[218.0, 350.0]">
            </vertex>
        </relation>
        <relation name="relation9" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation11" class="ptolemy.actor.TypedIORelation">
            <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
            </property>
            <vertex name="vertex1" value="[215.0, 275.0]">
            </vertex>
        </relation>
        <relation name="relation10" class="ptolemy.actor.TypedIORelation">
        </relation>
        <link port="controlSignal" relation="relation8"/>
        <link port="angleError" relation="relation7"/>
        <link port="rateError" relation="relation11"/>
        <link port="discState" relation="relation3"/>
        <link port="MultiplyDivide2.multiply" relation="relation7"/>
        <link port="MultiplyDivide2.divide" relation="relation4"/>
        <link port="MultiplyDivide2.output" relation="relation6"/>
        <link port="Const2.output" relation="relation4"/>
        <link port="Const2.trigger" relation="relation7"/>
        <link port="Angle Error.input" relation="relation6"/>
        <link port="Control Signal.input" relation="relation8"/>
        <link port="Disc Rate.input" relation="relation2"/>
        <link port="MultiplyDivide.multiply" relation="relation5"/>
        <link port="MultiplyDivide.divide" relation="relation"/>
        <link port="MultiplyDivide.output" relation="relation2"/>
        <link port="Const.output" relation="relation"/>
        <link port="Const.trigger" relation="relation5"/>
        <link port="RecordDisassembler.input" relation="relation3"/>
        <link port="RecordDisassembler.discRate" relation="relation5"/>
        <link port="MultiplyDivide3.multiply" relation="relation11"/>
        <link port="MultiplyDivide3.divide" relation="relation9"/>
        <link port="MultiplyDivide3.output" relation="relation10"/>
        <link port="Const3.output" relation="relation9"/>
        <link port="Const3.trigger" relation="relation11"/>
        <link port="Rate Error.input" relation="relation10"/>
    </entity>
    <relation name="relation" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation5" class="ptolemy.actor.TypedIORelation">
        <vertex name="vertex1" value="{145.0, 390.0}">
        </vertex>
    </relation>
    <relation name="relation7" class="ptolemy.actor.TypedIORelation">
        <vertex name="vertex1" value="[25.0, 390.0]">
        </vertex>
    </relation>
    <relation name="relation8" class="ptolemy.actor.TypedIORelation">
        <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
        </property>
        <vertex name="vertex1" value="[315.0, 445.0]">
        </vertex>
    </relation>
    <relation name="relation9" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation12" class="ptolemy.actor.TypedIORelation">
        <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
        </property>
        <vertex name="vertex1" value="[-95.0, 540.0]">
        </vertex>
    </relation>
    <relation name="relation6" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation13" class="ptolemy.actor.TypedIORelation">
        <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
            </property>
        </property>
        <vertex name="vertex1" value="[590.0, 575.0]">
        </vertex>
    </relation>
    <relation name="relation3" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation2" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation4" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation10" class="ptolemy.actor.TypedIORelation">
    </relation>
    <link port="Servo Model.controlSignal" relation="relation8"/>
    <link port="Servo Model.encoderSignal" relation="relation13"/>
    <link port="Control Delay.input" relation="relation13"/>
    <link port="Control Delay.output" relation="relation6"/>
    <link port="Drop Sensor.nextDrop" relation="relation5"/>
    <link port="Drop Sensor.trigger" relation="relation7"/>
    <link port="Drop Sensor.trigger" relation="relation3"/>
    <link port="Drop Sensor.dropEvent" relation="relation"/>
    <link port="SingleEvent.output" relation="relation12"/>
    <link port="Controller.dropEvent" relation="relation"/>
    <link port="Controller.encoderTick" relation="relation9"/>
    <link port="Controller.controlSignal" relation="relation8"/>
    <link port="Controller.angleError" relation="relation2"/>
    <link port="Controller.rateError" relation="relation4"/>
    <link port="Controller.discState" relation="relation10"/>
    <link port="Merge.input" relation="relation6"/>
    <link port="Merge.input" relation="relation12"/>
    <link port="Merge.output" relation="relation9"/>
    <link port="TimedDelay.input" relation="relation12"/>
    <link port="TimedDelay.output" relation="relation3"/>
    <link port="System Graph.controlSignal" relation="relation8"/>
    <link port="System Graph.angleError" relation="relation2"/>
    <link port="System Graph.rateError" relation="relation4"/>
    <link port="System Graph.discState" relation="relation10"/>
    <link relation1="relation5" relation2="relation7"/>
</entity>
