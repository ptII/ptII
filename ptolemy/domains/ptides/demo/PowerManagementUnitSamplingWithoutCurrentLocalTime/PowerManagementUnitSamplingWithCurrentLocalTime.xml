<?xml version="1.0" standalone="no"?>
<!DOCTYPE entity PUBLIC "-//UC Berkeley//DTD MoML 1//EN"
    "http://ptolemy.eecs.berkeley.edu/xml/dtd/MoML_1.dtd">
<entity name="PMUsampling-withUTCpps" class="ptolemy.actor.TypedCompositeActor">
    <property name="_createdBy" class="ptolemy.kernel.attributes.VersionAttribute" value="8.1.devel">
    </property>
    <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
        <property name="stopTime" class="ptolemy.data.expr.Parameter" value="1200">
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
            </property>
        </property>
        <property name="synchronizeToRealTime" class="ptolemy.data.expr.Parameter" value="false">
        </property>
        <property name="timeResolution" class="ptolemy.actor.parameters.SharedParameter" value="LSBseconds">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[-85.0, 30.0]">
        </property>
    </property>
    <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={37, 0, 948, 687}, maximized=false}">
    </property>
    <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[733, 570]">
    </property>
    <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="0.8464744154964">
    </property>
    <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{277.1759396114865, 246.8213154560811}">
    </property>
    <property name="Annotation" class="ptolemy.vergil.kernel.attributes.TextAttribute">
        <property name="center" class="ptolemy.data.expr.Parameter" value="true">
        </property>
        <property name="text" class="ptolemy.kernel.util.StringAttribute" value="The PMU component of the power grid emulation project requires sampling at a rate of 80 samples per period&#10;of the grid frequency (60Hz in the US). Furthermore these samples must be synchronous with a UTC clock such&#10;that every 60x80th sample falls on the UTC seconds transition to within +-2.5uS. &#10;&#10;This Ptolemy example explores how to generate such sampling events for designs where these events are NOT&#10;produced outside of the control of the embedded microprocessor (thought to be the common case). For simplicity&#10;this example assumes that the grid frequency is 2Hz (rather than 60) and that 5 samples per grid period &#10;(rather than 80) are required. This is done to make the plots less dense and more readable, and because the&#10;resulting sample interval is 0.1S rather than 1/(60x80) which cannot be exactly represented in binary&#10;representation with an LSB of 1ns (as in IEEE 1588). To further simplify the plots, the UTC clock actor &#10;generates a 1PPS (one pulse per second) event to model a UTC time base with an LSB of 0.01S. &#10;&#10;These frequencies and periods are parameters of the system model.&#10; &#10;The supervisor actor issues three events at times that are parameters of the system.:&#10;-'startup' indicating that the entire system is initialized,&#10;-'pause' indicating that receiving platforms reinitialize (for example due to lost synchronization),&#10;-'resume' indicating that normal operation can resume.&#10; &#10;The PMU actor has two states: 'initialization' and 'running'. Sampling events are to be generated only in &#10;the 'running' state. The 'DiscreteSamples' are produced based on a DiscreteEvent clock actor. The UTCSamples&#10;are produced based on the UTC time base.&#10;&#10;All events are plotted in the top level DE frame of reference..">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[245.0, 635.0]">
        </property>
    </property>
    <property name="startupTime" class="ptolemy.data.expr.Parameter" value="225">
        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
            </property>
        </property>
        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[20.0, 70.0]">
        </property>
    </property>
    <property name="pauseTime" class="ptolemy.data.expr.Parameter" value="525">
        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
            </property>
        </property>
        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[20.0, 95.0]">
        </property>
    </property>
    <property name="resumeTime" class="ptolemy.data.expr.Parameter" value="875">
        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
            </property>
        </property>
        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[20.0, 120.0]">
        </property>
    </property>
    <property name="Annotation2" class="ptolemy.vergil.kernel.attributes.TextAttribute">
        <property name="text" class="ptolemy.kernel.util.StringAttribute" value="ALL TIMES AND PERIODS ARE GIVEN IN MULTIPLES OF THE LSB">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[10.0, 10.0]">
        </property>
    </property>
    <property name="LSBseconds" class="ptolemy.data.expr.Parameter" value="0.01">
        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
            </property>
        </property>
        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[20.0, 45.0]">
        </property>
    </property>
    <property name="gridFrequency" class="ptolemy.data.expr.Parameter" value="2">
        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
            </property>
        </property>
        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[190.0, 45.0]">
        </property>
    </property>
    <property name="samplesPerGridPeriod" class="ptolemy.data.expr.Parameter" value="5">
        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
            </property>
        </property>
        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[190.0, 70.0]">
        </property>
    </property>
    <property name="samplePeriod" class="ptolemy.data.expr.Parameter" value="1/(gridFrequency*samplesPerGridPeriod*LSBseconds)">
        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
            </property>
        </property>
        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[190.0, 95.0]">
        </property>
    </property>
    <entity name="CompositeActorDevice" class="ptolemy.actor.TypedCompositeActor">
        <display name="PMU"/>
        <property name="_location" class="ptolemy.kernel.util.Location" value="{185.0, 325.0}">
        </property>
        <property name="Annotation" class="ptolemy.vergil.kernel.attributes.TextAttribute">
            <property name="textSize" class="ptolemy.data.expr.Parameter" value="10">
            </property>
            <property name="text" class="ptolemy.kernel.util.StringAttribute" value="The actor ModalModel represents the internals of the enclosing actor named&#10;PMU and represents a single platform of a larger system.">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[125.0, 25.0]">
            </property>
        </property>
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={32, 64, 969, 606}, maximized=false}">
        </property>
        <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[754, 489]">
        </property>
        <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.2582394659992">
        </property>
        <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{426.625, 206.5847562997348}">
        </property>
        <property name="PtidesBasicDirector" class="ptolemy.domains.ptides.kernel.PtidesBasicDirector">
            <property name="synchronizeToRealTime" class="ptolemy.data.expr.Parameter" value="false">
            </property>
            <property name="animateExecution" class="ptolemy.data.expr.Parameter" value="false">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[570.0, 40.0]">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.EditorIcon">
                <property name="rectangle" class="ptolemy.vergil.kernel.attributes.RectangleAttribute">
                    <property name="height" class="ptolemy.data.expr.Parameter" value="30">
                    </property>
                    <property name="fillColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 1.0, 0.0, 1.0}">
                    </property>
                </property>
            </property>
        </property>
        <property name="samplePeriod" class="ptolemy.data.expr.Parameter" value="1/(gridFrequency*samplesPerGridPeriod*LSBseconds)">
            <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                </property>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{200.0, 105.0}">
            </property>
        </property>
        <port name="startup" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{140.0, 140.0}">
            </property>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </port>
        <port name="DiscreteSamples" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <display name="DiscreteSample"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[745.0, 180.0]">
            </property>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <property name="minDelay" class="ptolemy.data.expr.Parameter" value="{Infinity}">
            </property>
        </port>
        <port name="pause" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[140.0, 205.0]">
            </property>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </port>
        <port name="resume" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[140.0, 270.0]">
            </property>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </port>
        <port name="UTCClock" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[140.0, 335.0]">
            </property>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </port>
        <port name="UTCSample" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[745.0, 270.0]">
            </property>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </port>
        <entity name="ModalModel" class="ptolemy.domains.modal.modal.ModalModel">
            <property name="_tableauFactory" class="ptolemy.vergil.modal.modal.ModalTableauFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[425.0, 230.0]">
            </property>
            <property name="_highlightColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 1.0, 1.0, 1.0}">
            </property>
            <port name="startup" class="ptolemy.domains.modal.modal.ModalPort">
                <property name="input"/>
                <property name="minDelay" class="ptolemy.data.expr.Parameter" value="{0.0}">
                </property>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <port name="DiscreteSample" class="ptolemy.domains.modal.modal.ModalPort">
                <property name="output"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <port name="pause" class="ptolemy.domains.modal.modal.ModalPort">
                <property name="input"/>
                <property name="minDelay" class="ptolemy.data.expr.Parameter" value="{0.0}">
                </property>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <port name="resume" class="ptolemy.domains.modal.modal.ModalPort">
                <property name="input"/>
                <property name="minDelay" class="ptolemy.data.expr.Parameter" value="{0.0}">
                </property>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <port name="UTCClock" class="ptolemy.domains.modal.modal.ModalPort">
                <property name="input"/>
                <property name="minDelay" class="ptolemy.data.expr.Parameter" value="{0.0}">
                </property>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <port name="UTCSample" class="ptolemy.domains.modal.modal.ModalPort">
                <property name="output"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <entity name="_Controller" class="ptolemy.domains.modal.modal.ModalController">
                <property name="annotation" class="ptolemy.kernel.util.Attribute">
                    <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                    <property name="_iconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                        <configure><svg><text x="20" y="20" style="font-size:14; font-family:SansSerif; fill:blue">Defines two modes of operation of the actor named 'PMU'.

The initial operational state is 'initializingSystem' and is intended to model
operations needed to initialize a larger system before normal operation 
starts including such things as membership protocols, initial sensor readings
or actuations, clock synchronization protocols, etc.

The second state 'running' is the normal operational state.

These are implemented with a modal model. The transition to normal operation
occurs on receipt of a startup or resume event from a system supervisor.

During the initializingSystem state initialization procedures are run but nothing
happens at the event output ports. During normal operation a sequence of sampleEvents
are generated starting at after an interval 'offset' from entering the state and
with a period defined by the parameter 'period' of the enclosing PMU actor.

If a pause event occurs the system transitions back to the initialization
state where it remains until a new startUp or resume event occurs.</text></svg></configure>
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[25.0, 210.0]">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.basic.NodeControllerFactory">
                    </property>
                    <property name="_editorFactory" class="ptolemy.vergil.toolbox.AnnotationEditorFactory">
                    </property>
                </property>
                <property name="_library" class="ptolemy.moml.LibraryAttribute">
                    <configure>
      <entity name="state library" class="ptolemy.kernel.CompositeEntity"><input source="ptolemy/configs/basicUtilities.xml"></input><entity name="state" class="ptolemy.domains.modal.kernel.State"><property name="_centerName" class="ptolemy.kernel.util.Attribute"></property><property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory"></property></entity></entity>
    </configure>
                </property>
                <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={104, 125, 815, 517}, maximized=false}">
                </property>
                <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[600, 400]">
                </property>
                <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="0.884802820309">
                </property>
                <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{371.05859375, 232.0546875}">
                </property>
                <port name="startup" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[45.0, 30.0]">
                    </property>
                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                </port>
                <port name="DiscreteSample" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[335.0, 35.0]">
                    </property>
                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                </port>
                <port name="pause" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[45.0, 95.0]">
                    </property>
                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                </port>
                <port name="resume" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[50.0, 165.0]">
                    </property>
                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                </port>
                <port name="UTCClock" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[50.0, 205.0]">
                    </property>
                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                </port>
                <port name="UTCSample" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[335.0, 85.0]">
                    </property>
                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                </port>
                <entity name="initialState" class="ptolemy.domains.modal.kernel.State">
                    <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="false">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[205.0, 30.0]">
                    </property>
                </entity>
                <entity name="initializingSystem" class="ptolemy.domains.modal.kernel.State">
                    <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="false">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[235.0, 90.0]">
                    </property>
                </entity>
                <entity name="running" class="ptolemy.domains.modal.kernel.State">
                    <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="running">
                    </property>
                    <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="false">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[225.0, 155.0]">
                    </property>
                </entity>
                <relation name="relation" class="ptolemy.domains.modal.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="true">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="DiscreteSample = 0.0">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="1.667653691302967">
                    </property>
                </relation>
                <relation name="relation2" class="ptolemy.domains.modal.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="(startup == true)||&#10;resume == true">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                        </property>
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="1.7287192224997754">
                    </property>
                    <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                </relation>
                <relation name="relation3" class="ptolemy.domains.modal.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="pause == true">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="1.3872502367248158">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-1.164011997698158">
                    </property>
                </relation>
                <link port="initialState.outgoingPort" relation="relation"/>
                <link port="initializingSystem.incomingPort" relation="relation"/>
                <link port="initializingSystem.incomingPort" relation="relation3"/>
                <link port="initializingSystem.outgoingPort" relation="relation2"/>
                <link port="running.incomingPort" relation="relation2"/>
                <link port="running.outgoingPort" relation="relation3"/>
            </entity>
            <entity name="running" class="ptolemy.domains.modal.modal.Refinement">
                <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={129, 242, 815, 517}, maximized=false}">
                </property>
                <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[600, 400]">
                </property>
                <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="0.7432353965858">
                </property>
                <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{410.640625, 193.90625}">
                </property>
                <property name="annotation" class="ptolemy.kernel.util.Attribute">
                    <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                    <property name="_iconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                        <configure><svg><text x="20" y="20" style="font-size:14; font-family:SansSerif; fill:blue">The DiscreteClock actor generates events based on the local time and is
subject to the Ptides modal model time semantics on pause and resume.

The UTCEvent actor generates events based on the requirements of the PMU
which requires events to be synchronous with UTC.

The 1 samplePeriod delays on the output are to enable scheduling. They
appear here within the modal model to ensure that events are not generated
after leaving the running state.
</text></svg></configure>
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-5.0, -80.0]">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.basic.NodeControllerFactory">
                    </property>
                    <property name="_editorFactory" class="ptolemy.vergil.toolbox.AnnotationEditorFactory">
                    </property>
                </property>
                <property name="offset" class="ptolemy.data.expr.Parameter" value="0">
                </property>
                <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{660, -50}">
                    </property>
                </property>
                <property name="period" class="ptolemy.data.expr.Parameter" value="10">
                </property>
                <property name="_highlightColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 1.0, 1.0, 1.0}">
                </property>
                <port name="startup" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{20.0, 200.0}">
                    </property>
                </port>
                <port name="DiscreteSample" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[585.0, 150.0]">
                    </property>
                </port>
                <port name="pause" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[25.0, 145.0]">
                    </property>
                </port>
                <port name="resume" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[25.0, 245.0]">
                    </property>
                </port>
                <port name="UTCClock" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[25.0, 295.0]">
                    </property>
                </port>
                <port name="UTCSample" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{585.0, 295.0}">
                    </property>
                </port>
                <entity name="DiscreteClock" class="ptolemy.actor.lib.DiscreteClock">
                    <property name="period" class="ptolemy.actor.parameters.PortParameter" value="samplePeriod">
                    </property>
                    <property name="offsets" class="ptolemy.data.expr.Parameter" value="{0}">
                    </property>
                    <property name="values" class="ptolemy.data.expr.Parameter" value="{true}">
                    </property>
                    <doc>Create periodic timed events.</doc>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[205.0, 150.0]">
                    </property>
                </entity>
                <entity name="UTCEventGen" class="ptolemy.actor.TypedCompositeActor">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[245.0, 295.0]">
                    </property>
                    <property name="period" class="ptolemy.data.expr.Parameter" value="samplePeriod">
                    </property>
                    <property name="Annotation" class="ptolemy.vergil.kernel.attributes.TextAttribute">
                        <property name="text" class="ptolemy.kernel.util.StringAttribute" value="For each input event a parameterized number of output events &#10;(gridFrequency*samplesPerGridPeriod) are produced on intervals&#10;of samplePeriod starting with the time of the input event.">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="{100, 15}">
                        </property>
                    </property>
                    <port name="UTCClock" class="ptolemy.actor.TypedIOPort">
                        <property name="input"/>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[45.0, 120.0]">
                        </property>
                        <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                        </property>
                    </port>
                    <port name="ClockOut" class="ptolemy.actor.TypedIOPort">
                        <property name="output"/>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[440.0, 135.0]">
                        </property>
                        <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                        </property>
                    </port>
                    <entity name="TimeDelay" class="ptolemy.actor.lib.TimeDelay">
                        <property name="delay" class="ptolemy.data.expr.Parameter" value="samplePeriod">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[245.0, 270.0]">
                        </property>
                        <property name="_highlightColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 1.0, 1.0, 1.0}">
                        </property>
                        <property name="_flipPortsHorizontal" class="ptolemy.data.expr.Parameter" value="true">
                        </property>
                    </entity>
                    <entity name="ModalModel" class="ptolemy.domains.modal.modal.ModalModel">
                        <property name="_tableauFactory" class="ptolemy.vergil.modal.modal.ModalTableauFactory">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[215.0, 130.0]">
                        </property>
                        <port name="UTCClock" class="ptolemy.domains.modal.modal.ModalPort">
                            <property name="input"/>
                            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                            </property>
                        </port>
                        <port name="Trigger" class="ptolemy.domains.modal.modal.ModalPort">
                            <property name="input"/>
                            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                            </property>
                        </port>
                        <port name="OutputEvent" class="ptolemy.domains.modal.modal.ModalPort">
                            <property name="output"/>
                            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                            </property>
                        </port>
                        <entity name="_Controller" class="ptolemy.domains.modal.modal.ModalController">
                            <property name="annotation" class="ptolemy.kernel.util.Attribute">
                                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                                </property>
                                <property name="_iconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                                    <configure><svg><text x="20" y="20" style="font-size:14; font-family:SansSerif; fill:blue">For each input event gridFrequency*samplePerGridPeriod output events are 
produced with a period samplePeriod and with the initial event with the 
same time stamp as the input event.</text></svg></configure>
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[25.0, 35.0]">
                                </property>
                                <property name="_controllerFactory" class="ptolemy.vergil.basic.NodeControllerFactory">
                                </property>
                                <property name="_editorFactory" class="ptolemy.vergil.toolbox.AnnotationEditorFactory">
                                </property>
                            </property>
                            <property name="_library" class="ptolemy.moml.LibraryAttribute">
                                <configure>
      <entity name="state library" class="ptolemy.kernel.CompositeEntity"><input source="ptolemy/configs/basicUtilities.xml"></input><entity name="state" class="ptolemy.domains.modal.kernel.State"><property name="_centerName" class="ptolemy.kernel.util.Attribute"></property><property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory"></property></entity></entity>
    </configure>
                            </property>
                            <property name="Count" class="ptolemy.data.expr.Parameter" value="1">
                                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                                </property>
                                <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                                    <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                                    </property>
                                </property>
                                <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                                    <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                                </property>
                                <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="{315, 140}">
                                </property>
                            </property>
                            <port name="UTCClock" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="input"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[35.0, 180.0]">
                                </property>
                                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                                </property>
                            </port>
                            <port name="Trigger" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="input"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[35.0, 250.0]">
                                </property>
                                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                                </property>
                            </port>
                            <port name="OutputEvent" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="input"/>
                                <property name="output"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[505.0, 195.0]">
                                </property>
                                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                                </property>
                            </port>
                            <entity name="state" class="ptolemy.domains.modal.kernel.State">
                                <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="true">
                                </property>
                                <property name="isFinalState" class="ptolemy.data.expr.Parameter" value="false">
                                </property>
                                <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                                </property>
                                <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[240.0, 180.0]">
                                </property>
                            </entity>
                            <entity name="state2" class="ptolemy.domains.modal.kernel.State">
                                <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                                </property>
                                <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[245.0, 295.0]">
                                </property>
                            </entity>
                            <relation name="relation" class="ptolemy.domains.modal.kernel.Transition">
                                <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="Trigger == true">
                                </property>
                                <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="OutputEvent = true">
                                </property>
                                <property name="setActions" class="ptolemy.domains.modal.kernel.CommitActionsAttribute" value="Count = Count +1">
                                </property>
                                <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="2.532934726625424">
                                </property>
                                <property name="gamma" class="ptolemy.data.expr.Parameter" value="-0.1972652189035112">
                                </property>
                            </relation>
                            <relation name="relation2" class="ptolemy.domains.modal.kernel.Transition">
                                <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="UTCClock ==true">
                                </property>
                                <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="OutputEvent = true">
                                </property>
                                <property name="setActions" class="ptolemy.domains.modal.kernel.CommitActionsAttribute" value="Count = 1">
                                </property>
                                <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                                </property>
                                <property name="gamma" class="ptolemy.data.expr.Parameter" value="1.6126106392951123">
                                </property>
                            </relation>
                            <relation name="relation3" class="ptolemy.domains.modal.kernel.Transition">
                                <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="Count ==gridFrequency*samplesPerGridPeriod">
                                </property>
                                <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                                </property>
                                <property name="gamma" class="ptolemy.data.expr.Parameter" value="-1.528982014294681">
                                </property>
                            </relation>
                            <link port="state.incomingPort" relation="relation3"/>
                            <link port="state.outgoingPort" relation="relation2"/>
                            <link port="state2.incomingPort" relation="relation"/>
                            <link port="state2.incomingPort" relation="relation2"/>
                            <link port="state2.outgoingPort" relation="relation"/>
                            <link port="state2.outgoingPort" relation="relation3"/>
                        </entity>
                        <relation name="UTCClockRelation" class="ptolemy.actor.TypedIORelation">
                            <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                            </property>
                        </relation>
                        <relation name="TriggerRelation" class="ptolemy.actor.TypedIORelation">
                            <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                            </property>
                        </relation>
                        <relation name="OutputEventRelation" class="ptolemy.actor.TypedIORelation">
                            <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                            </property>
                        </relation>
                        <link port="UTCClock" relation="UTCClockRelation"/>
                        <link port="Trigger" relation="TriggerRelation"/>
                        <link port="OutputEvent" relation="OutputEventRelation"/>
                        <link port="_Controller.UTCClock" relation="UTCClockRelation"/>
                        <link port="_Controller.Trigger" relation="TriggerRelation"/>
                        <link port="_Controller.OutputEvent" relation="OutputEventRelation"/>
                    </entity>
                    <entity name="IsPresent" class="ptolemy.actor.lib.logic.IsPresent">
                        <property name="_location" class="ptolemy.kernel.util.Location" value="{105.0, 120.0}">
                        </property>
                    </entity>
                    <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                    </relation>
                    <relation name="relation4" class="ptolemy.actor.TypedIORelation">
                        <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                        </property>
                        <vertex name="vertex1" value="[330.0, 130.0]">
                        </vertex>
                    </relation>
                    <relation name="relation" class="ptolemy.actor.TypedIORelation">
                    </relation>
                    <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                    </relation>
                    <link port="UTCClock" relation="relation2"/>
                    <link port="ClockOut" relation="relation4"/>
                    <link port="TimeDelay.input" relation="relation4"/>
                    <link port="TimeDelay.output" relation="relation3"/>
                    <link port="ModalModel.UTCClock" relation="relation"/>
                    <link port="ModalModel.Trigger" relation="relation3"/>
                    <link port="ModalModel.OutputEvent" relation="relation4"/>
                    <link port="IsPresent.input" relation="relation2"/>
                    <link port="IsPresent.output" relation="relation"/>
                </entity>
                <entity name="TimeDelay" class="ptolemy.actor.lib.TimeDelay">
                    <property name="delay" class="ptolemy.data.expr.Parameter" value="samplePeriod">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[485.0, 295.0]">
                    </property>
                    <property name="_highlightColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 1.0, 1.0, 1.0}">
                    </property>
                    <property name="_flipPortsHorizontal" class="ptolemy.data.expr.Parameter" value="false">
                        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                        </property>
                    </property>
                    <port name="input" class="ptolemy.actor.TypedIOPort">
                        <property name="input"/>
                        <property name="minDelay" class="ptolemy.data.expr.Parameter" value="{0.0}">
                        </property>
                    </port>
                </entity>
                <entity name="TimeDelay2" class="ptolemy.actor.lib.TimeDelay">
                    <property name="delay" class="ptolemy.data.expr.Parameter" value="samplePeriod">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[485.0, 150.0]">
                    </property>
                    <property name="_highlightColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 1.0, 1.0, 1.0}">
                    </property>
                    <property name="_flipPortsHorizontal" class="ptolemy.data.expr.Parameter" value="false">
                        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                        </property>
                    </property>
                    <port name="input" class="ptolemy.actor.TypedIOPort">
                        <property name="input"/>
                        <property name="minDelay" class="ptolemy.data.expr.Parameter" value="{0.0}">
                        </property>
                    </port>
                </entity>
                <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation4" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation5" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation" class="ptolemy.actor.TypedIORelation">
                </relation>
                <link port="DiscreteSample" relation="relation3"/>
                <link port="UTCClock" relation="relation2"/>
                <link port="UTCSample" relation="relation"/>
                <link port="DiscreteClock.output" relation="relation4"/>
                <link port="UTCEventGen.UTCClock" relation="relation2"/>
                <link port="UTCEventGen.ClockOut" relation="relation5"/>
                <link port="TimeDelay.input" relation="relation5"/>
                <link port="TimeDelay.output" relation="relation"/>
                <link port="TimeDelay2.input" relation="relation4"/>
                <link port="TimeDelay2.output" relation="relation3"/>
            </entity>
            <relation name="startupRelation" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                </property>
            </relation>
            <relation name="DiscreteSampleRelation" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                </property>
            </relation>
            <relation name="pauseRelation" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                </property>
            </relation>
            <relation name="resumeRelation" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                </property>
            </relation>
            <relation name="UTCClockRelation" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                </property>
            </relation>
            <relation name="UTCSampleRelation" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                </property>
            </relation>
            <link port="startup" relation="startupRelation"/>
            <link port="DiscreteSample" relation="DiscreteSampleRelation"/>
            <link port="pause" relation="pauseRelation"/>
            <link port="resume" relation="resumeRelation"/>
            <link port="UTCClock" relation="UTCClockRelation"/>
            <link port="UTCSample" relation="UTCSampleRelation"/>
            <link port="_Controller.startup" relation="startupRelation"/>
            <link port="_Controller.DiscreteSample" relation="DiscreteSampleRelation"/>
            <link port="_Controller.pause" relation="pauseRelation"/>
            <link port="_Controller.resume" relation="resumeRelation"/>
            <link port="_Controller.UTCClock" relation="UTCClockRelation"/>
            <link port="_Controller.UTCSample" relation="UTCSampleRelation"/>
            <link port="running.startup" relation="startupRelation"/>
            <link port="running.DiscreteSample" relation="DiscreteSampleRelation"/>
            <link port="running.pause" relation="pauseRelation"/>
            <link port="running.resume" relation="resumeRelation"/>
            <link port="running.UTCClock" relation="UTCClockRelation"/>
            <link port="running.UTCSample" relation="UTCSampleRelation"/>
        </entity>
        <entity name="SensorInputDevice" class="ptolemy.domains.ptides.lib.SensorInputDevice">
            <property name="_location" class="ptolemy.kernel.util.Location" value="[250.0, 140.0]">
            </property>
            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="false">
            </property>
            <port name="input" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="minDelay" class="ptolemy.data.expr.Parameter" value="{0.0}">
                </property>
            </port>
        </entity>
        <entity name="ActuatorOutputDevice" class="ptolemy.domains.ptides.lib.ActuatorOutputDevice">
            <property name="_location" class="ptolemy.kernel.util.Location" value="[640.0, 180.0]">
            </property>
            <port name="input" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="minDelay" class="ptolemy.data.expr.Parameter" value="{0.0}">
                </property>
            </port>
        </entity>
        <entity name="SensorInputDevice2" class="ptolemy.domains.ptides.lib.SensorInputDevice">
            <property name="_location" class="ptolemy.kernel.util.Location" value="[240.0, 205.0]">
            </property>
            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="false">
            </property>
            <port name="input" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="minDelay" class="ptolemy.data.expr.Parameter" value="{0.0}">
                </property>
            </port>
        </entity>
        <entity name="SensorInputDevice3" class="ptolemy.domains.ptides.lib.SensorInputDevice">
            <property name="_location" class="ptolemy.kernel.util.Location" value="[240.0, 270.0]">
            </property>
            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="false">
            </property>
            <port name="input" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="minDelay" class="ptolemy.data.expr.Parameter" value="{0.0}">
                </property>
            </port>
        </entity>
        <entity name="SensorInputDevice4" class="ptolemy.domains.ptides.lib.SensorInputDevice">
            <property name="_location" class="ptolemy.kernel.util.Location" value="[250.0, 335.0]">
            </property>
            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="false">
            </property>
            <port name="input" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="minDelay" class="ptolemy.data.expr.Parameter" value="{0.0}">
                </property>
            </port>
        </entity>
        <entity name="ActuatorOutputDevice2" class="ptolemy.domains.ptides.lib.ActuatorOutputDevice">
            <property name="_location" class="ptolemy.kernel.util.Location" value="[650.0, 270.0]">
            </property>
            <port name="input" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="minDelay" class="ptolemy.data.expr.Parameter" value="{0.0}">
                </property>
            </port>
        </entity>
        <relation name="relation" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation3" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation4" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation5" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation2" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation6" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation9" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation10" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation11" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation12" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation7" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation8" class="ptolemy.actor.TypedIORelation">
        </relation>
        <link port="startup" relation="relation5"/>
        <link port="DiscreteSamples" relation="relation2"/>
        <link port="pause" relation="relation"/>
        <link port="resume" relation="relation3"/>
        <link port="UTCClock" relation="relation4"/>
        <link port="UTCSample" relation="relation6"/>
        <link port="ModalModel.startup" relation="relation9"/>
        <link port="ModalModel.DiscreteSample" relation="relation7"/>
        <link port="ModalModel.pause" relation="relation10"/>
        <link port="ModalModel.resume" relation="relation11"/>
        <link port="ModalModel.UTCClock" relation="relation12"/>
        <link port="ModalModel.UTCSample" relation="relation8"/>
        <link port="SensorInputDevice.input" relation="relation5"/>
        <link port="SensorInputDevice.output" relation="relation9"/>
        <link port="ActuatorOutputDevice.input" relation="relation7"/>
        <link port="ActuatorOutputDevice.output" relation="relation2"/>
        <link port="SensorInputDevice2.input" relation="relation"/>
        <link port="SensorInputDevice2.output" relation="relation10"/>
        <link port="SensorInputDevice3.input" relation="relation3"/>
        <link port="SensorInputDevice3.output" relation="relation11"/>
        <link port="SensorInputDevice4.input" relation="relation4"/>
        <link port="SensorInputDevice4.output" relation="relation12"/>
        <link port="ActuatorOutputDevice2.input" relation="relation8"/>
        <link port="ActuatorOutputDevice2.output" relation="relation6"/>
    </entity>
    <entity name="Supervisor" class="ptolemy.actor.TypedCompositeActor">
        <property name="_location" class="ptolemy.kernel.util.Location" value="[-95.0, 230.0]">
        </property>
        <property name="pause" class="ptolemy.data.expr.Parameter" value="pauseTime">
        </property>
        <property name="resume" class="ptolemy.data.expr.Parameter" value="resumeTime">
        </property>
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={209, 220, 815, 517}, maximized=false}">
        </property>
        <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[600, 400]">
        </property>
        <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0">
        </property>
        <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{300.0, 200.0}">
        </property>
        <property name="startup" class="ptolemy.data.expr.Parameter" value="startupTime">
        </property>
        <port name="startup" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[245.0, 60.0]">
            </property>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </port>
        <port name="pause" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[240.0, 250.0]">
            </property>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </port>
        <port name="resume" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[240.0, 150.0]">
            </property>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </port>
        <entity name="Resume" class="ptolemy.domains.de.lib.SingleEvent">
            <property name="time" class="ptolemy.data.expr.Parameter" value="resume">
            </property>
            <property name="value" class="ptolemy.data.expr.Parameter" value="true">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[30.0, 130.0]">
            </property>
        </entity>
        <entity name="SingleEventStartup" class="ptolemy.domains.de.lib.SingleEvent">
            <property name="time" class="ptolemy.data.expr.Parameter" value="startup">
            </property>
            <property name="value" class="ptolemy.data.expr.Parameter" value="true">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[30.0, 60.0]">
            </property>
        </entity>
        <entity name="Pause" class="ptolemy.domains.de.lib.SingleEvent">
            <property name="time" class="ptolemy.data.expr.Parameter" value="pause">
            </property>
            <property name="value" class="ptolemy.data.expr.Parameter" value="true">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[30.0, 250.0]">
            </property>
        </entity>
        <relation name="relation2" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation3" class="ptolemy.actor.TypedIORelation">
        </relation>
        <link port="startup" relation="relation"/>
        <link port="pause" relation="relation2"/>
        <link port="resume" relation="relation3"/>
        <link port="Resume.output" relation="relation3"/>
        <link port="SingleEventStartup.output" relation="relation"/>
        <link port="Pause.output" relation="relation2"/>
    </entity>
    <entity name="eventMonitor" class="ptolemy.actor.TypedCompositeActor">
        <display name="Event Monitor"/>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[455.0, 250.0]">
        </property>
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={211, 269, 815, 517}, maximized=false}">
        </property>
        <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[600, 400]">
        </property>
        <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.2007504690432">
        </property>
        <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{271.84375, 416.4375}">
        </property>
        <property name="startupPlotValue" class="ptolemy.data.expr.Parameter" value="0.5">
        </property>
        <property name="pausePlotValue" class="ptolemy.data.expr.Parameter" value="1.0">
        </property>
        <property name="resumePlotValue" class="ptolemy.data.expr.Parameter" value="1.5">
        </property>
        <property name="DiscreteSamplePlotVAlue" class="ptolemy.data.expr.Parameter" value="2.5">
        </property>
        <property name="UTCSamplePlotValue" class="ptolemy.data.expr.Parameter" value="3.0">
        </property>
        <property name="UTCClockPlotValue" class="ptolemy.data.expr.Parameter" value="2.0">
        </property>
        <property name="incrementValue" class="ptolemy.data.expr.Parameter" value="0.0">
        </property>
        <port name="startup" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[35.0, 280.0]">
            </property>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </port>
        <port name="pause" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[40.0, 330.0]">
            </property>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </port>
        <port name="resume" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[40.0, 375.0]">
            </property>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </port>
        <port name="DiscreteSample" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[40.0, 440.0]">
            </property>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </port>
        <port name="UTCSample" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[40.0, 510.0]">
            </property>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </port>
        <port name="UTCClock" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <display name="UCTClock"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[40.0, 565.0]">
            </property>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </port>
        <entity name="BooleanToAnything" class="ptolemy.actor.lib.conversions.BooleanToAnything">
            <property name="trueValue" class="ptolemy.data.expr.Parameter" value="startupPlotValue">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[145.0, 280.0]">
            </property>
        </entity>
        <entity name="BooleanToAnything2" class="ptolemy.actor.lib.conversions.BooleanToAnything">
            <property name="trueValue" class="ptolemy.data.expr.Parameter" value="pausePlotValue">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[145.0, 330.0]">
            </property>
        </entity>
        <entity name="BooleanToAnything4" class="ptolemy.actor.lib.conversions.BooleanToAnything">
            <property name="trueValue" class="ptolemy.data.expr.Parameter" value="resumePlotValue">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[145.0, 375.0]">
            </property>
        </entity>
        <entity name="TimedPlotter" class="ptolemy.actor.lib.gui.TimedPlotter">
            <display name="System Input Events"/>
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={162, 10, 839, 403}, maximized=false}">
            </property>
            <property name="_plotSize" class="ptolemy.actor.gui.SizeAttribute" value="[831, 348]">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[400.0, 345.0]">
            </property>
            <configure>
<?plotml <!DOCTYPE plot PUBLIC "-//UC Berkeley//DTD PlotML 1//EN"
"http://ptolemy.eecs.berkeley.edu/xml/dtd/PlotML_1.dtd">
<plot>
<title>System Input Events</title>
<xLabel></xLabel>
<yLabel></yLabel>
<xRange min="0.0" max="1200.0"/>
<yRange min="0.5" max="3.0"/>
<default connected="no"/>
</plot>?>
            </configure>
        </entity>
        <entity name="IsPresent" class="ptolemy.actor.lib.logic.IsPresent">
            <property name="_location" class="ptolemy.kernel.util.Location" value="[105.0, 565.0]">
            </property>
        </entity>
        <entity name="Const" class="ptolemy.actor.lib.Const">
            <property name="value" class="ptolemy.data.expr.Parameter" value="UTCClockPlotValue">
            </property>
            <doc>Create a constant sequence.</doc>
            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                </property>
                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[220.0, 565.0]">
            </property>
        </entity>
        <entity name="CompositeActor" class="ptolemy.actor.TypedCompositeActor">
            <display name="PlotPointSplitter"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[160.0, 440.0]">
            </property>
            <property name="annotation" class="ptolemy.kernel.util.Attribute">
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
                <property name="_iconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                    <configure><svg><text x="20" y="20" style="font-size:14; font-family:SansSerif; fill:blue">For every input event an output event is generated. The first such event
will have the parameterized value 'initialValue'. Each succeeding event
will be incremented by an amount 'increment' to cause plotted values to
separate vertically on plots.</text></svg></configure>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{35.0, 20.0}">
                </property>
                <property name="_controllerFactory" class="ptolemy.vergil.basic.NodeControllerFactory">
                </property>
                <property name="_editorFactory" class="ptolemy.vergil.toolbox.AnnotationEditorFactory">
                </property>
            </property>
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={120, 162, 815, 517}, maximized=false}">
            </property>
            <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[600, 400]">
            </property>
            <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0">
            </property>
            <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{300.0, 200.0}">
            </property>
            <property name="initialValue" class="ptolemy.data.expr.Parameter" value="DiscreteSamplePlotVAlue">
            </property>
            <property name="increment" class="ptolemy.data.expr.Parameter" value="incrementValue">
            </property>
            <property name="period" class="ptolemy.data.expr.Parameter" value="samplePeriod">
            </property>
            <port name="InputEvent" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[70.0, 160.0]">
                </property>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <port name="OutputEvent" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[500.0, 160.0]">
                </property>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <entity name="incrementOutput" class="ptolemy.domains.modal.modal.ModalModel">
                <property name="_tableauFactory" class="ptolemy.vergil.modal.modal.ModalTableauFactory">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[350.0, 160.0]">
                </property>
                <property name="_highlightColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 1.0, 1.0, 1.0}">
                </property>
                <port name="input" class="ptolemy.domains.modal.modal.ModalPort">
                    <property name="input"/>
                    <property name="minDelay" class="ptolemy.data.expr.Parameter" value="{0.0}">
                    </property>
                </port>
                <port name="output" class="ptolemy.domains.modal.modal.ModalPort">
                    <property name="output"/>
                </port>
                <entity name="_Controller" class="ptolemy.domains.modal.modal.ModalController">
                    <property name="annotation" class="ptolemy.kernel.util.Attribute">
                        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                        </property>
                        <property name="_iconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                            <configure><svg><text x="20" y="20" style="font-size:14; font-family:SansSerif; fill:blue">Each input event results in a single output event. The first output event
after initialization will have the value initialValue. Each succeeding 
event value will be incremented by an amount increment. The purpose of
this actor is to provide a vertical spread on plots of the output to enable
easy detection of simultaneous events.</text></svg></configure>
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[25.0, 210.0]">
                        </property>
                        <property name="_controllerFactory" class="ptolemy.vergil.basic.NodeControllerFactory">
                        </property>
                        <property name="_editorFactory" class="ptolemy.vergil.toolbox.AnnotationEditorFactory">
                        </property>
                    </property>
                    <property name="_library" class="ptolemy.moml.LibraryAttribute">
                        <configure>
      <entity name="state library" class="ptolemy.kernel.CompositeEntity"><input source="ptolemy/configs/basicUtilities.xml"></input><entity name="state" class="ptolemy.domains.modal.kernel.State"><property name="_centerName" class="ptolemy.kernel.util.Attribute"></property><property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory"></property></entity></entity>
    </configure>
                    </property>
                    <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={104, 125, 815, 517}, maximized=false}">
                    </property>
                    <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[600, 400]">
                    </property>
                    <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="0.884802820309">
                    </property>
                    <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{371.05859375, 232.0546875}">
                    </property>
                    <property name="Parameter" class="ptolemy.data.expr.Parameter" value="2.5">
                        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                        </property>
                        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                            </property>
                        </property>
                        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                        </property>
                        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="{445, 35}">
                        </property>
                    </property>
                    <port name="input" class="ptolemy.domains.modal.modal.RefinementPort">
                        <property name="input"/>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[45.0, 30.0]">
                        </property>
                        <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                        </property>
                    </port>
                    <port name="output" class="ptolemy.domains.modal.modal.RefinementPort">
                        <property name="input"/>
                        <property name="output"/>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[335.0, 35.0]">
                        </property>
                        <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                        </property>
                    </port>
                    <entity name="initialState" class="ptolemy.domains.modal.kernel.State">
                        <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="true">
                        </property>
                        <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="false">
                        </property>
                        <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[205.0, 30.0]">
                        </property>
                    </entity>
                    <entity name="firstEvent" class="ptolemy.domains.modal.kernel.State">
                        <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="false">
                        </property>
                        <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[235.0, 90.0]">
                        </property>
                    </entity>
                    <entity name="laterEvents" class="ptolemy.domains.modal.kernel.State">
                        <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="false">
                        </property>
                        <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[230.0, 155.0]">
                        </property>
                    </entity>
                    <relation name="relation" class="ptolemy.domains.modal.kernel.Transition">
                        <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="true">
                        </property>
                        <property name="setActions" class="ptolemy.domains.modal.kernel.CommitActionsAttribute" value="Parameter = initialValue">
                        </property>
                        <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                        </property>
                        <property name="gamma" class="ptolemy.data.expr.Parameter" value="1.4748974919268234">
                        </property>
                    </relation>
                    <relation name="relation2" class="ptolemy.domains.modal.kernel.Transition">
                        <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="(input == true)">
                        </property>
                        <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="output = Parameter">
                        </property>
                        <property name="setActions" class="ptolemy.domains.modal.kernel.CommitActionsAttribute" value="Parameter = Parameter + increment">
                        </property>
                        <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                            <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                            </property>
                        </property>
                        <property name="gamma" class="ptolemy.data.expr.Parameter" value="1.8700879933207035">
                        </property>
                        <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                        </property>
                    </relation>
                    <relation name="relation3" class="ptolemy.domains.modal.kernel.Transition">
                        <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="input==true">
                        </property>
                        <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="output = Parameter">
                        </property>
                        <property name="setActions" class="ptolemy.domains.modal.kernel.CommitActionsAttribute" value="Parameter = Parameter + increment">
                        </property>
                        <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="2.8305230526299425">
                            <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                            </property>
                        </property>
                        <property name="gamma" class="ptolemy.data.expr.Parameter" value="-1.625563853773408">
                        </property>
                    </relation>
                    <link port="initialState.outgoingPort" relation="relation"/>
                    <link port="firstEvent.incomingPort" relation="relation"/>
                    <link port="firstEvent.outgoingPort" relation="relation2"/>
                    <link port="laterEvents.incomingPort" relation="relation2"/>
                    <link port="laterEvents.incomingPort" relation="relation3"/>
                    <link port="laterEvents.outgoingPort" relation="relation3"/>
                </entity>
                <relation name="inputRelation" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                    </property>
                </relation>
                <relation name="outputRelation" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                    </property>
                </relation>
                <link port="input" relation="inputRelation"/>
                <link port="output" relation="outputRelation"/>
                <link port="_Controller.input" relation="inputRelation"/>
                <link port="_Controller.output" relation="outputRelation"/>
            </entity>
            <entity name="IsPresent" class="ptolemy.actor.lib.logic.IsPresent">
                <property name="_location" class="ptolemy.kernel.util.Location" value="[215.0, 160.0]">
                </property>
            </entity>
            <relation name="relation2" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation3" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="InputEvent" relation="relation3"/>
            <link port="OutputEvent" relation="relation2"/>
            <link port="incrementOutput.input" relation="relation"/>
            <link port="incrementOutput.output" relation="relation2"/>
            <link port="IsPresent.input" relation="relation3"/>
            <link port="IsPresent.output" relation="relation"/>
        </entity>
        <entity name="CompositeActor2" class="ptolemy.actor.TypedCompositeActor">
            <display name="PlotPointSplitter"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[175.0, 510.0]">
            </property>
            <property name="annotation" class="ptolemy.kernel.util.Attribute">
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
                <property name="_iconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                    <configure><svg><text x="20" y="20" style="font-size:14; font-family:SansSerif; fill:blue">For every input event an output event is generated. The first such event
will have the parameterized value 'initialValue'. Each succeeding event
will be incremented by an amount 'increment' to cause plotted values to
separate vertically on plots.</text></svg></configure>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{35.0, 20.0}">
                </property>
                <property name="_controllerFactory" class="ptolemy.vergil.basic.NodeControllerFactory">
                </property>
                <property name="_editorFactory" class="ptolemy.vergil.toolbox.AnnotationEditorFactory">
                </property>
            </property>
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={120, 162, 815, 517}, maximized=false}">
            </property>
            <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[600, 400]">
            </property>
            <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0">
            </property>
            <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{300.0, 200.0}">
            </property>
            <property name="initialValue" class="ptolemy.data.expr.Parameter" value="UTCSamplePlotValue">
            </property>
            <property name="increment" class="ptolemy.data.expr.Parameter" value="incrementValue">
            </property>
            <property name="period" class="ptolemy.data.expr.Parameter" value="samplePeriod">
            </property>
            <port name="InputEvent" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[70.0, 160.0]">
                </property>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <port name="OutputEvent" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[500.0, 160.0]">
                </property>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <entity name="incrementOutput" class="ptolemy.domains.modal.modal.ModalModel">
                <property name="_tableauFactory" class="ptolemy.vergil.modal.modal.ModalTableauFactory">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[350.0, 160.0]">
                </property>
                <property name="_highlightColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 1.0, 1.0, 1.0}">
                </property>
                <port name="input" class="ptolemy.domains.modal.modal.ModalPort">
                    <property name="input"/>
                    <property name="minDelay" class="ptolemy.data.expr.Parameter" value="{0.0}">
                    </property>
                </port>
                <port name="output" class="ptolemy.domains.modal.modal.ModalPort">
                    <property name="output"/>
                </port>
                <entity name="_Controller" class="ptolemy.domains.modal.modal.ModalController">
                    <property name="annotation" class="ptolemy.kernel.util.Attribute">
                        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                        </property>
                        <property name="_iconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                            <configure><svg><text x="20" y="20" style="font-size:14; font-family:SansSerif; fill:blue">Each input event results in a single output event. The first output event
after initialization will have the value initialValue. Each succeeding 
event value will be incremented by an amount increment. The purpose of
this actor is to provide a vertical spread on plots of the output to enable
easy detection of simultaneous events.</text></svg></configure>
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[25.0, 210.0]">
                        </property>
                        <property name="_controllerFactory" class="ptolemy.vergil.basic.NodeControllerFactory">
                        </property>
                        <property name="_editorFactory" class="ptolemy.vergil.toolbox.AnnotationEditorFactory">
                        </property>
                    </property>
                    <property name="_library" class="ptolemy.moml.LibraryAttribute">
                        <configure>
      <entity name="state library" class="ptolemy.kernel.CompositeEntity"><input source="ptolemy/configs/basicUtilities.xml"></input><entity name="state" class="ptolemy.domains.modal.kernel.State"><property name="_centerName" class="ptolemy.kernel.util.Attribute"></property><property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory"></property></entity></entity>
    </configure>
                    </property>
                    <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={104, 125, 815, 517}, maximized=false}">
                    </property>
                    <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[600, 400]">
                    </property>
                    <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="0.884802820309">
                    </property>
                    <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{371.05859375, 232.0546875}">
                    </property>
                    <property name="Parameter" class="ptolemy.data.expr.Parameter" value="3.0">
                        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                        </property>
                        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                            </property>
                        </property>
                        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                        </property>
                        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="{445, 35}">
                        </property>
                    </property>
                    <port name="input" class="ptolemy.domains.modal.modal.RefinementPort">
                        <property name="input"/>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[45.0, 30.0]">
                        </property>
                        <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                        </property>
                    </port>
                    <port name="output" class="ptolemy.domains.modal.modal.RefinementPort">
                        <property name="input"/>
                        <property name="output"/>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[335.0, 35.0]">
                        </property>
                        <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                        </property>
                    </port>
                    <entity name="initialState" class="ptolemy.domains.modal.kernel.State">
                        <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="true">
                        </property>
                        <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="false">
                        </property>
                        <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[205.0, 30.0]">
                        </property>
                    </entity>
                    <entity name="firstEvent" class="ptolemy.domains.modal.kernel.State">
                        <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="false">
                        </property>
                        <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[235.0, 90.0]">
                        </property>
                    </entity>
                    <entity name="laterEvents" class="ptolemy.domains.modal.kernel.State">
                        <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="false">
                        </property>
                        <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[230.0, 155.0]">
                        </property>
                    </entity>
                    <relation name="relation" class="ptolemy.domains.modal.kernel.Transition">
                        <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="true">
                        </property>
                        <property name="setActions" class="ptolemy.domains.modal.kernel.CommitActionsAttribute" value="Parameter = initialValue">
                        </property>
                        <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                        </property>
                        <property name="gamma" class="ptolemy.data.expr.Parameter" value="1.4748974919268234">
                        </property>
                    </relation>
                    <relation name="relation2" class="ptolemy.domains.modal.kernel.Transition">
                        <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="(input == true)">
                        </property>
                        <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="output = Parameter">
                        </property>
                        <property name="setActions" class="ptolemy.domains.modal.kernel.CommitActionsAttribute" value="Parameter = Parameter + increment">
                        </property>
                        <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                            <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                            </property>
                        </property>
                        <property name="gamma" class="ptolemy.data.expr.Parameter" value="1.8700879933207035">
                        </property>
                        <property name="reset" class="ptolemy.data.expr.Parameter" value="true">
                        </property>
                    </relation>
                    <relation name="relation3" class="ptolemy.domains.modal.kernel.Transition">
                        <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="input==true">
                        </property>
                        <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="output = Parameter">
                        </property>
                        <property name="setActions" class="ptolemy.domains.modal.kernel.CommitActionsAttribute" value="Parameter = Parameter + increment">
                        </property>
                        <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="2.8305230526299425">
                            <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                            </property>
                        </property>
                        <property name="gamma" class="ptolemy.data.expr.Parameter" value="-1.625563853773408">
                        </property>
                    </relation>
                    <link port="initialState.outgoingPort" relation="relation"/>
                    <link port="firstEvent.incomingPort" relation="relation"/>
                    <link port="firstEvent.outgoingPort" relation="relation2"/>
                    <link port="laterEvents.incomingPort" relation="relation2"/>
                    <link port="laterEvents.incomingPort" relation="relation3"/>
                    <link port="laterEvents.outgoingPort" relation="relation3"/>
                </entity>
                <relation name="inputRelation" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                    </property>
                </relation>
                <relation name="outputRelation" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                    </property>
                </relation>
                <link port="input" relation="inputRelation"/>
                <link port="output" relation="outputRelation"/>
                <link port="_Controller.input" relation="inputRelation"/>
                <link port="_Controller.output" relation="outputRelation"/>
            </entity>
            <entity name="IsPresent" class="ptolemy.actor.lib.logic.IsPresent">
                <property name="_location" class="ptolemy.kernel.util.Location" value="[215.0, 160.0]">
                </property>
            </entity>
            <relation name="relation2" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation3" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="InputEvent" relation="relation3"/>
            <link port="OutputEvent" relation="relation2"/>
            <link port="incrementOutput.input" relation="relation"/>
            <link port="incrementOutput.output" relation="relation2"/>
            <link port="IsPresent.input" relation="relation3"/>
            <link port="IsPresent.output" relation="relation"/>
        </entity>
        <relation name="relation2" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation3" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation4" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation5" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation6" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation9" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation10" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation7" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation12" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation8" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation13" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation11" class="ptolemy.actor.TypedIORelation">
        </relation>
        <link port="startup" relation="relation"/>
        <link port="pause" relation="relation5"/>
        <link port="resume" relation="relation6"/>
        <link port="DiscreteSample" relation="relation12"/>
        <link port="UTCSample" relation="relation13"/>
        <link port="UTCClock" relation="relation9"/>
        <link port="BooleanToAnything.input" relation="relation"/>
        <link port="BooleanToAnything.output" relation="relation2"/>
        <link port="BooleanToAnything2.input" relation="relation5"/>
        <link port="BooleanToAnything2.output" relation="relation3"/>
        <link port="BooleanToAnything4.input" relation="relation6"/>
        <link port="BooleanToAnything4.output" relation="relation4"/>
        <link port="TimedPlotter.input" relation="relation2"/>
        <link port="TimedPlotter.input" relation="relation3"/>
        <link port="TimedPlotter.input" relation="relation4"/>
        <link port="TimedPlotter.input" relation="relation7"/>
        <link port="TimedPlotter.input" relation="relation8"/>
        <link port="TimedPlotter.input" relation="relation11"/>
        <link port="IsPresent.input" relation="relation9"/>
        <link port="IsPresent.output" relation="relation10"/>
        <link port="Const.output" relation="relation11"/>
        <link port="Const.trigger" relation="relation10"/>
        <link port="CompositeActor.InputEvent" relation="relation12"/>
        <link port="CompositeActor.OutputEvent" relation="relation7"/>
        <link port="CompositeActor2.InputEvent" relation="relation13"/>
        <link port="CompositeActor2.OutputEvent" relation="relation8"/>
    </entity>
    <entity name="DiscreteClock" class="ptolemy.actor.lib.DiscreteClock">
        <display name="UTCClock"/>
        <property name="period" class="ptolemy.actor.parameters.PortParameter" value="1/LSBseconds">
        </property>
        <property name="values" class="ptolemy.data.expr.Parameter" value="{2.0}">
        </property>
        <doc>Create periodic timed events.</doc>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[-80.0, 345.0]">
        </property>
        <port name="output" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <display name="1PPS"/>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </port>
    </entity>
    <entity name="samplePeriod" class="ptolemy.actor.lib.gui.Display">
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={394, 464, 376, 109}, maximized=false}">
        </property>
        <property name="_paneSize" class="ptolemy.actor.gui.SizeAttribute" value="[368, 54]">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[120.0, 175.0]">
        </property>
    </entity>
    <entity name="Const" class="ptolemy.actor.lib.Const">
        <property name="value" class="ptolemy.data.expr.Parameter" value="samplePeriod">
        </property>
        <doc>Create a constant sequence.</doc>
        <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
            <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
            </property>
            <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
            </property>
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[35.0, 175.0]">
        </property>
    </entity>
    <relation name="relation4" class="ptolemy.actor.TypedIORelation">
        <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
        </property>
        <vertex name="vertex1" value="[120.0, 220.0]">
        </vertex>
    </relation>
    <relation name="relation5" class="ptolemy.actor.TypedIORelation">
        <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
        </property>
        <vertex name="vertex1" value="[100.0, 230.0]">
        </vertex>
    </relation>
    <relation name="relation6" class="ptolemy.actor.TypedIORelation">
        <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
        </property>
        <vertex name="vertex1" value="[75.0, 240.0]">
        </vertex>
    </relation>
    <relation name="relation3" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation2" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation8" class="ptolemy.actor.TypedIORelation">
        <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
        </property>
        <vertex name="vertex1" value="[60.0, 380.0]">
        </vertex>
    </relation>
    <link port="CompositeActorDevice.startup" relation="relation4"/>
    <link port="CompositeActorDevice.DiscreteSamples" relation="relation"/>
    <link port="CompositeActorDevice.pause" relation="relation5"/>
    <link port="CompositeActorDevice.resume" relation="relation6"/>
    <link port="CompositeActorDevice.UTCClock" relation="relation8"/>
    <link port="CompositeActorDevice.UTCSample" relation="relation2"/>
    <link port="Supervisor.startup" relation="relation4"/>
    <link port="Supervisor.pause" relation="relation5"/>
    <link port="Supervisor.resume" relation="relation6"/>
    <link port="eventMonitor.startup" relation="relation4"/>
    <link port="eventMonitor.pause" relation="relation5"/>
    <link port="eventMonitor.resume" relation="relation6"/>
    <link port="eventMonitor.DiscreteSample" relation="relation"/>
    <link port="eventMonitor.UTCSample" relation="relation2"/>
    <link port="eventMonitor.UTCClock" relation="relation8"/>
    <link port="DiscreteClock.output" relation="relation8"/>
    <link port="samplePeriod.input" relation="relation3"/>
    <link port="Const.output" relation="relation3"/>
    <link port="Const.trigger" relation="relation4"/>
</entity>
