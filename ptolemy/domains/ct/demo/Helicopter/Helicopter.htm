<!-- $Id$
  @author: 
-->
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<link href="../../../../../doc/default.css" rel="stylesheet" type="text/css">
<title>Hybrid system demo- 2D-Helicopter Control System</title>
</HEAD>
<BODY>

<H1>2D-Helicopter Control System: A hierarchical hybrid control system</H1>


<P>
 <!-- All of the controls of the applet should be visible when the
applet is displayed on a XGA screen-->
<CENTER>
<!-- The HTML below is for the Java Plugin.  The first
     section is for IE, the second is for Netscape 4, the third for Mozilla 1.0
     For information about applets and Ptolemy, see
	http://ptolemy.eecs.berkeley.edu/ptolemyII/ptIIlatest/ptII/doc/coding/applets.htm
     For information about java versions and applet tags, see:
	http://java.sun.com/products/plugin/versions.html
     We are currently using 1.4.2 because:
        There is a bug under JDK1.4.1 XP with Radeon display cards
        that causes XP to hang when exiting.  For details, see
        http://developer.java.sun.com/developer/bugParade/bugs/4713003.html
 -->
<!-- PT JNLP APPLET CONVERTER -->
<!-- We use both the older applet style and the JDK1.6.0_10 and later
     JNLP Applets.  In this way, we can support pre-JDK1.6.0_10 installs.
     See https://jdk6.dev.java.net/plugin2/jnlp/ -->
<APPLET 
   code = "ptolemy.vergil.VergilApplet"
   codebase = "../../../../.."
   archive = "ptolemy/domains/ct/demo/Helicopter/Helicopter.jar,ptolemy/domains/ct/demo/demo.jar,ptolemy/data/data.jar,ptolemy/domains/fsm/fsm.jar,ptolemy/ptsupport.jar,ptolemy/domains/ct/ct.jar,lib/diva.jar,ptolemy/domains/modal/modal.jar,ptolemy/domains/fsm/fsm.jar,ptolemy/domains/ct/ct.jar,ptolemy/vergil/vergilApplet.jar"
   width = "400"
   height = "650"
   >
  <PARAM name="jnlp_href" value="ptolemy/domains/ct/demo/Helicopter/Helicopter.jnlp">
  <PARAM NAME = "commandLineArguments" VALUE = "-ptinyViewer ptolemy/domains/ct/demo/Helicopter/Helicopter.xml">
  <PARAM NAME = "NAME" VALUE = "Helicopter" >
  <PARAM NAME = "background" VALUE = "#ffffff" >
  <PARAM NAME = "controls" VALUE = "buttons" >
  <PARAM NAME = "orientation" VALUE = "vertical" > \
  <PARAM NAME = "modelURL" VALUE = "Helicopter.xml" > \
  <a href="Helicopter.xml">MoML specification for this model.</a> \
</APPLET>
<!-- /PT JNLP APPLET CONVERTER -->
</CENTER>
This applet models a high-attitude take off motion of a helicopter with a modal controller. Only the motion along longitudinal and vertical axes is considered (so we call it a 2-D helicopter).
<P>
The x, z-axes of the spatial frame are pointing north and down. The body x-axis is defined from the center of gravity to the nose of the helicopter, and body z-axis is pointing down from the center of gravity (CG). The motion of the helicopter is controlled by the main rotor thrust, and the longitudinal tilt path angle.
<P>
Flight modes represent different modes of operation of the helicopter and they correspond to controlling different variables in the dynamic. We define the following flight modes: Hover, Cruise, Acc/ALH, Dec/ALH, Climb, and Descend, where ALH stands for "ALtitude Hold."
<P>
The control uses approximate feedback linearization and pole placement.
The top level system looks like.
<CENTER><img src="toplevel.gif"></CENTER>
<P>
The climb action consists of a sequence of flight modes. Inside the controller
block is the FSM domain, where each FSM state represents a flight mode. Each
flight mode is further refined into a continuous time controller. The model
inside the controller is shown below.
<CENTER><img src="modes.gif"></CENTER>
<p>
This applet is implemented in MoML, as shown in a 
The <a href="HelicopterVergil.htm">Vergil block diagram</a>.
</p>
</BODY>
</HTML>
